webpackJsonp(["main"],{"../../../node_modules/deckar01-task_list/dist/task_list.js":function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,n){var i,r,o,a,s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=function(e){return Array.prototype.slice.apply(e)},o=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentNode;return e},a=function(e,t){var n;return"function"==typeof Event?(n=new Event(e,{bubbles:!0,cancelable:!0}),n.detail=t):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t)),n},r=function(){function e(e){this.el=e,this.container=o(this.el,"js-task-list-container"),this.field=this.container.querySelector(".js-task-list-field"),this.container.addEventListener("change",function(e){return function(t){if(t.target.classList.contains("task-list-item-checkbox"))return e.updateTaskList(t.target)}}(this)),this.enable()}return e.prototype.enable=function(){var e;if(this.container.querySelectorAll(".js-task-list-field").length>0)return i(this.container.querySelectorAll(".task-list-item")).forEach(function(e){return e.classList.add("enabled")}),i(this.container.querySelectorAll(".task-list-item-checkbox")).forEach(function(e){return e.disabled=!1}),this.container.classList.add("is-task-list-enabled"),e=a("tasklist:enabled"),this.container.dispatchEvent(e)},e.prototype.disable=function(){var e;return i(this.container.querySelectorAll(".task-list-item")).forEach(function(e){return e.classList.remove("enabled")}),i(this.container.querySelectorAll(".task-list-item-checkbox")).forEach(function(e){return e.disabled=!0}),this.container.classList.remove("is-task-list-enabled"),e=a("tasklist:disabled"),this.container.dispatchEvent(e)},e.prototype.updateTaskList=function(t){var n,r,o,s;if(o=this.container.querySelectorAll(".task-list-item-checkbox"),s=1+i(o).indexOf(t),n=a("tasklist:change",{index:s,checked:t.checked}),this.field.dispatchEvent(n),!n.defaultPrevented)return this.field.value=e.updateSource(this.field.value,s,t.checked),n=a("change"),this.field.dispatchEvent(n),r=a("tasklist:changed",{index:s,checked:t.checked}),this.field.dispatchEvent(r)},e.incomplete="[ ]",e.complete="[x]",e.escapePattern=function(e){return e.replace(/([\[\]])/g,"\\$1").replace(/\s/,"\\s").replace("x","[xX]")},e.incompletePattern=RegExp(""+e.escapePattern(e.incomplete)),e.completePattern=RegExp(""+e.escapePattern(e.complete)),e.itemPattern=RegExp("^(?:\\s*(?:>\\s*)*(?:[-+*]|(?:\\d+\\.)))\\s*("+e.escapePattern(e.complete)+"|"+e.escapePattern(e.incomplete)+")\\s+(?!\\(.*?\\))(?=(?:\\[.*?\\]\\s*(?:\\[.*?\\]|\\(.*?\\))\\s*)*(?:[^\\[]|$))"),e.startFencesPattern=/^`{3}.*$/,e.endFencesPattern=/^`{3}$/,e.itemsInParasPattern=RegExp("^("+e.escapePattern(e.complete)+"|"+e.escapePattern(e.incomplete)+").+$","g"),e.updateSource=function(e,t,n){var i,r,o,a,l;return i=e.replace(/\r/g,"").replace(this.itemsInParasPattern,"").split("\n"),o=0,r=!1,l=function(){var l,u,c,d;for(c=e.split("\n"),d=[],l=0,u=c.length;l<u;l++)a=c[l],r?a.match(this.endFencesPattern)&&(r=!1):a.match(this.startFencesPattern)?r=!0:s.call(i,a)>=0&&a.match(this.itemPattern)&&(o+=1)===t&&(a=n?a.replace(this.incompletePattern,this.complete):a.replace(this.completePattern,this.incomplete)),d.push(a);return d}.call(this),l.join("\n")},e}(),void 0!==t&&(t.fn.taskList=function(e){return this.each(function(n,i){var o;if((o=t(i).data("task-list"))||(o=new r(i),t(i).data("task-list",o),e&&"enable"!==e))return o[e||"enable"]()})}),e.exports=r}])})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"../../../node_modules/document-register-element/build/document-register-element.node.js":function(e,t,n){(function(t){/*!

Copyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e,t){"use strict";function n(){var e=T.splice(0,T.length);for(Ye=0;e.length;)e.shift().call(null,e.shift())}function i(e,t){for(var n=0,i=e.length;n<i;n++)m(e[n],t)}function r(e){for(var t,n=0,i=e.length;n<i;n++)t=e[n],I(t,ie[a(t)])}function o(e){return function(t){Be(t)&&(m(t,e),i(t.querySelectorAll(re),e))}}function a(e){var t=Re.call(e,"is"),n=e.nodeName.toUpperCase(),i=ae.call(ne,t?Z+t.toUpperCase():J+n);return t&&-1<i&&!s(n,t)?-1:i}function s(e,t){return-1<re.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,n=e.attrChange,i=e.attrName,r=e.target,o=e[G]||2,a=e[Y]||3;!Je||r&&r!==t||!t[$]||"style"===i||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[$](i,n===o?null:e.prevValue,n===a?null:e.newValue)}function u(e){var t=o(e);return function(e){T.push(t,e.target),Ye&&clearTimeout(Ye),Ye=setTimeout(n,1)}}function c(e){Qe&&(Qe=!1,e.currentTarget.removeEventListener(X,c)),i((e.target||_).querySelectorAll(re),e.detail===N?N:q),Ie&&f()}function d(e,t){var n=this;Ue.call(n,e,t),x.call(n,{target:n})}function h(e,t){Ae(e,t),A?A.observe(e,Ve):(Xe&&(e.setAttribute=d,e[B]=D(e),e[P](Q,x)),e[P](K,l)),e[W]&&Je&&(e.created=!0,e[W](),e.created=!1)}function f(){for(var e,t=0,n=Pe.length;t<n;t++)e=Pe[t],oe.contains(e)||(n--,Pe.splice(t--,1),m(e,N))}function p(e){throw new Error("A "+e+" type is already registered")}function m(e,t){var n,i=a(e);-1<i&&(L(e,ie[i]),i=0,t!==q||e[q]?t!==N||e[N]||(e[q]=!1,e[N]=!0,i=1):(e[N]=!1,e[q]=!0,i=1,Ie&&ae.call(Pe,e)<0&&Pe.push(e)),i&&(n=e[t+O])&&n.call(e))}function g(){}function v(e,t,n){var i=n&&n[R]||"",r=t.prototype,o=De(r),a=t.observedAttributes||de,s={prototype:o};Me(o,W,{value:function(){if(Ce)Ce=!1;else if(!this[be]){this[be]=!0,new t(this),r[W]&&r[W].call(this);var e=Ee[xe.get(t)];(!we||e.create.length>1)&&w(this)}}}),Me(o,$,{value:function(e){-1<ae.call(a,e)&&r[$].apply(this,arguments)}}),r[U]&&Me(o,H,{value:r[U]}),r[z]&&Me(o,V,{value:r[z]}),i&&(s[R]=i),e=e.toUpperCase(),Ee[e]={constructor:t,create:i?[i,Se(e)]:[e]},xe.set(t,e),_[M](e.toLowerCase(),s),j(e),Te[e].r()}function b(e){var t=Ee[e.toUpperCase()];return t&&t.constructor}function y(e){return"string"==typeof e?e:e&&e.is||""}function w(e){for(var t,n=e[$],i=n?e.attributes:de,r=i.length;r--;)t=i[r],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function j(e){return e=e.toUpperCase(),e in Te||(Te[e]={},Te[e].p=new _e(function(t){Te[e].r=t})),Te[e].p}function k(){ye&&delete e.customElements,ce(e,"customElements",{configurable:!0,value:new g}),ce(e,"CustomElementRegistry",{configurable:!0,value:g});for(var t=E.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,i;return e||(e=this),e[be]||(Ce=!0,t=Ee[xe.get(e.constructor)],i=we&&1===t.create.length,e=i?Reflect.construct(n,de,t.constructor):_.createElement.apply(_,t.create),e[be]=!0,Ce=!1,i||w(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(i){ve=!0,ce(n,be,{value:e[t]})}}}(t[n]));_.createElement=function(e,t){var n=y(t);return n?We.call(this,e,Se(n)):We.call(this,e)}}var _=e.document,C=e.Object,E=function(e){var t,n,i,r,o=/^[A-Z]+[a-z]/,a=function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n},s=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(C.create||C)(null),u={};for(n in e)for(r in e[n])for(i=e[n][r],l[r]=i,t=0;t<i.length;t++)l[i[t].toLowerCase()]=l[i[t].toUpperCase()]=r;return u.get=function(e){return"string"==typeof e?l[e]||(o.test(e)?[]:""):a(e)},u.set=function(e,t){return o.test(e)?s(e,t):s(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});t||(t="auto");var T,x,S,D,A,F,L,I,M="registerElement",B="__"+M+(1e5*e.Math.random()>>0),P="addEventListener",q="attached",O="Callback",N="detached",R="extends",$="attributeChanged"+O,H=q+O,U="connected"+O,z="disconnected"+O,W="created"+O,V=N+O,G="ADDITION",Y="REMOVAL",K="DOMAttrModified",X="DOMContentLoaded",Q="DOMSubtreeModified",J="<",Z="=",ee=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,te=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ne=[],ie=[],re="",oe=_.documentElement,ae=ne.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},se=C.prototype,le=se.hasOwnProperty,ue=se.isPrototypeOf,ce=C.defineProperty,de=[],he=C.getOwnPropertyDescriptor,fe=C.getOwnPropertyNames,pe=C.getPrototypeOf,me=C.setPrototypeOf,ge=!!C.__proto__,ve=!1,be="__dreCEv1",ye=e.customElements,we="force"!==t&&!!(ye&&ye.define&&ye.get&&ye.whenDefined),je=C.create||C,ke=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ae.call(t,e)]},set:function(i,r){e=ae.call(t,i),e<0?n[t.push(i)-1]=r:n[e]=r}}},_e=e.Promise||function(e){function t(e){for(i=!0;n.length;)n.shift()(e)}var n=[],i=!1,r={catch:function(){return r},then:function(e){return n.push(e),i&&setTimeout(t,1),r}};return e(t),r},Ce=!1,Ee=je(null),Te=je(null),xe=new ke,Se=String,De=C.create||function e(t){return t?(e.prototype=t,new e):this},Ae=me||(ge?function(e,t){return e.__proto__=t,e}:fe&&he?function(){function e(e,t){for(var n,i=fe(t),r=0,o=i.length;r<o;r++)n=i[r],le.call(e,n)||ce(e,n,he(t,n))}return function(t,n){do{e(t,n)}while((n=pe(n))&&!ue.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Fe=e.MutationObserver||e.WebKitMutationObserver,Le=(e.HTMLElement||e.Element||e.Node).prototype,Ie=!ue.call(Le,oe),Me=Ie?function(e,t,n){return e[t]=n.value,e}:ce,Be=Ie?function(e){return 1===e.nodeType}:function(e){return ue.call(Le,e)},Pe=Ie&&[],qe=Le.attachShadow,Oe=Le.cloneNode,Ne=Le.dispatchEvent,Re=Le.getAttribute,$e=Le.hasAttribute,He=Le.removeAttribute,Ue=Le.setAttribute,ze=_.createElement,We=ze,Ve=Fe&&{attributes:!0,characterData:!0,attributeOldValue:!0},Ge=Fe||function(e){Xe=!1,oe.removeEventListener(K,Ge)},Ye=0,Ke=!1,Xe=!0,Qe=!0,Je=!0;if(M in _||(me||ge?(L=function(e,t){ue.call(t,e)||h(e,t)},I=h):(L=function(e,t){e[B]||(e[B]=C(!0),h(e,t))},I=L),Ie?(Xe=!1,function(){var e=he(Le,P),t=e.value,n=function(e){var t=new CustomEvent(K,{bubbles:!0});t.attrName=e,t.prevValue=Re.call(this,e),t.newValue=null,t[Y]=t.attrChange=2,He.call(this,e),Ne.call(this,t)},i=function(e,t){var n=$e.call(this,e),i=n&&Re.call(this,e),r=new CustomEvent(K,{bubbles:!0});Ue.call(this,e,t),r.attrName=e,r.prevValue=n?i:null,r.newValue=t,n?r.MODIFICATION=r.attrChange=1:r[G]=r.attrChange=0,Ne.call(this,r)},r=function(e){var t,n=e.currentTarget,i=n[B],r=e.propertyName;i.hasOwnProperty(r)&&(i=i[r],t=new CustomEvent(K,{bubbles:!0}),t.attrName=i.name,t.prevValue=i.value||null,t.newValue=i.value=n[r]||null,null==t.prevValue?t[G]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,Ne.call(n,t))};e.value=function(e,o,a){e===K&&this[$]&&this.setAttribute!==i&&(this[B]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,t.call(this,"propertychange",r)),t.call(this,e,o,a)},ce(Le,P,e)}()):Fe||(oe[P](K,Ge),oe.setAttribute(B,1),oe.removeAttribute(B),Xe&&(x=function(e){var t,n,i,r=this;if(r===e.target){t=r[B],r[B]=n=D(r);for(i in n){if(!(i in t))return S(0,r,i,t[i],n[i],G);if(n[i]!==t[i])return S(1,r,i,t[i],n[i],"MODIFICATION")}for(i in t)if(!(i in n))return S(2,r,i,t[i],n[i],Y)}},S=function(e,t,n,i,r,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:i,newValue:r};a[o]=e,l(a)},D=function(e){for(var t,n,i={},r=e.attributes,o=0,a=r.length;o<a;o++)t=r[o],"setAttribute"!==(n=t.name)&&(i[n]=t.value);return i})),_[M]=function(e,t){if(n=e.toUpperCase(),Ke||(Ke=!0,Fe?(A=function(e,t){function n(e,t){for(var n=0,i=e.length;n<i;t(e[n++]));}return new Fe(function(i){for(var r,o,a,s=0,l=i.length;s<l;s++)r=i[s],"childList"===r.type?(n(r.addedNodes,e),n(r.removedNodes,t)):(o=r.target,Je&&o[$]&&"style"!==r.attributeName&&(a=Re.call(o,r.attributeName))!==r.oldValue&&o[$](r.attributeName,r.oldValue,a))})}(o(q),o(N)),F=function(e){return A.observe(e,{childList:!0,subtree:!0}),e},F(_),qe&&(Le.attachShadow=function(){return F(qe.apply(this,arguments))})):(T=[],_[P]("DOMNodeInserted",u(q)),_[P]("DOMNodeRemoved",u(N))),_[P](X,c),_[P]("readystatechange",c),Le.cloneNode=function(e){var t=Oe.call(this,!!e),n=a(t);return-1<n&&I(t,ie[n]),e&&r(t.querySelectorAll(re)),t}),-2<ae.call(ne,Z+n)+ae.call(ne,J+n)&&p(e),!ee.test(n)||-1<ae.call(te,n))throw new Error("The type "+e+" is invalid");var n,s,l=function(){return h?_.createElement(f,n):_.createElement(f)},d=t||se,h=le.call(d,R),f=h?t[R].toUpperCase():n;return h&&-1<ae.call(ne,J+f)&&p(f),s=ne.push((h?Z:J)+n)-1,re=re.concat(re.length?",":"",h?f+'[is="'+e.toLowerCase()+'"]':f),l.prototype=ie[s]=le.call(d,"prototype")?d.prototype:De(Le),i(_.querySelectorAll(re),q),l},_.createElement=We=function(e,t){var n=y(t),i=n?ze.call(_,e,Se(n)):ze.call(_,e),r=""+e,o=ae.call(ne,(n?Z:J)+(n||r).toUpperCase()),a=-1<o;return n&&(i.setAttribute("is",n=n.toLowerCase()),a&&(a=s(r.toUpperCase(),n))),Je=!_.createElement.innerHTMLHelper,a&&I(i,ie[o]),i}),g.prototype={constructor:g,define:we?function(e,t,n){if(n)v(e,t,n);else{var i=e.toUpperCase();Ee[i]={constructor:t,create:[i]},xe.set(t,i),ye.define(e,t)}}:v,get:we?function(e){return ye.get(e)||b(e)}:b,whenDefined:we?function(e){return _e.race([ye.whenDefined(e),j(e)])}:j},ye&&"force"!==t)try{!function(t,n,i){if(n[R]="a",t.prototype=De(HTMLAnchorElement.prototype),t.prototype.constructor=t,e.customElements.define(i,t,n),Re.call(_.createElement("a",{is:i}),"is")!==i||we&&Re.call(new t,"is")!==i)throw n}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){k()}else k();try{ze.call(_,"a","a")}catch(e){Se=function(e){return{is:e}}}}e.exports=n,n(t)}).call(t,n("../../../node_modules/webpack/buildin/global.js"))},"../../../node_modules/dropzone/dist/dropzone.js":function(e,t,n){(function(e,t){(function(){var n,i,r,o,a,s,l,u,c=[].slice,d={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var i in t)d.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=function(){},i=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,r,o;if(i=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,o=n.length;r<o;r++)t=n[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=r=0,o=n.length;r<o;i=++r)if(n[i]===t){n.splice(i,1);break}return this},e}(),n=function(e){function t(e,i){var r,o,a;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,r=null!=(a=t.optionsForElement(this.element))?a:{},this.options=n({},this.defaultOptions,r,null!=i?i:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=t.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=t.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return h(t,e),t.prototype.Emitter=i,t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,n,i,r,o,a;for(this.element.className=this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),r=0,o=a.length;r<o;r++)e=a[r],/(^| )dz-message($| )/.test(e.className)&&(n=e,e.className="dz-message");return n||(n=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),i=n.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n,i,r,o,a,s,l,u,c,d,h,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=d.length;o<l;o++)n=d[o],n.textContent=e.name;for(h=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,u=h.length;a<u;a++)n=h[a],n.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(n){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],s=0,c=f.length;s<c;s++)r=f[s],p.push(r.addEventListener("click",i));return p}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=o.length;i<r;i++)n=o[i],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(e,t){var n,i,r,o,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],i=0,r=o.length;i<r;i++)n=o[i],a.push(n.textContent=t);return a}},errormultiple:l,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(e,t,n){var i,r,o,a,s;if(e.previewElement){for(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],r=0,o=a.length;r<o;r++)i=a[r],"PROGRESS"===i.nodeName?s.push(i.value=t):s.push(i.style.width=t+"%");return s}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,n,i,r,o,a;for(i=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],o=0,a=n.length;o<a;o++){t=n[o];for(e in t)r=t[e],i[e]=r}return i},t.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted&&r.push(e);return r},t.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.accepted||r.push(e);return r},t.prototype.getFilesWithStatus=function(e){var t,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;n<i;n++)t=r[n],t.status===e&&o.push(t);return o},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(t.UPLOADING)},t.prototype.getAddedFiles=function(){return this.getFilesWithStatus(t.ADDED)},t.prototype.getActiveFiles=function(){var e,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;n<i;n++)e=r[n],e.status!==t.UPLOADING&&e.status!==t.QUEUED||o.push(e);return o},t.prototype.init=function(){var e,n,i,r,o,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,r,o;if(n=e.hiddenFileInput.files,n.length)for(r=0,o=n.length;r<o;r++)t=n[r],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,r=0,o=s.length;r<o;r++)e=s[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),n=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return n(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var i;try{i=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",n(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return n(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(n){return e.listeners.push({element:n,events:{click:function(i){return(n!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,o,a,s;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),o=0,a=s.length;o<a;o++)t=s[o],i+=t.upload.bytesSent,n+=t.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},t.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},t.prototype.getFallbackForm=function(){var e,n,i,r;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',n=t.createElement(i),"FORM"!==this.element.tagName?(r=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:n)},t.prototype.getExistingFallback=function(){var e,t,n,i,r,o;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],i=0,r=o.length;i<r;i++)if(n=o[i],e=t(this.element.getElementsByTagName(n)))return e},t.prototype.setupEventListeners=function(){var e,t,n,i,r,o,a;for(o=this.listeners,a=[],i=0,r=o.length;i<r;i++)e=o[i],a.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return a},t.prototype.removeEventListeners=function(){var e,t,n,i,r,o,a;for(o=this.listeners,a=[],i=0,r=o.length;i<r;i++)e=o[i],a.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return a},t.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(this.cancelUpload(e));return r},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t,n,i,r,o,a,s,l;if(i=0,r="b",e>0){for(a=["TB","GB","MB","KB","b"],n=s=0,l=a.length;s<l;n=++s)if(o=a[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),r=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+r},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},t.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},t.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(this.addFile(t));return r},t.prototype._addFilesFromItems=function(e){var t,n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},t.prototype._addFilesFromDirectory=function(e,t){var n,i;return n=e.createReader(),i=function(e){return function(n){var i,r,o;for(r=0,o=n.length;r<o;r++)i=n[r],i.isFile?i.file(function(n){if(!e.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=t+"/"+n.name,e.addFile(n)}):i.isDirectory&&e._addFilesFromDirectory(i,t+"/"+i.name)}}(this),n.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},t.prototype.accept=function(e,n){return e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},t.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},t.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},t.prototype.removeFile=function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=u(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},t.prototype.removeAllFiles=function(e){var n,i,r,o;for(null==e&&(e=!1),o=this.files.slice(),i=0,r=o.length;i<r;i++)n=o[i],(n.status!==t.UPLOADING||e)&&this.removeFile(n);return null},t.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},t.prototype.createThumbnailFromUrl=function(e,t,n,i){var r;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=function(t){return function(){var i,o,a,l,u,c,d,h;if(e.width=r.width,e.height=r.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,s(o,r,null!=(u=a.srcX)?u:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(d=a.trgX)?d:0,null!=(h=a.trgY)?h:0,a.trgWidth,a.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n)return n()}}(this),null!=n&&(r.onerror=n),r.src=t},t.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var n,i,r;for(i=0,r=e.length;i<r;i++)n=e[i],n.processing=!0,n.status=t.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t;return function(){var n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;n<i;n++)t=r[n],t.xhr===e&&o.push(t);return o}.call(this)},t.prototype.cancelUpload=function(e){var n,i,r,o,a,s,l;if(e.status===t.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),r=0,a=i.length;r<a;r++)n=i[r],n.status=t.CANCELED;for(e.xhr.abort(),o=0,s=i.length;o<s;o++)n=i[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==t.ADDED&&l!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var i,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,_,C,E,T,x,S,D,A,F,L,I,M,B,P,q;for(k=new XMLHttpRequest,_=0,x=e.length;_<x;_++)i=e[_],i.xhr=k;m=r(this.options.method,e),w=r(this.options.url,e),k.open(m,w,!0),k.withCredentials=!!this.options.withCredentials,b=null,a=function(t){return function(){var n,r,o;for(o=[],n=0,r=e.length;n<r;n++)i=e[n],o.push(t._errorProcessing(e,b||t.options.dictResponseError.replace("{{statusCode}}",k.status),k));return o}}(this),y=function(t){return function(n){var r,o,a,s,l,u,c,d,h;if(null!=n)for(o=100*n.loaded/n.total,a=0,u=e.length;a<u;a++)i=e[a],i.upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(r=!0,o=100,s=0,c=e.length;s<c;s++)i=e[s],100===i.upload.progress&&i.upload.bytesSent===i.upload.total||(r=!1),i.upload.progress=o,i.upload.bytesSent=i.upload.total;if(r)return}for(h=[],l=0,d=e.length;l<d;l++)i=e[l],h.push(t.emit("uploadprogress",i,o,i.upload.bytesSent));return h}}(this),k.onload=function(n){return function(i){var r;if(e[0].status!==t.CANCELED&&4===k.readyState){if(b=k.responseText,k.getResponseHeader("content-type")&&~k.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(e){i=e,b="Invalid JSON response from server."}return y(),200<=(r=k.status)&&r<300?n._finished(e,b,i):a()}}}(this),k.onerror=function(n){return function(){if(e[0].status!==t.CANCELED)return a()}}(),v=null!=(L=k.upload)?L:k,v.onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(u,this.options.headers);for(s in u)(l=u[s])&&k.setRequestHeader(s,l);if(o=new FormData,this.options.params){I=this.options.params;for(p in I)j=I[p],o.append(p,j)}for(C=0,S=e.length;C<S;C++)i=e[C],this.emit("sending",i,k,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,k,o),"FORM"===this.element.tagName)for(M=this.element.querySelectorAll("input, textarea, select, button"),E=0,D=M.length;E<D;E++)if(d=M[E],h=d.getAttribute("name"),f=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(B=d.options,T=0,A=B.length;T<A;T++)g=B[T],g.selected&&o.append(h,g.value);else(!f||"checkbox"!==(P=f.toLowerCase())&&"radio"!==P||d.checked)&&o.append(h,d.value);for(c=F=0,q=e.length-1;0<=q?F<=q:F>=q;c=0<=q?++F:--F)o.append(this._getParamName(c),e[c],e[c].name);return this.submitRequest(k,o,e)},t.prototype.submitRequest=function(e,t,n){return e.send(t)},t.prototype._finished=function(e,n,i){var r,o,a;for(o=0,a=e.length;o<a;o++)r=e[o],r.status=t.SUCCESS,this.emit("success",r,n,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t.prototype._errorProcessing=function(e,n,i){var r,o,a;for(o=0,a=e.length;o<a;o++)r=e[o],r.status=t.ERROR,this.emit("error",r,n,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t}(i),n.version="4.2.0",n.options={},n.optionsForElement=function(e){return e.getAttribute("id")?n.options[r(e.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},n.autoDiscover=!0,n.discover=function(){var e,t,i,r,o,a;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],e=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;n<r;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(i.push(t)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),a=[],r=0,o=i.length;r<o;r++)t=i[r],!1!==n.optionsForElement(t)?a.push(new n(t)):a.push(void 0);return a},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var e,t,i,r,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=n.blacklistedBrowsers,i=0,r=o.length;i<r;i++)t=o[i],t.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},u=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)(n=e[i])!==t&&o.push(n);return o},r=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},n.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},n.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},n.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(e,t){var n,i,r,o,a,s,l;if(e instanceof Array){i=[];try{for(r=0,a=e.length;r<a;r++)n=e[r],i.push(this.getElement(n,t))}catch(e){e,i=null}}else if("string"==typeof e)for(i=[],l=document.querySelectorAll(e),o=0,s=l.length;o<s;o++)n=l[o],i.push(n);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},n.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},n.isValidFile=function(e,t){var n,i,r,o,a;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),o=0,a=t.length;o<a;o++)if(r=t[o],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},void 0!==e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new n(this,e)})}),void 0!==t&&null!==t?t.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",a=function(e){var t,n,i,r,o,a,s,l,u;for(e.naturalWidth,a=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=a,i=n.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,a).data,u=0,o=a,s=a;s>u;)t=r[4*(s-1)+3],0===t?o=s:u=s,s=o+u>>1;return l=s/a,0===l?1:l},s=function(e,t,n,i,r,o,s,l,u,c){var d;return d=a(t),e.drawImage(t,n,i,r,o,s,l,u,c/d)},o=function(e,t){var n,i,r,o,a,s,l,u,c;if(r=!1,c=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[l](s+n.type,o,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0},a=function(){try{u.doScroll("left")}catch(e){return e,void setTimeout(a,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(e){}c&&a()}return i[n](s+"DOMContentLoaded",o,!1),i[n](s+"readystatechange",o,!1),e[n](s+"load",o,!1)}},n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()},o(window,n._autoDiscoverFunction)}).call(this)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"),n("../../../node_modules/webpack/buildin/module.js")(e))},"../../../node_modules/js-cookie/src/js.cookie.js":function(e,t,n){var i,r;!function(o){var a=!1;if(i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=s,l}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}return r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var d=l[c].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var f=d[0].replace(u,decodeURIComponent);if(h=n.read?n.read(h,f):n(h,f)||h.replace(u,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===f){a=h;break}t||(a[f]=h)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})})},"../../../node_modules/mousetrap/mousetrap.js":function(e,t,n){var i,r;!function(o,a,s){function l(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function u(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return A[e.which]?A[e.which]:F[e.which]?F[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e,t){return e.sort().join(",")===t.sort().join(",")}function d(e){e=e||{};var t,n=!1;for(t in P)e[t]?n=!0:P[t]=0;n||(N=!1)}function h(e,t,n,i,r,o){var a,s,l=[],u=n.type;if(!M[e])return[];for("keyup"==u&&y(e)&&(t=[e]),a=0;a<M[e].length;++a)if(s=M[e][a],(i||!s.seq||P[s.seq]==s.level)&&u==s.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||c(t,s.modifiers))){var d=!i&&s.combo==r,h=i&&s.seq==i&&s.level==o;(d||h)&&M[e].splice(a,1),l.push(s)}return l}function f(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function p(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function m(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function g(e,t,n,i){$.stopCallback(t,t.target||t.srcElement,n,i)||!1===e(t,n)&&(p(t),m(t))}function v(e,t,n){var i,r=h(e,t,n),o={},a=0,s=!1;for(i=0;i<r.length;++i)r[i].seq&&(a=Math.max(a,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=a)continue;s=!0,o[r[i].seq]=1,g(r[i].callback,n,r[i].combo,r[i].seq)}else s||g(r[i].callback,n,r[i].combo);var l="keypress"==n.type&&O;n.type!=N||y(e)||l||d(o),O=s&&"keydown"==n.type}function b(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=u(e);if(t)return"keyup"==e.type&&q===t?void(q=!1):void $.handleKey(t,f(e),e)}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function w(){clearTimeout(D),D=setTimeout(d,1e3)}function j(){if(!S){S={};for(var e in A)e>95&&e<112||A.hasOwnProperty(e)&&(S[A[e]]=e)}return S}function k(e,t,n){return n||(n=j()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function _(e,t,n,i){function r(t){g(n,t,e),"keyup"!==i&&(q=u(t)),setTimeout(d,10)}P[e]=0;for(var o=0;o<t.length;++o){var a=o+1===t.length,s=a?r:function(t){return function(){N=t,++P[e],w()}}(i||E(t[o+1]).action);T(t[o],s,i,e,o)}}function C(e){return"+"===e?["+"]:e.split("+")}function E(e,t){var n,i,r,o=[];for(n=C(e),r=0;r<n.length;++r)i=n[r],I[i]&&(i=I[i]),t&&"keypress"!=t&&L[i]&&(i=L[i],o.push("shift")),y(i)&&o.push(i);return t=k(i,o,t),{key:i,modifiers:o,action:t}}function T(e,t,n,i,r){B[e+":"+n]=t,e=e.replace(/\s+/g," ");var o,a=e.split(" ");if(a.length>1)return void _(e,a,t,n);o=E(e,n),M[o.key]=M[o.key]||[],h(o.key,o.modifiers,{type:o.action},i,e,r),M[o.key][i?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:i,level:r,combo:e})}function x(e,t,n){for(var i=0;i<e.length;++i)T(e[i],t,n)}for(var S,D,A={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},F={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},I={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M={},B={},P={},q=!1,O=!1,N=!1,R=1;R<20;++R)A[111+R]="f"+R;for(R=0;R<=9;++R)A[R+96]=R;l(a,"keypress",b),l(a,"keydown",b),l(a,"keyup",b);var $={bind:function(e,t,n){return e=e instanceof Array?e:[e],x(e,t,n),this},unbind:function(e,t){return $.bind(e,function(){},t)},trigger:function(e,t){return B[e+":"+t]&&B[e+":"+t]({},e),this},reset:function(){return M={},B={},this},stopCallback:function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:v};o.Mousetrap=$,i=$,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}(window,document)},"../../../node_modules/mousetrap/plugins/pause/mousetrap-pause.js":function(e,t){Mousetrap=function(e){var t=e,n=t.stopCallback,i=!0;return t.stopCallback=function(e,t,r){return!i||n(e,t,r)},t.pause=function(){i=!1},t.unpause=function(){i=!0},t}(Mousetrap)},"../../../node_modules/pikaday/pikaday.js":function(e,t,n){/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,i){"use strict";var r;try{r=n(!function(){var e=new Error('Cannot find module "moment"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=i(r)}(0,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},a=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},s=function(e,t,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(t,!0,!1),r=y(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=y(r,n),e.fireEvent("on"+t,r))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},h=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4==0&&e%100!=0||e%400==0},g=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){f(e)&&e.setHours(0,0,0,0)},b=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var i,r;for(i in t)r=void 0!==e[i],r&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):h(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=y({},t[i],n):!n&&r||(e[i]=t[i]);return e},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},j={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},k=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},C=function(e,t,n){var i=new Date(n,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7)+"</td>"},E=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},T=function(e){return"<tbody>"+e.join("")+"</tbody>"},x=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+k(e,t)+'">'+k(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},S=function(e,t,n,i,r,o){var a,s,l,u,c,d=e._o,f=n===d.minYear,p=n===d.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===r?a-t:12+a-t)+'"'+(a===i?' selected="selected"':"")+(f&&a<d.minMonth||p&&a>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[a]+"</option>");for(u='<div class="pika-label">'+d.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",h(d.yearRange)?(a=d.yearRange[0],s=d.yearRange[1]+1):(a=n-d.yearRange,s=1+n+d.yearRange),l=[];a<s&&a<=d.maxYear;a++)a>=d.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return c='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",d.showMonthAfterYear?m+=c+u:m+=u+c,f&&(0===i||d.minMonth>=i)&&(g=!1),p&&(11===i||d.maxMonth<=i)&&(v=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),m+="</div>"},D=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+x(e)+T(t)+"</table>"},A=function(a){var s=this,l=s.config(a);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(u(t,"is-disabled")||(!u(t,"pika-button")||u(t,"is-empty")||u(t.parentNode,"is-disabled")?u(t,"pika-prev")?s.prevMonth():u(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&r(function(){s.hide(),l.field&&l.field.blur()},100))),u(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(u(t,"pika-select-month")?s.gotoMonth(t.value):u(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:l.field.blur();break;case 37:e.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var i;n.firedBy!==s&&(t?(i=e(l.field.value,l.format,l.formatStrict),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),f(i)&&s.setDate(i),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=i.activeElement;do{if(u(e,"pika-single"))return}while(e=e.parentNode);s._c||(s._b=r(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do{if(u(i,"pika-single")||i===l.trigger)return}while(i=i.parentNode);s._v&&t!==l.trigger&&i!==l.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"touchend",s._onMouseDown,!0),o(s.el,"change",s._onChange),o(i,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?i.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(t&&l.field.value?l.defaultDate=e(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return A.prototype={config:function(e){this._o||(this._o=y({},j,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),h(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||j.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):new Date},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&e<n?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(n,i){var r,o=this.getDate(),a=24*parseInt(i)*60*60*1e3;"add"===n?r=new Date(o.valueOf()+a):"subtract"===n&&(r=new Date(o.valueOf()-a)),t&&("add"===n?r=e(o).add(i,"days").toDate():"subtract"===n&&(r=e(o).subtract(i,"days").toDate())),this.setDate(r)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=j.minDate,this._o.minYear=j.minYear,this._o.minMonth=j.minMonth,this._o.startRange=j.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=j.maxDate,this._o.maxYear=j.maxYear,this._o.maxMonth=j.maxMonth,this._o.endRange=j.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,i=n.minYear,o=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=i&&(this._y=i,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<n.numberOfMonths;u++)l+='<div class="pika-lendar">'+S(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&r(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,r,o,a,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,a=window.innerHeight||i.documentElement.clientHeight,s=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)c=e.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&u+r>a+s||this._o.position.indexOf("top")>-1&&u-r-e.offsetHeight>0)&&(u=u-r-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(e,t,n){var i=this._o,r=new Date,o=g(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];v(r),i.firstDay>0&&(a-=i.firstDay)<0&&(a+=7);for(var u=0===t?11:t-1,c=11===t?0:t+1,d=0===t?e-1:e,h=11===t?e+1:e,m=g(d,u),y=o+a,w=y;w>7;)w-=7;y+=7-w;for(var j=0,k=0;j<y;j++){var T=new Date(e,t,j-a+1),x=!!f(this._d)&&b(T,this._d),S=b(T,r),A=j<a||j>=o+a,F=j-a+1,L=t,I=e,M=i.startRange&&b(i.startRange,T),B=i.endRange&&b(i.endRange,T),P=i.startRange&&i.endRange&&i.startRange<T&&T<i.endRange,q=i.minDate&&T<i.minDate||i.maxDate&&T>i.maxDate||i.disableWeekends&&p(T)||i.disableDayFn&&i.disableDayFn(T);A&&(j<a?(F=m+F,L=u,I=d):(F-=o,L=c,I=h));var O={day:F,month:L,year:I,isSelected:x,isToday:S,isDisabled:q,isEmpty:A,isStartRange:M,isEndRange:B,isInRange:P,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(_(O)),7==++k&&(i.showWeekNumber&&l.unshift(C(j-a,t,e)),s.push(E(l,i.isRTL)),l=[],k=0)}return D(i,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A})},"../../../node_modules/timeago.js/dist/timeago.min.js":function(e,t){!function(t,n){"object"==typeof e&&e.exports?e.exports=n():t.timeago=n()}("undefined"!=typeof window?window:this,function(){function e(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(t(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(t(e))}function t(e){return parseInt(e)}function n(e,n,i){n=d[n]?n:d[i]?i:"en";var r=0,o=e<0?1:0;for(e=Math.abs(e);e>=h[r]&&r<f;r++)e/=h[r];return e=t(e),r*=2,e>(0===r?9:1)&&(r+=1),d[n](e,r)[o].replace("%s",e)}function i(t,n){return((n=n?e(n):new Date)-e(t))/1e3}function r(e){for(var t=1,n=0,i=Math.abs(e);e>=h[n]&&n<f;n++)e/=h[n],t*=h[n];return i%=t,i=i?t-i:t,Math.ceil(i)}function o(e){return e.dataset.timeago?e.dataset.timeago:e.getAttribute?e.getAttribute(p):e.attr?e.attr(p):void 0}function a(e,t){function a(o,l,u,c){var d=i(l,e);o.innerHTML=n(d,u,t),s["k"+c]=setTimeout(function(){a(o,l,u,c)},Math.min(1e3*r(d),2147483647))}var s={};return t||(t="en"),this.format=function(r,o){return n(i(r,e),o,t)},this.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0;n<e.length;n++)a(e[n],o(e[n]),t,++l)},this.cancel=function(){for(var e in s)clearTimeout(s[e]);s={}},this.setLocale=function(e){t=e},this}function s(e,t){return new a(e,t)}var l=0,u="second_minute_hour_day_week_month_year".split("_"),c="______".split("_"),d={en:function(e,t){if(0===t)return["just now","right now"];var n=u[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["",""];var n=c[parseInt(t/2)];return[e+n+"",e+n+""]}},h=[60,60,24,7,365/7/12,12],f=6,p="datetime";return s.register=function(e,t){d[e]=t},s})},"../../../node_modules/underscore/underscore.js":function(e,t,n){var i,r;(function(){function n(e){function t(t,n,i,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=_(i,o,4);var a=!A(n)&&k.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,s)}}function o(e){return function(t,n,i){n=C(n,i);for(var r=D(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(i,r,o){var a=0,s=D(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(p.call(i,a,s),k.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}}function s(e,t){var n=B.length,i=e.constructor,r=k.isFunction(i)&&i.prototype||d,o="constructor";for(k.has(e,o)&&!k.contains(t,o)&&t.push(o);n--;)(o=B[n])in e&&e[o]!==r[o]&&!k.contains(t,o)&&t.push(o)}var l=this,u=l._,c=Array.prototype,d=Object.prototype,h=Function.prototype,f=c.push,p=c.slice,m=d.toString,g=d.hasOwnProperty,v=Array.isArray,b=Object.keys,y=h.bind,w=Object.create,j=function(){},k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};void 0!==e&&e.exports&&(t=e.exports=k),t._=k,k.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?k.identity:k.isFunction(e)?_(e,t,n):k.isObject(e)?k.matcher(e):k.property(e)};k.iteratee=function(e,t){return C(e,t,1/0)};var E=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},T=function(e){if(!k.isObject(e))return{};if(w)return w(e);j.prototype=e;var t=new j;return j.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,D=x("length"),A=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=S};k.each=k.forEach=function(e,t,n){t=_(t,n);var i,r;if(A(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=k.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},k.map=k.collect=function(e,t,n){t=C(t,n);for(var i=!A(e)&&k.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(e,t,n){var i;if(void 0!==(i=A(e)?k.findIndex(e,t,n):k.findKey(e,t,n))&&-1!==i)return e[i]},k.filter=k.select=function(e,t,n){var i=[];return t=C(t,n),k.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},k.reject=function(e,t,n){return k.filter(e,k.negate(C(t)),n)},k.every=k.all=function(e,t,n){t=C(t,n);for(var i=!A(e)&&k.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},k.some=k.any=function(e,t,n){t=C(t,n);for(var i=!A(e)&&k.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},k.contains=k.includes=k.include=function(e,t,n,i){return A(e)||(e=k.values(e)),("number"!=typeof n||i)&&(n=0),k.indexOf(e,t,n)>=0},k.invoke=function(e,t){var n=p.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matcher(t))},k.findWhere=function(e,t){return k.find(e,k.matcher(t))},k.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=A(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])>o&&(o=i)}else t=C(t,n),k.each(e,function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},k.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:k.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])<o&&(o=i)}else t=C(t,n),k.each(e,function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},k.shuffle=function(e){for(var t,n=A(e)?e:k.values(e),i=n.length,r=Array(i),o=0;o<i;o++)t=k.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},k.sample=function(e,t,n){return null==t||n?(A(e)||(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))},k.sortBy=function(e,t,n){return t=C(t,n),k.pluck(k.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var F=function(e){return function(t,n,i){var r={};return n=C(n,i),k.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};k.groupBy=F(function(e,t,n){k.has(e,n)?e[n].push(t):e[n]=[t]}),k.indexBy=F(function(e,t,n){e[n]=t}),k.countBy=F(function(e,t,n){k.has(e,n)?e[n]++:e[n]=1}),k.toArray=function(e){return e?k.isArray(e)?p.call(e):A(e)?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:A(e)?e.length:k.keys(e).length},k.partition=function(e,t,n){t=C(t,n);var i=[],r=[];return k.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},k.first=k.head=k.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:k.initial(e,e.length-t)},k.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},k.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:k.rest(e,Math.max(0,e.length-t))},k.rest=k.tail=k.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var L=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=D(e);a<s;a++){var l=e[a];if(A(l)&&(k.isArray(l)||k.isArguments(l))){t||(l=L(l,t,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};k.flatten=function(e,t){return L(e,t,!1)},k.without=function(e){return k.difference(e,p.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=C(n,i));for(var r=[],o=[],a=0,s=D(e);a<s;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||r.push(l),o=u):n?k.contains(o,u)||(o.push(u),r.push(l)):k.contains(r,l)||r.push(l)}return r},k.union=function(){return k.uniq(L(arguments,!0,!0))},k.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=D(e);i<r;i++){var o=e[i];if(!k.contains(t,o)){for(var a=1;a<n&&k.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},k.difference=function(e){var t=L(arguments,!0,!0,1);return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(e){for(var t=e&&k.max(e,D).length||0,n=Array(t),i=0;i<t;i++)n[i]=k.pluck(e,i);return n},k.object=function(e,t){for(var n={},i=0,r=D(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.findIndex=o(1),k.findLastIndex=o(-1),k.sortedIndex=function(e,t,n,i){n=C(n,i,1);for(var r=n(t),o=0,a=D(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},k.indexOf=a(1,k.findIndex,k.sortedIndex),k.lastIndexOf=a(-1,k.findLastIndex),k.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var I=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=T(e.prototype),a=e.apply(o,r);return k.isObject(a)?a:o};k.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,p.call(arguments,1));if(!k.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return I(e,i,t,this,n.concat(p.call(arguments)))};return i},k.partial=function(e){var t=p.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===k?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return I(e,n,this,this,o)};return n},k.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=k.bind(e[n],e);return e},k.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return k.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},k.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=k.partial(k.delay,k,1),k.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:k.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var u=k.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,r=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,c)),o}},k.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var u=k.now()-a;u<t&&u>=0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=k.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(o,r),o=r=null),s}},k.wrap=function(e,t){return k.partial(t,e)},k.negate=function(e){return function(){return!e.apply(this,arguments)}},k.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},k.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},k.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},k.once=k.partial(k.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(e){if(!k.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return M&&s(e,t),t},k.allKeys=function(e){if(!k.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&s(e,t),t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},k.mapObject=function(e,t,n){t=C(t,n);for(var i,r=k.keys(e),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=t(e[i],i,e);return a},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=E(k.allKeys),k.extendOwn=k.assign=E(k.keys),k.findKey=function(e,t,n){t=C(t,n);for(var i,r=k.keys(e),o=0,a=r.length;o<a;o++)if(i=r[o],t(e[i],i,e))return i},k.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;k.isFunction(t)?(r=k.allKeys(a),i=_(t,n)):(r=L(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];i(c,u,a)&&(o[u]=c)}return o},k.omit=function(e,t,n){if(k.isFunction(t))t=k.negate(t);else{var i=k.map(L(arguments,!1,!1,1),String);t=function(e,t){return!k.contains(i,t)}}return k.pick(e,t,n)},k.defaults=E(k.allKeys,!0),k.create=function(e,t){var n=T(e);return t&&k.extendOwn(n,t),n},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e},k.isMatch=function(e,t){var n=k.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var P=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=m.call(e);if(r!==m.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,i))return!1}else{var u,c=k.keys(e);if(l=c.length,k.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!k.has(t,u)||!P(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};k.isEqual=function(e,t){return P(e,t)},k.isEmpty=function(e){return null==e||(A(e)&&(k.isArray(e)||k.isString(e)||k.isArguments(e))?0===e.length:0===k.keys(e).length)},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=v||function(e){return"[object Array]"===m.call(e)},k.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){k["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return k.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(e){return"function"==typeof e||!1}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!==+e},k.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===m.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return null!=e&&g.call(e,t)},k.noConflict=function(){return l._=u,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.noop=function(){},k.property=x,k.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},k.matcher=k.matches=function(e){return e=k.extendOwn({},e),function(t){return k.isMatch(t,e)}},k.times=function(e,t,n){var i=Array(Math.max(0,e));t=_(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=k.invert(q),N=function(e){var t=function(t){return e[t]},n="(?:"+k.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};k.escape=N(q),k.unescape=N(O),k.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),k.isFunction(i)?i.call(e):i};var R=0;k.uniqueId=function(e){var t=++R+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+H[e]};k.template=function(e,t,n){!t&&n&&(t=n),t=k.defaults({},t,k.templateSettings);var i=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(U,z),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,k)};return s.source="function("+(t.variable||"obj")+"){\n"+o+"}",s},k.chain=function(e){var t=k(e);return t._chain=!0,t};var W=function(e,t){return e._chain?k(t).chain():t};k.mixin=function(e){k.each(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),W(this,n.apply(k,e))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),k.each(["concat","join","slice"],function(e){var t=c[e];k.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return k}.apply(t,i))&&(e.exports=r)}).call(this)},"../../../node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"../../../node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"../../../vendor/assets/javascripts/Sortable.js":function(e,t,n){var i,r;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(o){"use strict";i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=y({},t),e[H]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in t)&&(t[i]=n[i]);te(t);for(var r in this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Y,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),Z.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){C&&C.state!==e&&(l(C,"display",e?"none":""),!e&&C.state&&E.insertBefore(C,j),C.state=e)}function n(e,t,n){if(e){n=n||z;do{if(">*"===t&&e.parentNode===n||v(e,t))return e}while(e=i(e))}return null}function i(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function r(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}function s(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace($," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace($," ")}}function l(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return z.defaultView&&z.defaultView.getComputedStyle?n=z.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function u(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function c(e,t,n,i,r,o,a){e=e||t[H];var s=z.createEvent("Event"),l=e.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=r||t,s.item=i||t,s.clone=C,s.oldIndex=o,s.newIndex=a,t.dispatchEvent(s),l[u]&&l[u].call(e,s)}function d(e,t,n,i,r,o,a){var s,l,u=e[H],c=u.options.onMove;return s=z.createEvent("Event"),s.initEvent("move",!0,!0),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=r||t,s.relatedRect=o||t.getBoundingClientRect(),e.dispatchEvent(s),c&&(l=c.call(u,s,a)),l}function h(e){e.draggable=!1}function f(){X=!1}function p(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&n}function m(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function g(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!v(e,t)||n++;return n}function v(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function b(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function y(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function w(e){return V?V(e).clone(!0)[0]:G&&G.dom?G.dom(e).cloneNode(!0):e.cloneNode(!0)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var j,k,_,C,E,T,x,S,D,A,F,L,I,M,B,P,q,O,N,R={},$=/\s+/g,H="Sortable"+(new Date).getTime(),U=window,z=U.document,W=U.parseInt,V=U.jQuery||U.Zepto,G=U.Polymer,Y=!!("draggable"in z.createElement("div")),K=function(e){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(e=z.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),X=!1,Q=Math.abs,J=Math.min,Z=[],ee=b(function(e,t,n){if(n&&t.scroll){var i,r,o,a,s,l,u=t.scrollSensitivity,c=t.scrollSpeed,d=e.clientX,h=e.clientY,f=window.innerWidth,p=window.innerHeight;if(S!==n&&(x=t.scroll,S=n,D=t.scrollFn,!0===x)){x=n;do{if(x.offsetWidth<x.scrollWidth||x.offsetHeight<x.scrollHeight)break}while(x=x.parentNode)}x&&(i=x,r=x.getBoundingClientRect(),o=(Q(r.right-d)<=u)-(Q(r.left-d)<=u),a=(Q(r.bottom-h)<=u)-(Q(r.top-h)<=u)),o||a||(o=(f-d<=u)-(d<=u),a=(p-h<=u)-(h<=u),(o||a)&&(i=U)),R.vx===o&&R.vy===a&&R.el===i||(R.el=i,R.vx=o,R.vy=a,clearInterval(R.pid),i&&(R.pid=setInterval(function(){if(l=a?a*c:0,s=o?o*c:0,"function"==typeof D)return D.call(_this,s,l,e);i===U?U.scrollTo(U.pageXOffset+s,U.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=s)},24)))}},30),te=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,i){var r=i.options.group.name;return t?e:e&&(e.join?e.indexOf(r)>-1:r==e)}}var n={},i=e.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),e.group=n};return e.prototype={constructor:e,_onTapStart:function(e){var t,i=this,r=this.el,o=this.options,a=e.type,s=e.touches&&e.touches[0],l=(s||e).target,u=e.target.shadowRoot&&e.path[0]||l,d=o.filter;if(!j&&!("mousedown"===a&&0!==e.button||o.disabled)&&(!o.handle||n(u,o.handle,r))&&(l=n(l,o.draggable,r))){if(t=g(l,o.draggable),"function"==typeof d){if(d.call(this,e,l,this))return c(i,u,"filter",l,r,t),void e.preventDefault()}else if(d&&(d=d.split(",").some(function(e){if(e=n(u,e.trim(),r))return c(i,e,"filter",l,r,t),!0})))return void e.preventDefault();this._prepareDragStart(e,s,l,t)}},_prepareDragStart:function(e,t,n,i){var r,a=this,l=a.el,d=a.options,f=l.ownerDocument;n&&!j&&n.parentNode===l&&(q=e,E=l,j=n,k=j.parentNode,T=j.nextSibling,B=d.group,I=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,j.style["will-change"]="transform",r=function(){a._disableDelayedDrag(),j.draggable=a.nativeDraggable,s(j,d.chosenClass,!0),a._triggerDragStart(t),c(a,E,"choose",j,E,I)},d.ignore.split(",").forEach(function(e){u(j,e.trim(),h)}),o(f,"mouseup",a._onDrop),o(f,"touchend",a._onDrop),o(f,"touchcancel",a._onDrop),d.delay?(o(f,"mouseup",a._disableDelayedDrag),o(f,"touchend",a._disableDelayedDrag),o(f,"touchcancel",a._disableDelayedDrag),o(f,"mousemove",a._disableDelayedDrag),o(f,"touchmove",a._disableDelayedDrag),a._dragStartTimer=setTimeout(r,d.delay)):r())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(e,"mouseup",this._disableDelayedDrag),a(e,"touchend",this._disableDelayedDrag),a(e,"touchcancel",this._disableDelayedDrag),a(e,"mousemove",this._disableDelayedDrag),a(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(q={target:j,clientX:e.clientX,clientY:e.clientY},this._onDragStart(q,"touch")):this.nativeDraggable?(o(j,"dragend",this),o(E,"dragstart",this._onDragStart)):this._onDragStart(q,!0);try{z.selection?setTimeout(function(){z.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(E&&j){var t=this.options;s(j,t.ghostClass,!0),s(j,t.dragClass,!1),e.active=this,c(this,E,"start",j,E,I)}},_emulateDragOver:function(){if(O){if(this._lastX===O.clientX&&this._lastY===O.clientY)return;this._lastX=O.clientX,this._lastY=O.clientY,K||l(_,"display","none");var e=z.elementFromPoint(O.clientX,O.clientY),t=e,n=Z.length;if(t)do{if(t[H]){for(;n--;)Z[n]({clientX:O.clientX,clientY:O.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);K||l(_,"display","")}},_onTouchMove:function(t){if(q){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=t.touches?t.touches[0]:t,a=o.clientX-q.clientX+r.x,s=o.clientY-q.clientY+r.y,u=t.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!e.active){if(i&&J(Q(o.clientX-this._lastX),Q(o.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),N=!0,O=o,l(_,"webkitTransform",u),l(_,"mozTransform",u),l(_,"msTransform",u),l(_,"transform",u),t.preventDefault()}},_appendGhost:function(){if(!_){var e,t=j.getBoundingClientRect(),n=l(j),i=this.options;_=j.cloneNode(!0),s(_,i.ghostClass,!1),s(_,i.fallbackClass,!0),s(_,i.dragClass,!0),l(_,"top",t.top-W(n.marginTop,10)),l(_,"left",t.left-W(n.marginLeft,10)),l(_,"width",t.width),l(_,"height",t.height),l(_,"opacity","0.8"),l(_,"position","fixed"),l(_,"zIndex","100000"),l(_,"pointerEvents","none"),i.fallbackOnBody&&z.body.appendChild(_)||E.appendChild(_),e=_.getBoundingClientRect(),l(_,"width",2*t.width-e.width),l(_,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==B.checkPull(this,this,j,e)&&(C=w(j),l(C,"display","none"),E.insertBefore(C,j),c(this,E,"clone",j)),s(j,i.dragClass,!0),t?("touch"===t?(o(z,"touchmove",this._onTouchMove),o(z,"touchend",this._onDrop),o(z,"touchcancel",this._onDrop)):(o(z,"mousemove",this._onTouchMove),o(z,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,j)),o(z,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(i){var r,o,a,s,u=this.el,c=this.options,h=c.group,m=e.active,g=B===h,v=c.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!c.dragoverBubble&&i.stopPropagation()),N=!0,B&&!c.disabled&&(g?v||(s=!E.contains(j)):P===this||B.checkPull(this,m,j,i)&&h.checkPut(this,m,j,i))&&(void 0===i.rootEl||i.rootEl===this.el)){if(ee(i,c,this.el),X)return;if(r=n(i.target,c.draggable,u),o=j.getBoundingClientRect(),P=this,s)return t(!0),k=E,void(C||T?E.insertBefore(j,C||T):v||E.appendChild(j));if(0===u.children.length||u.children[0]===_||u===i.target&&(r=p(u,i))){if(r){if(r.animated)return;a=r.getBoundingClientRect()}t(g),!1!==d(E,u,j,o,r,a,i)&&(j.contains(u)||(u.appendChild(j),k=u),this._animate(o,j),r&&this._animate(a,r))}else if(r&&!r.animated&&r!==j&&void 0!==r.parentNode[H]){A!==r&&(A=r,F=l(r),L=l(r.parentNode)),a=r.getBoundingClientRect();var b,y=a.right-a.left,w=a.bottom-a.top,x=/left|right|inline/.test(F.cssFloat+F.display)||"flex"==L.display&&0===L["flex-direction"].indexOf("row"),S=r.offsetWidth>j.offsetWidth,D=r.offsetHeight>j.offsetHeight,I=(x?(i.clientX-a.left)/y:(i.clientY-a.top)/w)>.5,M=r.nextElementSibling,q=d(E,u,j,o,r,a,i);if(!1!==q){if(X=!0,setTimeout(f,30),t(g),1===q||-1===q)b=1===q;else if(x){var O=j.offsetTop,R=r.offsetTop;b=O===R?r.previousElementSibling===j&&!S||I&&S:r.previousElementSibling===j||j.previousElementSibling===r?(i.clientY-a.top)/w>.5:R>O}else b=M!==j&&!D||I&&D;j.contains(u)||(b&&!M?u.appendChild(j):r.parentNode.insertBefore(j,b?M:r)),k=j.parentNode,this._animate(o,j),this._animate(a,r)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();l(t,"transition","none"),l(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,l(t,"transition","all "+n+"ms"),l(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){l(t,"transition",""),l(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;a(z,"touchmove",this._onTouchMove),a(e,"mouseup",this._onDrop),a(e,"touchend",this._onDrop),a(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(R.pid),clearTimeout(this._dragStartTimer),a(z,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(z,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(N&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),_&&_.parentNode.removeChild(_),j&&(this.nativeDraggable&&a(j,"dragend",this),h(j),j.style["will-change"]="",s(j,this.options.ghostClass,!1),s(j,this.options.chosenClass,!1),E!==k?(M=g(j,i.draggable))>=0&&(c(null,k,"add",j,E,I,M),c(this,E,"remove",j,E,I,M),c(null,k,"sort",j,E,I,M),c(this,E,"sort",j,E,I,M)):(C&&C.parentNode.removeChild(C),j.nextSibling!==T&&(M=g(j,i.draggable))>=0&&(c(this,E,"update",j,E,I,M),c(this,E,"sort",j,E,I,M))),e.active&&(null!=M&&-1!==M||(M=I),c(this,E,"end",j,E,I,M),this.save()))),this._nulling()},_nulling:function(){E=j=k=_=T=C=x=S=q=O=N=M=A=F=P=B=e.active=null},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?j&&(this._onDragOver(e),r(e)):"drop"!==t&&"dragend"!==t||this._onDrop(e)},toArray:function(){for(var e,t=[],i=this.el.children,r=0,o=i.length,a=this.options;r<o;r++)e=i[r],n(e,a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||m(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,r){var o=i.children[r];n(o,this.options.draggable,i)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&te(n)},destroy:function(){var e=this.el;e[H]=null,a(e,"mousedown",this._onTapStart),a(e,"touchstart",this._onTapStart),this.nativeDraggable&&(a(e,"dragover",this),a(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),Z.splice(Z.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:a,css:l,find:u,is:function(e,t){return!!n(e,t,e)},extend:y,throttle:b,closest:n,toggleClass:s,clone:w,index:g},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e})},"../../../vendor/assets/javascripts/autosize.js":function(e,t,n){var i,r,o;/*!
	Autosize 3.0.14
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,a){r=[t,e],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(e,t){"use strict";function n(e){function t(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,d=t,u&&(e.style.overflowY=t),n()}function n(){var t=window.pageYOffset,n=document.body.scrollTop,i=e.style.height;e.style.height="auto";var r=e.scrollHeight+c;if(0===e.scrollHeight)return void(e.style.height=i);e.style.height=r+"px",h=e.clientWidth,document.documentElement.scrollTop=t,document.body.scrollTop=n}function i(){var i=e.style.height;if(n(),window.getComputedStyle(e,null).height!==e.style.height?"visible"!==d&&t("visible"):"hidden"!==d&&t("hidden"),i!==e.style.height){var r=document.createEvent("Event");r.initEvent("autosize:resized",!0,!1),e.dispatchEvent(r)}}var r=void 0===arguments[1]?{}:arguments[1],a=r.setOverflowX,s=void 0===a||a,l=r.setOverflowY,u=void 0===l||l;if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var c=null,d=null,h=e.clientWidth,f=function(){e.clientWidth!==h&&i()},p=function(t){window.removeEventListener("resize",f,!1),e.removeEventListener("input",i,!1),e.removeEventListener("keyup",i,!1),e.removeEventListener("autosize:destroy",p,!1),e.removeEventListener("autosize:update",i,!1),o.delete(e),Object.keys(t).forEach(function(n){e.style[n]=t[n]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",p,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",i,!1),window.addEventListener("resize",f,!1),e.addEventListener("input",i,!1),e.addEventListener("autosize:update",i,!1),o.add(e),s&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),function(){var t=window.getComputedStyle(e,null);d=t.overflowY,"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),c="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(c)&&(c=0),i()}()}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:destroy",!0,!1),e.dispatchEvent(t)}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:update",!0,!1),e.dispatchEvent(t)}}var o="function"==typeof Set?new Set:function(){var e=[];return{has:function(t){return Boolean(e.indexOf(t)>-1)},add:function(t){e.push(t)},delete:function(t){e.splice(e.indexOf(t),1)}}}(),a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(a=function(e){return e},a.destroy=function(e){return e},a.update=function(e){return e}):(a=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},a.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},a.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=a})},"../../../vendor/assets/javascripts/clipboard.js":function(e,t,n){var i,i;/*!
 * clipboard.js v1.4.2
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
!function(t){e.exports=t()}(function(){return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof i&&i;if(!l&&u)return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var i=e("closest"),r=e("component-event"),o=["focus","blur"];n.bind=function(e,t,n,a,s){return-1!==o.indexOf(n)&&(s=!0),r.bind(e,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&a.call(e,n)},s)},n.unbind=function(e,t,n,i){-1!==o.indexOf(t)&&(i=!0),r.unbind(e,t,n,i)}},{closest:2,"component-event":4}],2:[function(e,t,n){var i=e("matches-selector");t.exports=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(i(r,t))return r;r=r.parentNode}}},{"matches-selector":3}],3:[function(e,t,n){function i(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=i},{}],4:[function(e,t,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";n.bind=function(e,t,n,r){return e[i](o+t,n,r||!1),n},n.unbind=function(e,t,n,i){return e[r](o+t,n,i||!1),n}},{}],5:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this,r=function(){i.off(e,r),t.apply(n,arguments)};return this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},t.exports=i},{}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},e.prototype.selectFake=function(){var e=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.selectedText=this.text,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){if("INPUT"===this.target.nodeName||"TEXTAREA"===this.target.nodeName)this.target.select(),this.selectedText=this.target.value;else{var e=document.createRange(),t=window.getSelection();t.removeAllRanges(),e.selectNodeContents(this.target),t.addRange(e),this.selectedText=t.toString()}this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},r(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!=typeof e||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=e}},get:function(){return this._target}}]),e}();n.default=o,t.exports=n.default},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}n.__esModule=!0;var s=e("./clipboard-action"),l=i(s),u=e("delegate-events"),c=i(u),d=e("tiny-emitter"),h=i(d),f=function(e){function t(n,i){r(this,t),e.call(this),this.resolveOptions(i),this.delegateClick(n)}return o(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.delegateClick=function(e){var t=this;this.binding=c.default.bind(document.body,e,"click",function(e){return t.onClick(e)})},t.prototype.undelegateClick=function(){c.default.unbind(document.body,"click",this.binding)},t.prototype.onClick=function(e){this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e.delegateTarget),target:this.target(e.delegateTarget),text:this.text(e.delegateTarget),trigger:e.delegateTarget,emitter:this})},t.prototype.defaultAction=function(e){return a("action",e)},t.prototype.defaultTarget=function(e){var t=a("target",e);if(t)return document.querySelector(t)},t.prototype.defaultText=function(e){return a("text",e)},t.prototype.destroy=function(){this.undelegateClick(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(h.default);n.default=f,t.exports=n.default},{"./clipboard-action":6,"delegate-events":1,"tiny-emitter":5}]},{},[7])(7)})},"../../../vendor/assets/javascripts/date.format.js":function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,n=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,a,s){var l=e;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(a=o,o=void 0),o=o?new Date(o):new Date,isNaN(o))throw SyntaxError("invalid date");a=String(l.masks[a]||a||l.masks.default),"UTC:"==a.slice(0,4)&&(a=a.slice(4),s=!0);var u=s?"getUTC":"get",c=o[u+"Date"](),d=o[u+"Day"](),h=o[u+"Month"](),f=o[u+"FullYear"](),p=o[u+"Hours"](),m=o[u+"Minutes"](),g=o[u+"Seconds"](),v=o[u+"Milliseconds"](),b=s?0:o.getTimezoneOffset(),y={d:c,dd:r(c),ddd:l.i18n.dayNames[d],dddd:l.i18n.dayNames[d+7],m:h+1,mm:r(h+1),mmm:l.i18n.monthNames[h],mmmm:l.i18n.monthNames[h+12],yy:String(f).slice(2),yyyy:f,h:p%12||12,hh:r(p%12||12),H:p,HH:r(p),M:m,MM:r(m),s:g,ss:r(g),l:r(v,3),L:r(v>99?Math.round(v/10):v),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:s?"UTC":(String(o).match(n)||[""]).pop().replace(i,""),o:(b>0?"-":"+")+r(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return a.replace(t,function(e){return e in y?y[e]:e.slice(1,e.length-1)})}}();return e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,n){return e(this,t,n)},e})},"../../../vendor/assets/javascripts/fuzzaldrin-plus.js":function(e,t,n){var i,i;/*!
 * fuzzaldrin-plus.js - 0.3.1
 * https://github.com/jeancroy/fuzzaldrin-plus
 *
 * Copyright 2016 - Jean Christophe Roy
 * Released under the MIT license
 * https://github.com/jeancroy/fuzzaldrin-plus/raw/master/LICENSE.md
 */
!function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof i&&i;if(!l&&u)return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){fuzzaldrinPlus=e("fuzzaldrin-plus")},{"fuzzaldrin-plus":3}],2:[function(e,t,n){(function(){var n,i,r,o;r=e("./scorer"),n=e("./legacy"),i=function(e){return e.candidate},o=function(e,t){return t.score-e.score},e("path").sep,t.exports=function(e,t,a){var s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,_,C,E,T;if(T=null!=a?a:{},h=T.key,m=T.maxResults,p=T.maxInners,s=T.allowErrors,f=T.legacy,y=[],w=null!=p&&p>0?p:e.length,l=!!s,u=null!=h,g=r.prepQuery(t),f)for(v=g.depth>0,d=g.core,_=0,E=e.length;_<E;_++)c=e[_],(j=null!=h?c[h]:c)&&(b=n.score(j,d,v),v||(b=n.basenameScore(j,d,b)),b>0&&y.push({candidate:c,score:b}));else for(k=0,C=e.length;k<C&&(c=e[k],!((j=u?c[h]:c)&&(b=r.score(j,t,g,l))>0)||(y.push({candidate:c,score:b}),--w));k++);return y.sort(o),e=y.map(i),null!=m&&(e=e.slice(0,m)),e}}).call(this)},{"./legacy":4,"./scorer":6,path:7}],3:[function(e,t,n){(function(){var n,i,r,o,a,s;s=e("./scorer"),r=e("./legacy"),i=e("./filter"),o=e("./matcher"),n=e("path").sep,a=null,t.exports={filter:function(e,t,n){return(null!=t?t.length:void 0)&&(null!=e?e.length:void 0)?i(e,t,n):[]},prepQuery:function(e){return s.prepQuery(e)},score:function(e,t,n,i){var o,l,u,c,d,h;return h=null!=i?i:{},o=h.allowErrors,u=h.legacy,(null!=e?e.length:void 0)&&(null!=t?t.length:void 0)?(null==n&&(n=a&&a.query===t?a:a=s.prepQuery(t)),u?(c=n.depth>0,l=n.core,d=r.score(e,l,c),c||(d=r.basenameScore(e,l,d))):d=s.score(e,t,n,!!o),d):0},match:function(e,t,i,r){var l,u,c,d,h;return l=(null!=r?r:{}).allowErrors,e&&t?e===t?function(){h=[];for(var t=0,n=e.length;0<=n?t<n:t>n;0<=n?t++:t--)h.push(t);return h}.apply(this):(null==i&&(i=a&&a.query===t?a:a=s.prepQuery(t)),l||s.isMatch(e,i.core_lw,i.core_up)?(d=e.toLowerCase(),i.query_lw,c=o.match(e,d,i),0===c.length?c:(e.indexOf(n)>-1&&(u=o.basenameMatch(e,d,i),c=o.mergeMatches(c,u)),c)):[]):[]}}}).call(this)},{"./filter":2,"./legacy":4,"./matcher":5,"./scorer":6,path:7}],4:[function(e,t,n){(function(){var t,i;t=e("path").sep,n.basenameScore=function(e,i,r){var o,a,s,l,u,c;for(s=e.length-1;e[s]===t;)s--;for(c=0,l=s,o=null;s>=0;)e[s]===t?(c++,null==o&&(o=e.substring(s+1,l+1))):0===s&&(l<e.length-1?null==o&&(o=e.substring(0,l+1)):null==o&&(o=e)),s--;return o===e?r*=2:o&&(r+=n.score(o,i)),u=c+1,a=Math.max(1,10-u),r*=.01*a},n.score=function(e,n){var r,o,a,s,l,u,c,d,h,f,p,m;if(e===n)return 1;if(i(e,n))return 1;for(f=0,c=n.length,h=e.length,a=0,s=0;a<c;){if(r=n[a++],l=e.indexOf(r.toLowerCase()),p=e.indexOf(r.toUpperCase()),u=Math.min(l,p),-1===u&&(u=Math.max(l,p)),-1===(s=u))return 0;o=.1,e[s]===r&&(o+=.1),0===s||e[s-1]===t?o+=.8:"-"!==(m=e[s-1])&&"_"!==m&&" "!==m||(o+=.7),e=e.substring(s+1,h),f+=o}return((d=f/c)*(c/h)+d)/2},i=function(e,n){if(e[e.length-n.length-1]===t)return e.lastIndexOf(n)===e.length-n.length},n.match=function(e,t,n){var i,r,o,a,s,l,u,c,d,h;if(null==n&&(n=0),e===t)return function(){h=[];for(var t=n,i=n+e.length;n<=i?t<i:t>i;n<=i?t++:t--)h.push(t);return h}.apply(this);for(u=t.length,c=e.length,r=0,o=0,s=[];r<u;){if(i=t[r++],a=e.indexOf(i.toLowerCase()),d=e.indexOf(i.toUpperCase()),l=Math.min(a,d),-1===l&&(l=Math.max(a,d)),-1===(o=l))return[];s.push(n+o),n+=o+1,e=e.substring(o+1,c)}return s}}).call(this)},{path:7}],5:[function(e,t,n){(function(){var t,i;t=e("path").sep,i=e("./scorer"),n.basenameMatch=function(e,i,r){var o,a,s;for(s=e.length-1;e[s]===t;)s--;if(-1===(o=e.lastIndexOf(t,s)))return[];for(a=r.depth;a-- >0;)if(-1===(o=e.lastIndexOf(t,o-1)))return[];return o++,s++,n.match(e.slice(o,s),i.slice(o,s),r,o)},n.mergeMatches=function(e,t){var n,i,r,o,a,s,l;if(a=e.length,0===(s=t.length))return e.slice();if(0===a)return t.slice();for(r=-1,o=0,i=t[o],l=[];++r<a;){for(n=e[r];i<=n&&++o<s;)i<n&&l.push(i),i=t[o];l.push(n)}for(;o<s;)l.push(t[o++]);return l},n.match=function(e,t,n,r){var o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,_,C,E,T,x,S,D,A;for(null==r&&(r=0),k=n.query,_=n.query_lw,v=e.length,w=k.length,u=i.scoreAcronyms(e,t,k,_).score,T=new Array(w),f=new Array(w),s=0,l=1,a=2,o=3,A=new Array(v*w),j=-1,g=-1;++g<w;)T[g]=0,f[g]=0;for(m=-1;++m<v;)for(C=0,x=0,h=0,S=t[m],g=-1;++g<w;)p=0,c=0,E=x,_[g]===S&&(D=i.isWordStart(m,e,t),p=h>0?h:i.scoreConsecutives(e,t,k,_,m,g,D),c=E+i.scoreCharacter(m,g,D,u,p)),x=T[g],h=f[g],C>x?y=a:(C=x,y=l),c>C?(C=c,y=o):p=0,T[g]=C,f[g]=p,A[++j]=C>0?y:s;for(m=v-1,g=w-1,j=m*w+g,d=!0,b=[];d&&m>=0&&g>=0;)switch(A[j]){case l:m--,j-=w;break;case a:g--,j--;break;case o:b.push(m+r),g--,m--,j-=w+1;break;default:d=!1}return b.reverse(),b}}).call(this)},{"./scorer":6,path:7}],6:[function(e,t,n){(function(){var t,i,r,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,_,C,E,T,x,S,D;i=e("path").sep,D=150,v=20,T=13,x=85,c=1.2,m=.75,g=/[ _\-:\/\\]/g,n.coreChars=a=function(e){return e.replace(g,"")},n.score=function(e,t,n,i){var a,s;return null==n&&(n=new r(t)),null==i&&(i=!1),i||d(e,n.core_lw,n.core_up)?(s=e.toLowerCase(),a=l(e,s,n),Math.ceil(o(e,s,n,a))):0},r=function(){function e(e){if(!(null!=e?e.length:void 0))return null;this.query=e,this.query_lw=e.toLowerCase(),this.core=a(e),this.core_lw=this.core.toLowerCase(),this.core_up=S(this.core),this.depth=s(e,e.length)}return e}(),n.prepQuery=function(e){return new r(e)},n.isMatch=d=function(e,t,n){var i,r,o,a,s,l,u;if(o=e.length,a=t.length,!o||a>o)return!1;for(i=-1,r=-1;++r<a;){for(s=t[r],l=n[r];++i<o&&(u=e[i])!==s&&u!==l;);if(i===o)return!1}return!0},l=function(e,t,n){var i,r,o,a,s,l,u,c,d,h,f,g,v,_,C,T,x,S,D,A,F,L,I,M;if(C=n.query,T=n.query_lw,d=e.length,v=C.length,i=b(e,t,C,T),r=i.score,i.count===v)return j(v,d,r,i.pos);if((_=t.indexOf(T))>-1)return k(e,t,C,T,_,v,d);for(A=new Array(v),s=new Array(v),M=E(v,d),h=Math.ceil(m*v)+5,f=h,c=-1;++c<v;)A[c]=0,s[c]=0;for(u=t.indexOf(T[0]),u>-1&&u--,g=t.lastIndexOf(T[v-1],d),g>u&&(d=g+1);++u<d;)for(S=0,D=0,a=0,L=t[u],x=!0,c=-1;++c<v;){if(F=A[c],F>S&&(S=F),l=0,T[c]===L)if(I=p(u,e,t),l=a>0?a:w(e,t,C,T,u,c,I),(o=D+y(u,c,I,r,l))>S)S=o,f=h;else{if(x&&--f<=0)return A[v-1]*M;x=!1}D=F,a=s[c],s[c]=l,A[c]=S}return S*M},n.isWordStart=p=function(e,t,n){var i,r;return 0===e||(i=t[e],r=t[e-1],h(i)||h(r)||i!==n[e]&&r===n[e-1])},n.isWordEnd=f=function(e,t,n,i){var r,o;return e===i-1||(r=t[e],o=t[e+1],h(r)||h(o)||r===n[e]&&o!==n[e+1])},h=function(e){return" "===e||"."===e||"-"===e||"_"===e||"/"===e||"\\"===e},C=function(e){var t;return e<v?100+(t=v-e)*t:Math.max(100+v-e,0)},E=function(e,t){return x/(x+Math.abs(t-e))},j=function(e,t,n,i){return 2*e*(D*n+C(i))*E(e,t)},n.scorePattern=_=function(e,t,n,i,r){var o,a;return a=e,o=6,n===e&&(o+=2),i&&(o+=3),r&&(o+=1),e===t&&(i&&(a+=n===t?2:1),r&&(o+=1)),n+a*(a+o)},n.scoreCharacter=y=function(e,t,n,i,r){var o;return o=C(e),n?o+D*((i>r?i:r)+10):o+D*r},n.scoreConsecutives=w=function(e,t,n,i,r,o,a){var s,l,u,c,d,h,p;for(l=e.length,c=n.length,u=l-r,d=c-o,s=u<d?u:d,r,h=0,p=0,n[o]===e[r]&&h++;++p<s&&i[++o]===t[++r];)n[o]===e[r]&&h++;return 1===p?1+2*h:_(p,c,h,a,f(r,e,t,l))},n.scoreExactMatch=k=function(e,t,n,i,r,o,a){var s,l,u,c,d;for(d=p(r,e,t),d||(u=t.indexOf(i,r+1))>-1&&(d=p(u,e,t))&&(r=u),l=-1,c=0;++l<o;)n[r+l]===e[l]&&c++;return s=f(r+o-1,e,t,a),j(o,a,_(o,o,c,d,s),r)},t=function(){function e(e,t,n){this.score=e,this.pos=t,this.count=n}return e}(),u=new t(0,.1,0),n.scoreAcronyms=b=function(e,n,i,r){var o,a,s,l,c,d,h,f,m;if(l=e.length,c=i.length,!(l>1&&c>1))return u;for(o=0,d=0,f=0,a=-1,s=-1;++s<c;){for(h=r[s];++a<l;)if(h===n[a]&&p(a,e,n)){i[s]===e[a]&&f++,d+=a,o++;break}if(a===l)break}return o<2?u:(m=_(o,c,f,!0,!1),new t(m,d/o,o))},o=function(e,t,n,r){var o,a,u,d,h;if(0===r)return 0;for(h=e.length-1;e[h]===i;)h--;if(-1===(u=e.lastIndexOf(i,h)))return r;for(d=n.depth;d-- >0;)if(-1===(u=e.lastIndexOf(i,u-1)))return r;return u++,h++,a=l(e.slice(u,h),t.slice(u,h),n),(o=.5*T/(T+s(e,h+1)))*a+(1-o)*r*E(0,c*(h-u))},n.countDir=s=function(e,t){var n,r;if(t<1)return 0;for(n=0,r=-1;++r<t&&e[r]===i;);for(;++r<t;)if(e[r]===i)for(n++;++r<t&&e[r]===i;);return n},S=function(e){var t,n,i,r;for(n="",i=0,r=e.length;i<r;i++)t=e[i],n+=t.toUpperCase()[0];return n}}).call(this)},{path:7}],7:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===a(e,-1);return e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),o=i(t.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:8}],8:[function(e,t,n){function i(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&r()}function r(){if(!c){var e=setTimeout(i);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}]},{},[1])},"../../../vendor/assets/javascripts/latinise.js":function(e,t){var n={map:{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"ET","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"E","":"O","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"C","":"E","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"SS","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"A","":"L","":"M","":"V","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"IJ","":"OE","":"A","":"AE","":"B","":"B","":"C","":"D","":"E","":"F","":"G","":"G","":"H","":"I","":"R","":"J","":"K","":"L","":"L","":"M","":"N","":"O","":"OE","":"O","":"OU","":"P","":"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W","":"Y","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"o","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"i","":"j","":"j","":"j","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"et","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"s","":"s","":"s","":"s","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"oo","":"e","":"e","":"o","":"o","":"ou","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"c","":"c","":"e","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"g","":"ss","":"o","":"o","":"u","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"th","":"a","":"ae","":"e","":"g","":"h","":"h","":"h","":"i","":"k","":"l","":"m","":"m","":"oe","":"r","":"r","":"r","":"r","":"t","":"v","":"w","":"y","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"ue","":"um","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"ij","":"oe","":"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x"}};String.prototype.latinise=function(){return this.replace(/[^A-Za-z0-9]/g,function(e){return n.map[e]||e})}},"../../../vendor/assets/javascripts/peek.js":function(e,t,n){(function(e){!function(e){var t,n,i,r,o;n=function(){return e("#peek").data("request-id")},i=function(){return e("#peek").length},o=function(t){var i,r,o,a,s,l;return Object.keys(t.data).forEach(function(n){Object.keys(t.data[n]).forEach(function(u){if(i=t.data[n][u],"queries"==u){r=document.createElement("table");for(var c=0;c<i.length;c+=1)o=document.createElement("tr"),a=document.createElement("td"),s=document.createElement("td"),l=document.createElement("strong"),l.append(i[c].duration+"ms"),a.appendChild(l),o.appendChild(a),s.appendChild(document.createTextNode(i[c].sql)),o.appendChild(s),r.appendChild(o);r.className="table",e("[data-defer-to="+n+"-"+u+"]").html(r)}else e("[data-defer-to="+n+"-"+u+"]").text(t.data[n][u])})}),e(document).trigger("peek:render",[n(),t])},r=function(t){var n;if(!e(t.target).is(":input"))return 96!==t.which||t.metaKey?void 0:(n=e("#peek"),n.hasClass("disabled")?(n.removeClass("disabled"),document.cookie="peek=true; path=/"):(n.addClass("disabled"),document.cookie="peek=false; path=/"))},t=function(){return e.ajax("/-/peek/results",{data:{request_id:n()},success:function(e,t,n){return o(e)},error:function(e,t,n){}})},e(document).on("keypress",r),e(document).on("peek:update",t),e(function(){if(i())return e(this).trigger("peek:update")})}(e)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"../../../vendor/assets/javascripts/peek.performance_bar.js":function(e,t,n){(function(e){var t,n,i,r;t=function(){function t(t){var n,i;null==t&&(t={}),this.el=e("#peek-view-performance-bar .performance-bar");for(n in t)i=t[n],this[n]=i;null==this.width&&(this.width=this.el.width()),null==this.timing&&(this.timing=window.performance.timing)}return t.prototype.appInfo=null,t.prototype.width=null,t.formatTime=function(e){return e>=1e3?(e/1e3).toFixed(3)+"s":e.toFixed(0)+"ms"},t.prototype.render=function(e){var t,n;return null==e&&(e=0),this.el.empty(),this.addBar("frontend","#90d35b","domLoading","domInteractive"),n=this.timing.responseEnd-this.timing.requestStart,e&&e<=n?(t=n-e,this.addBar("latency / receiving","#f1faff",this.timing.requestStart+e,this.timing.requestStart+e+t),this.addBar("app","#90afcf",this.timing.requestStart,this.timing.requestStart+e,this.appInfo)):this.addBar("backend","#c1d7ee","requestStart","responseEnd"),this.addBar("tcp / ssl","#45688e","connectStart","connectEnd"),this.addBar("redirect","#0c365e","redirectStart","redirectEnd"),this.addBar("dns","#082541","domainLookupStart","domainLookupEnd"),this.el},t.prototype.isLoaded=function(){return this.timing.domInteractive},t.prototype.start=function(){return this.timing.navigationStart},t.prototype.end=function(){return this.timing.domInteractive},t.prototype.total=function(){return this.end()-this.start()},t.prototype.addBar=function(n,i,r,o,a){var s,l,u,c,d,h;if("string"==typeof r&&(r=this.timing[r]),"string"==typeof o&&(o=this.timing[o]),null!=r&&null!=o)return c=o-r,u=r-this.start(),l=this.mapH(u),h=this.mapH(c),d=n+": "+t.formatTime(c),s=e("<li></li>",{"data-title":d,"data-toggle":"tooltip","data-container":"body"}),s.css({width:h+"px",left:l+"px",background:i}),this.el.append(s)},t.prototype.mapH=function(e){return e*(this.width/this.total())},t}(),i=function(){var n,i,o,a;return i=e("#peek-server_response_time"),a=Math.round(1e3*i.data("time")),n=new t,n.render(a),o=e("<span>",{"data-toggle":"tooltip","data-title":"Total navigation time for this page.","data-container":"body"}).text(t.formatTime(n.total())),r(o)},r=function(t){return e("#serverstats").html(t)},n=null,e(document).on("pjax:start page:fetch turbolinks:request-start",function(e){return n=e.timeStamp}),e(document).on("pjax:end page:load turbolinks:load",function(i,o){var a,s,l;if(null!=n)return a=i.timeStamp,l=a-n,s=o?parseInt(o.getResponseHeader("X-Runtime")):0,setTimeout(function(){var i,o,u,c;return o=(new Date).getTime(),i=new t({timing:{requestStart:n,responseEnd:a,domLoading:a,domInteractive:o},isLoaded:function(){return!0},start:function(){return n},end:function(){return o}}),i.render(s),c=null!=e.fn.pjax?"PJAX":"Turbolinks",u=e("<span>",{"data-toggle":"tooltip","data-title":c+" navigation time","data-container":"body"}).text(t.formatTime(l)),r(u),n=null},0)}),e(function(){return window.performance?i():e("#peek-view-performance-bar").remove()})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./abuse_reports.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=".abuse-reports .message",r=function(){function r(){t(this,r),e(i).each(this.truncateLongMessage),e(document).off("click",i).on("click",i,this.toggleMessageTruncation)}return n(r,[{key:"truncateLongMessage",value:function(){var t=e(this),n=t.text();n.length>500&&(t.data("original-message",n),t.data("message-truncated","true"),t.text(window.gl.text.truncate(n,500)))}},{key:"toggleMessageTruncation",value:function(){var t=e(this),n=t.data("original-message");n&&("true"===t.data("message-truncated")?(t.data("message-truncated","false"),t.text(n)):(t.data("message-truncated","true"),t.text(n.substr(0,497)+"...")))}}]),r}();window.gl=window.gl||{},window.gl.AbuseReports=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./activities.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("../../../node_modules/js-cookie/src/js.cookie.js"),r=n.n(i),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function n(){var i=this;t(this,n),Pager.init(20,!0,!1,function(e){return e},this.updateTooltips),e(".event-filter-link").on("click",function(e){e.preventDefault(),i.toggleFilter(e.currentTarget),i.reloadActivities()})}return o(n,[{key:"updateTooltips",value:function(){gl.utils.localTimeAgo(e(".js-timeago",".content_list"))}},{key:"reloadActivities",value:function(){e(".content_list").html(""),Pager.init(20,!0,!1,function(e){return e},this.updateTooltips)}},{key:"toggleFilter",value:function(t){var n=e(t),i=n.attr("id").split("_")[0];e(".event-filter .active").removeClass("active"),r.a.set("event_filter",i),n.closest("li").toggleClass("active")}}]),n}();window.gl=window.gl||{},window.gl.Activities=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./admin.js":function(e,t,n){(function(e){window.Admin=function(){function t(){var t,n;e("input#user_force_random_password").on("change",function(t){var n;return n=e("#user_password, #user_password_confirmation"),e(this).attr("checked")?n.val("").attr("disabled",!0):n.removeAttr("disabled")}),e("body").on("click",".js-toggle-colors-link",function(t){return t.preventDefault(),e(".js-toggle-colors-container").toggle()}),e(".log-tabs a").click(function(t){return t.preventDefault(),e(this).tab("show")}),e(".log-bottom").click(function(t){var n;return t.preventDefault(),n=e(".file-content:visible"),n.animate({scrollTop:n.find("ol").height()},"fast")}),t=e(".change-owner-holder"),e(".change-owner-link").bind("click",function(n){return n.preventDefault(),e(this).hide(),t.show()}),e(".change-owner-cancel-link").bind("click",function(n){return n.preventDefault(),t.hide(),e(".change-owner-link").show()}),e("li.project_member").bind("ajax:success",function(){return gl.utils.refreshCurrentPage()}),e("li.group_member").bind("ajax:success",function(){return gl.utils.refreshCurrentPage()}),n=function(){return"file"===e("input[name='blacklist_type']:checked").val()?(e(".blacklist-file").show(),e(".blacklist-raw").hide()):(e(".blacklist-file").hide(),e(".blacklist-raw").show())},e("input[name='blacklist_type']").click(n),n()}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./ajax_loading_spinner.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function i(){t(this,i)}return n(i,null,[{key:"init",value:function(){var t=e(".js-ajax-loading-spinner");t.on("ajax:beforeSend",i.ajaxBeforeSend),t.on("ajax:complete",i.ajaxComplete)}},{key:"ajaxBeforeSend",value:function(t){t.target.setAttribute("disabled","");var n=t.target.querySelector("i"),r=n.className.match(/(fa-)([^\s]+)/g).first();n.dataset.icon=r,i.toggleLoadingIcon(n),e(t.target).off("ajax:beforeSend",i.ajaxBeforeSend)}},{key:"ajaxComplete",value:function(t){t.target.removeAttribute("disabled");var n=t.target.querySelector("i");i.toggleLoadingIcon(n),e(t.target).off("ajax:complete",i.ajaxComplete)}},{key:"toggleLoadingIcon",value:function(e){var t=e.classList;t.toggle(e.dataset.icon),t.toggle("fa-spinner"),t.toggle("fa-spin")}}]),i}();window.gl=window.gl||{},gl.AjaxLoadingSpinner=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./api.js":function(e,t,n){"use strict";var i=n("../../../node_modules/jquery/dist/jquery.js"),r=n.n(i),o={groupsPath:"/api/:version/groups.json",groupPath:"/api/:version/groups/:id.json",namespacesPath:"/api/:version/namespaces.json",groupProjectsPath:"/api/:version/groups/:id/projects.json",projectsPath:"/api/:version/projects.json?simple=true",labelsPath:"/:namespace_path/:project_path/labels",licensePath:"/api/:version/templates/licenses/:key",gitignorePath:"/api/:version/templates/gitignores/:key",gitlabCiYmlPath:"/api/:version/templates/gitlab_ci_ymls/:key",dockerfilePath:"/api/:version/templates/dockerfiles/:key",issuableTemplatePath:"/:namespace_path/:project_path/templates/:type/:key",usersPath:"/api/:version/users.json",group:function(e,t){var n=o.buildUrl(o.groupPath).replace(":id",e);return r.a.ajax({url:n,dataType:"json"}).done(function(e){return t(e)})},groups:function(e,t,n){var i=o.buildUrl(o.groupsPath);return r.a.ajax({url:i,data:Object.assign({search:e,per_page:20},t),dataType:"json"}).done(function(e){return n(e)})},namespaces:function(e,t){var n=o.buildUrl(o.namespacesPath);return r.a.ajax({url:n,data:{search:e,per_page:20},dataType:"json"}).done(function(e){return t(e)})},projects:function(e,t,n){var i=o.buildUrl(o.projectsPath);return r.a.ajax({url:i,data:Object.assign({search:e,per_page:20,membership:!0},t),dataType:"json"}).done(function(e){return n(e)})},newLabel:function(e,t,n,i){var a=o.buildUrl(o.labelsPath).replace(":namespace_path",e).replace(":project_path",t);return r.a.ajax({url:a,type:"POST",data:{label:n},dataType:"json"}).done(function(e){return i(e)}).fail(function(e){return i(e.responseJSON)})},groupProjects:function(e,t,n){var i=o.buildUrl(o.groupProjectsPath).replace(":id",e);return r.a.ajax({url:i,data:{search:t,per_page:20},dataType:"json"}).done(function(e){return n(e)})},licenseText:function(e,t,n){var i=o.buildUrl(o.licensePath).replace(":key",e);return r.a.ajax({url:i,data:t}).done(function(e){return n(e)})},gitignoreText:function(e,t){var n=o.buildUrl(o.gitignorePath).replace(":key",e);return r.a.get(n,function(e){return t(e)})},gitlabCiYml:function(e,t){var n=o.buildUrl(o.gitlabCiYmlPath).replace(":key",e);return r.a.get(n,function(e){return t(e)})},dockerfileYml:function(e,t){var n=o.buildUrl(o.dockerfilePath).replace(":key",e);r.a.get(n,t)},issueTemplate:function(e,t,n,i,a){var s=o.buildUrl(o.issuableTemplatePath).replace(":key",n).replace(":type",i).replace(":project_path",t).replace(":namespace_path",e);r.a.ajax({url:s,dataType:"json"}).done(function(e){return a(null,e)}).fail(a)},users:function(e,t){var n=o.buildUrl(this.usersPath);return o.wrapAjaxCall({url:n,data:Object.assign({search:e,per_page:20},t),dataType:"json"})},buildUrl:function(e){var t="";return null!=gon.relative_url_root&&(t=gon.relative_url_root),t+e.replace(":version",gon.api_version)},wrapAjaxCall:function(e){return new Promise(function(t,n){r.a.ajax(e).then(function(e){return t(e)},function(t,i,r){var o=new Error(e.url+": "+r);o.textStatus=i,n(o)})})}};t.a=o},"./aside.js":function(e,t,n){(function(e){window.Aside=function(){function t(){e(document).off("click","a.show-aside"),e(document).on("click","a.show-aside",function(t){var n,i;return t.preventDefault(),n=e(t.currentTarget),i=n.find("i"),i.hasClass("fa-angle-left")?(n.parent().find("section").hide(),n.parent().find("aside").fadeIn(),i.removeClass("fa-angle-left").addClass("fa-angle-right")):(n.parent().find("aside").hide(),n.parent().find("section").fadeIn(),i.removeClass("fa-angle-right").addClass("fa-angle-left"))})}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./autosave.js":function(e,t,n){"use strict";var i=n("./lib/utils/accessor.js");window.Autosave=function(){function e(e,t){this.field=e,this.isLocalStorageAvailable=i.a.isLocalStorageAccessSafe(),null!=t.join&&(t=t.join("/")),this.key="autosave/"+t,this.field.data("autosave",this),this.restore(),this.field.on("input",function(e){return function(){return e.save()}}(this))}return e.prototype.restore=function(){var e;if(this.isLocalStorageAvailable)return e=window.localStorage.getItem(this.key),(null!=e?e.length:void 0)>0&&this.field.val(e),this.field.trigger("input")},e.prototype.save=function(){var e;return e=this.field.val(),this.isLocalStorageAvailable&&(null!=e?e.length:void 0)>0?window.localStorage.setItem(this.key,e):this.reset()},e.prototype.reset=function(){if(this.isLocalStorageAvailable)return window.localStorage.removeItem(this.key)},e}();window.Autosave},"./awards_handler.js":function(e,t,n){"use strict";(function(e){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f&&!e||(f=n.e("emoji").then(n.bind(null,"./emoji/index.js")).then(function(e){return new h(e)})),f}t.a=o;var a=n("../../../node_modules/js-cookie/src/js.cookie.js"),s=n.n(a),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.setTimeout,c=/(?:, and | and |, )/,d={activity:"Activity",people:"People",nature:"Nature",food:"Food",travel:"Travel",objects:"Objects",symbols:"Symbols",flags:"Flags"},h=function(){function t(n){var i=this;r(this,t),this.emoji=n,this.eventListeners=[],this.registerEventListener("one",e(document),"mouseenter focus",".js-add-award","mouseenter focus",function(){0===e(".emoji-menu").length&&u(function(){i.createEmojiMenu()})}),this.registerEventListener("on",e(document),"click",".js-add-award",function(t){t.stopPropagation(),t.preventDefault(),i.showEmojiMenu(e(t.currentTarget))}),this.registerEventListener("on",e("html"),"click",function(t){var n=e(t.target);n.closest(".emoji-menu-content").length||e(".js-awards-block.current").removeClass("current"),n.closest(".emoji-menu").length||e(".emoji-menu").is(":visible")&&(e(".js-add-award.is-active").removeClass("is-active"),e(".emoji-menu").removeClass("is-visible"))}),this.registerEventListener("on",e(document),"click",".js-emoji-btn",function(t){t.preventDefault();var n=e(t.currentTarget),r=n.find("gl-emoji"),o=n.find(".icon"),a=(r.length?r:o).data("name");n.closest(".js-awards-block").addClass("current"),i.addAward(i.getVotesBlock(),i.getAwardUrl(),a)})}return l(t,[{key:"registerEventListener",value:function(){for(var e=arguments.length,t=Array(e>2?e-2:0),n=2;n<e;n++)t[n-2]=arguments[n];var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on",o=arguments[1];(i=o[r]).call.apply(i,[o].concat(t)),this.eventListeners.push({element:o,args:t})}},{key:"showEmojiMenu",value:function(t){var n=this;t.hasClass("js-note-emoji")?t.closest(".note").find(".js-awards-block").addClass("current"):t.closest(".js-awards-block").addClass("current");var i=e(".emoji-menu"),r=i.find('[data-name="thumbsup"], [data-name="thumbsdown"]').parent(),o=this.isUserAuthored(t);i.length?i.is(".is-visible")?(t.removeClass("is-active"),i.removeClass("is-visible"),e(".js-emoji-menu-search").blur()):(t.addClass("is-active"),this.positionMenu(i,t),i.addClass("is-visible"),e(".js-emoji-menu-search").focus()):(t.addClass("is-loading is-active"),this.createEmojiMenu(function(){var i=e(".emoji-menu");return t.removeClass("is-loading"),n.positionMenu(i,t),setTimeout(function(){i.addClass("is-visible"),e(".js-emoji-menu-search").focus()},200)})),r.toggleClass("disabled",o)}},{key:"createEmojiMenu",value:function(e){if(!this.isCreatingEmojiMenu){this.isCreatingEmojiMenu=!0;var t=this.emoji.getEmojiCategoryMap(),n=Object.keys(t)[0],i=t[n],r=this.renderCategory(d[n],i),o=this.getFrequentlyUsedEmojis(),a="";o.length>0&&(a=this.renderCategory("Frequently used",o,{menuListClass:"frequent-emojis"}));var s='\n      <div class="emoji-menu">\n        <input type="text" name="emoji-menu-search" value="" class="js-emoji-menu-search emoji-search search-input form-control" placeholder="Search emoji" />\n\n        <div class="emoji-menu-content">\n          '+a+"\n          "+r+"\n        </div>\n      </div>\n    ";document.body.insertAdjacentHTML("beforeend",s),this.addRemainingEmojiMenuCategories(),this.setupSearch(),e&&e()}}},{key:"addRemainingEmojiMenuCategories",value:function(){var e=this;if(!this.isAddingRemainingEmojiMenuCategories){this.isAddingRemainingEmojiMenuCategories=!0;var t=this.emoji.getEmojiCategoryMap(),n=document.querySelector(".emoji-menu"),i=n.querySelector(".emoji-menu-content");Object.keys(t).slice(1).reduce(function(n,r){return n.then(function(){return new Promise(function(n){var o=t[r],a=e.renderCategory(d[r],o);u(function(){i.insertAdjacentHTML("beforeend",a),n()})})})},Promise.resolve()).then(function(){n&&n.dispatchEvent(new CustomEvent("build-emoji-menu-finish"))}).catch(function(e){throw i.insertAdjacentHTML("beforeend","<p>We encountered an error while adding the remaining categories</p>"),new Error("Error occurred in addRemainingEmojiMenuCategories: "+e.message)})}}},{key:"renderCategory",value:function(e,t){var n=this;return'\n      <h5 class="emoji-menu-title">\n        '+e+'\n      </h5>\n      <ul class="clearfix emoji-menu-list '+((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).menuListClass||"")+'">\n        '+t.map(function(e){return'\n          <li class="emoji-menu-list-item">\n            <button class="emoji-menu-btn text-center js-emoji-btn" type="button">\n              '+n.emoji.glEmojiTag(e,{sprite:!0})+"\n            </button>\n          </li>\n        "}).join("\n")+"\n      </ul>\n    "}},{key:"positionMenu",value:function(e,t){var n=t.data("position"),i={top:t.offset().top+t.outerHeight()+"px"};return"right"===n?(i.left=t.offset().left-e.outerWidth()+20+"px",e.addClass("is-aligned-right")):(i.left=t.offset().left+"px",e.removeClass("is-aligned-right")),e.css(i)}},{key:"addAward",value:function(t,n,i,r,o){var a=this,s=this.emoji.normalizeEmojiName(i),l=this.findEmojiIcon(t,s).parent();this.postEmoji(l,n,s,function(){return a.addAwardToEmojiBar(t,s,r),"function"==typeof o?o():void 0}),e(".emoji-menu").removeClass("is-visible"),e(".js-add-award.is-active").removeClass("is-active")}},{key:"addAwardToEmojiBar",value:function(e,t,n){(n||null===n)&&this.checkMutuality(e,t),this.addEmojiToFrequentlyUsedList(t);var i=this.emoji.normalizeEmojiName(t),r=this.findEmojiIcon(e,i).parent();if(r.length>0)if(this.isActive(r))this.decrementCounter(r,i);else{var o=r.find(".js-counter");o.text(parseInt(o.text(),10)+1),r.addClass("active"),this.addYouToUserList(e,i),this.animateEmoji(r)}else e.removeClass("hidden"),this.createEmoji(e,i)}},{key:"getVotesBlock",value:function(){var t=e(".js-awards-block.current"),n=t;return 0===t.length&&(n=e(".js-awards-block").eq(0)),n}},{key:"getAwardUrl",value:function(){return this.getVotesBlock().data("award-url")}},{key:"checkMutuality",value:function(e,t){var n=this.getAwardUrl();if("thumbsup"===t||"thumbsdown"===t){var i="thumbsup"===t?"thumbsdown":"thumbsup";e.find('[data-name="'+i+'"]').parent().hasClass("active")&&this.addAward(e,n,i,!1)}}},{key:"isActive",value:function(e){return e.hasClass("active")}},{key:"isUserAuthored",value:function(e){return e.hasClass("js-user-authored")}},{key:"decrementCounter",value:function(t,n){var i=e(".js-counter",t),r=parseInt(i.text(),10);return r>1?(i.text(r-1),this.removeYouFromUserList(t)):"thumbsup"===n||"thumbsdown"===n?(t.tooltip("destroy"),i.text("0"),this.removeYouFromUserList(t),t.parents(".note").length&&this.removeEmoji(t)):this.removeEmoji(t),t.removeClass("active")}},{key:"removeEmoji",value:function(e){e.tooltip("destroy"),e.remove();var t=this.getVotesBlock();0===t.find(".js-emoji-btn").length&&t.addClass("hidden")}},{key:"getAwardTooltip",value:function(e){return e.attr("data-original-title")||e.attr("data-title")||""}},{key:"toSentence",value:function(e){return e.length<=2?e.join(" and "):e.slice(0,-1).join(", ")+", and "+e[e.length-1]}},{key:"removeYouFromUserList",value:function(e){var t=e,n=this.getAwardTooltip(t),i=n.split(c);return i.splice(i.indexOf("You"),1),t.closest(".js-emoji-btn").removeData("title").removeAttr("data-title").removeAttr("data-original-title").attr("title",this.toSentence(i)).tooltip("fixTitle")}},{key:"addYouToUserList",value:function(e,t){var n=this.findEmojiIcon(e,t).parent(),i=this.getAwardTooltip(n),r=[];return i&&(r=i.trim().split(c)),r.unshift("You"),n.attr("title",this.toSentence(r)).tooltip("fixTitle")}},{key:"createAwardButtonForVotesBlock",value:function(t,n){var i='\n      <button class="btn award-control js-emoji-btn has-tooltip active" title="You" data-placement="bottom">\n        '+this.emoji.glEmojiTag(n)+'\n        <span class="award-control-text js-counter">1</span>\n      </button>\n    ',r=e(i);r.insertBefore(t.find(".js-award-holder")).find(".emoji-icon").data("name",n),this.animateEmoji(r),e(".award-control").tooltip(),t.removeClass("current")}},{key:"animateEmoji",value:function(t){t.addClass("pulse animated once short"),this.registerEventListener("on",t,"animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(t){e(t.currentTarget).removeClass("pulse animated once short")})}},{key:"createEmoji",value:function(t,n){var i=this;e(".emoji-menu").length&&this.createAwardButtonForVotesBlock(t,n),this.createEmojiMenu(function(){i.createAwardButtonForVotesBlock(t,n)})}},{key:"postEmoji",value:function(t,n,i,r){this.isUserAuthored(t)?this.userAuthored(t):e.post(n,{name:i},function(e){e.ok&&r()}).fail(function(){return new Flash("Something went wrong on our end.")})}},{key:"findEmojiIcon",value:function(e,t){return e.find('.js-emoji-btn [data-name="'+t+'"]')}},{key:"userAuthored",value:function(e){var t=this.getAwardTooltip(e);return gl.utils.updateTooltipTitle(e,"You cannot vote on your own issue, MR and note").tooltip("show"),setTimeout(function(){e.tooltip("hide"),gl.utils.updateTooltipTitle(e,t)},2800)}},{key:"scrollToAwards",value:function(){var t={scrollTop:e(".awards").offset().top-110};return e("body, html").animate(t,200)}},{key:"addEmojiToFrequentlyUsedList",value:function(e){this.emoji.isEmojiNameValid(e)&&(this.frequentlyUsedEmojis=_.uniq(this.getFrequentlyUsedEmojis().concat(e)),s.a.set("frequently_used_emojis",this.frequentlyUsedEmojis.join(","),{expires:365}))}},{key:"getFrequentlyUsedEmojis",value:function(){var e=this;return this.frequentlyUsedEmojis||function(){var t=_.uniq((s.a.get("frequently_used_emojis")||"").split(","));return e.frequentlyUsedEmojis=t.filter(function(t){return e.emoji.isEmojiNameValid(t)}),e.frequentlyUsedEmojis}()}},{key:"setupSearch",value:function(){var t=this,n=e(".js-emoji-menu-search");this.registerEventListener("on",n,"input",function(n){var i=e(n.target).val().trim();t.searchEmojis(i)});var i=e(".emoji-menu");this.registerEventListener("on",i,"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){e.target===e.currentTarget&&t.searchEmojis("")})}},{key:"searchEmojis",value:function(t){if(e(".js-emoji-menu-search").val(t),e("ul.emoji-menu-search, h5.emoji-search-title").remove(),t.length>0){var n=e('<h5 class="emoji-search-title"/>').text("Search results"),i=this.findMatchingEmojiElements(t).show(),r=e("<ul>").addClass("emoji-menu-list emoji-menu-search").append(i);e(".emoji-menu-content ul, .emoji-menu-content h5").hide(),e(".emoji-menu-content").append(n).append(r)}else e(".emoji-menu-content").children().show()}},{key:"findMatchingEmojiElements",value:function(t){var n=this.emoji.filterEmojiNamesByAlias(t);return e(".emoji-menu-list:not(.frequent-emojis) [data-name]").filter(function(e,t){return n.indexOf(t.dataset.name)>=0}).closest("li").clone()}},{key:"destroy",value:function(){this.eventListeners.forEach(function(e){var t;(t=e.element.off).call.apply(t,[e.element].concat(i(e.args)))}),e(".emoji-menu").remove()}}]),t}(),f=null}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./behaviors/autosize.js":function(e,t,n){"use strict";var i=n("../../../vendor/assets/javascripts/autosize.js"),r=n.n(i);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".js-autosize");r()(e),r.a.update(e)})},"./behaviors/bind_in_out.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){i(this,e),this.in=t,this.out=n,this.eventWrapper={},this.eventType=/(INPUT|TEXTAREA)/.test(t.tagName)?"keyup":"change"}return r(e,[{key:"addEvents",value:function(){return this.eventWrapper.updateOut=this.updateOut.bind(this),this.in.addEventListener(this.eventType,this.eventWrapper.updateOut),this}},{key:"updateOut",value:function(){return this.out.textContent=this.in.value,this}},{key:"removeEvents",value:function(){return this.in.removeEventListener(this.eventType,this.eventWrapper.updateOut),this}}],[{key:"initAll",value:function(){var t=document.querySelectorAll("*[data-bind-in]");return[].map.call(t,function(t){return e.init(t)})}},{key:"init",value:function(t,n){var i=n||document.querySelector('*[data-bind-out="'+t.dataset.bindIn+'"]');return i?new e(t,i).addEvents().updateOut():null}}]),e}();t.a=o},"./behaviors/details_behavior.js":function(e,t,n){(function(e){e(function(){e("body").on("click",".js-details-target",function(){e(this).closest(".js-details-container").toggleClass("open")}),e("body").on("click",".js-details-expand",function(t){t.preventDefault(),e(this).next(".js-details-content").removeClass("hide"),e(this).hide();var n=e(this).siblings(".js-details-short");n.length&&n.addClass("hide")})})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./behaviors/gl_emoji.js":function(e,t,n){"use strict";function i(){var e=Object.create(HTMLElement.prototype);e.createdCallback=function(){var e=this,t=this.textContent.trim(),i=this.dataset,r=i.name,o=i.unicodeVersion,s=i.fallbackSrc,l=i.fallbackSpriteClass,u=this.childNodes&&Array.prototype.every.call(this.childNodes,function(e){return 3===e.nodeType}),c=s&&s.length>0,d=l&&l.length>0;t&&u&&!n.i(a.a)(t,o)&&(d?(this.classList.add("emoji-icon"),this.classList.add(l)):n.e("emoji").then(n.bind(null,"./emoji/index.js")).then(function(t){var n=t.emojiImageTag,i=t.emojiFallbackImageSrc;if(c)e.innerHTML=n(r,s);else{var o=i(r);e.innerHTML=n(r,o)}}).catch(function(){}))},document.registerElement("gl-emoji",{prototype:e})}t.a=i;var r=n("../../../node_modules/document-register-element/build/document-register-element.node.js"),o=n.n(r),a=n("./emoji/support/index.js");o()(window)},"./behaviors/index.js":function(e,t,n){"use strict";var i=(n("./behaviors/autosize.js"),n("./behaviors/bind_in_out.js"),n("./behaviors/details_behavior.js")),r=(n.n(i),n("./behaviors/gl_emoji.js")),o=(n("./behaviors/quick_submit.js"),n("./behaviors/requires_input.js"),n("./behaviors/toggler_behavior.js"));n.n(o);n.i(r.a)()},"./behaviors/quick_submit.js":function(e,t,n){"use strict";(function(e){function t(){return navigator.userAgent.match(/Macintosh/)}function i(e,t){return!(e.originalEvent&&e.originalEvent.repeat||e.repeat)&&e.keyCode===t}n("./commons/bootstrap.js");e(document).on("keydown.quick_submit",".js-quick-submit",function(t){if(i(t,13)){var n=t.metaKey&&!t.altKey&&!t.ctrlKey&&!t.shiftKey,r=t.ctrlKey&&!t.altKey&&!t.metaKey&&!t.shiftKey;if(n||r){t.preventDefault();var o=e(t.target).closest("form"),a=o.find("input[type=submit], button[type=submit]").first();a.attr("disabled")||(a.trigger("click",[t]),a.disable())}}}),e(document).on("keyup.quick_submit",".js-quick-submit input[type=submit], .js-quick-submit button[type=submit]",function(n){if(i(n,9)){var r=e(this),o=t()?"You can also press &#8984;-Enter":"You can also press Ctrl-Enter";r.tooltip({container:"body",html:"true",placement:"auto top",title:o,trigger:"manual"}),r.tooltip("show").one("blur",function(){return r.tooltip("hide")})}})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./behaviors/requires_input.js":function(e,t,n){"use strict";(function(e){function t(t){var n=e(".js-select-namespace option:selected");n.length&&"groups"===n.data("options-parent")?t.find(".help-block").hide():n.length&&t.find(".help-block").show()}n("./commons/bootstrap.js");e.fn.requiresInput=function(){function t(){var t=_.map(e(r,n),function(e){return e.value});t.length&&_.any(t,_.isEmpty)?i.disable():i.enable()}var n=e(this),i=e("button[type=submit], input[type=submit]",n),r="input[required=required], select[required=required], textarea[required=required]";t(),n.on("change input",r,t)},e(function(){var n=e("form.js-requires-input");n.requiresInput(),t(n),e(".select2.js-select-namespace").change(function(){return t(n)})})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./behaviors/toggler_behavior.js":function(e,t,n){(function(e){e(function(){function t(t,n){var i=e(t);i.find(".js-toggle-button .fa").toggleClass("fa-chevron-up",n).toggleClass("fa-chevron-down",void 0!==n?!n:void 0),i.find(".js-toggle-content").toggle(n)}e("body").on("click",".js-toggle-button",function(n){n.target.classList.toggle("open"),t(e(this).closest(".js-toggle-container"));var i=n.currentTarget.tagName.toLowerCase();"a"!==i&&"button"!==i||n.preventDefault()});var n=window.gl.utils.getLocationHash(),i=n&&document.getElementById(n),r=i&&e(i).closest(".js-toggle-container");r&&(t(r,!0),i.scrollIntoView())})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./blob/blob_fork_suggestion.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]},o=function(){function t(e){n(this,t),this.elementMap=Object.assign({},r,e),this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}return i(t,[{key:"init",value:function(){return this.bindEvents(),this}},{key:"bindEvents",value:function(){e(this.elementMap.openButtons).on("click",this.onOpenButtonClick),e(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}},{key:"showSuggestionSection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";e(this.elementMap.suggestionSections).removeClass("hidden"),e(this.elementMap.forkButtons).attr("href",t),e(this.elementMap.actionTextPieces).text(n)}},{key:"hideSuggestionSection",value:function(){e(this.elementMap.suggestionSections).addClass("hidden")}},{key:"onOpenButtonClick",value:function(t){var n=e(t.currentTarget).attr("data-fork-path"),i=e(t.currentTarget).attr("data-action");this.showSuggestionSection(n,i)}},{key:"onCancelButtonClick",value:function(){this.hideSuggestionSection()}},{key:"destroy",value:function(){e(this.elementMap.openButtons).off("click",this.onOpenButtonClick),e(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}]),t}();t.a=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./blob/blob_line_permalink_updater.js":function(e,t,n){"use strict";function i(e,t,n){var i=function(){setTimeout(function(){o(n)},0)};e.addEventListener("click",function(e){e.target.matches(t)&&i()}),i()}var r=/^L[0-9]+/,o=function(e){var t=gl.utils.getLocationHash();if(t&&r.test(t)){var n="#"+t;[].concat(Array.prototype.slice.call(e)).forEach(function(e){var t=e.getAttribute("data-original-href")||function(){var t=e.getAttribute("href");return e.setAttribute("data-original-href",t),t}();e.setAttribute("href",""+t+n)})}};t.a=i},"./blob/template_selector.js":function(e,t,n){"use strict";(function(e,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.dropdown,o=n.data,a=n.pattern,s=n.wrapper,l=n.editor,u=n.$input;i(this,t),this.pattern=a,this.editor=l,this.dropdown=r,this.$dropdownContainer=s,this.$filenameInput=u||e("#file_name"),this.$dropdownIcon=e(".fa-chevron-down",r),this.initDropdown(r,o),this.listenForFilenameInput(),this.renderMatchedDropdown(),this.initAutosizeUpdateEvent()}return r(t,[{key:"initDropdown",value:function(t,n){var i=this;return e(t).glDropdown({data:n,filterable:!0,selectable:!0,toggleLabel:function(e){return e.name},search:{fields:["name"]},clicked:function(e){return i.fetchFileTemplate(e)},text:function(e){return e.name}})}},{key:"initAutosizeUpdateEvent",value:function(){this.autosizeUpdateEvent=document.createEvent("Event"),this.autosizeUpdateEvent.initEvent("autosize:update",!0,!1)}},{key:"listenForFilenameInput",value:function(){var e=this;return this.$filenameInput.on("keyup blur",function(t){return e.renderMatchedDropdown(t)})}},{key:"renderMatchedDropdown",value:function(){return this.$filenameInput.length?this.pattern.test(this.$filenameInput.val().trim())?this.$dropdownContainer.removeClass("hidden"):this.$dropdownContainer.addClass("hidden"):null}},{key:"fetchFileTemplate",value:function(e){var t=e.e,n=e.selectedObj;return t.preventDefault(),this.requestFile(n)}},{key:"requestFile",value:function(e){}},{key:"setEditorContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.skipFocus;if(e){var r=e.content;this.editor.setValue(r,1),i||this.editor.focus(),this.editor instanceof n&&this.editor.get(0).dispatchEvent(this.autosizeUpdateEvent)}}},{key:"startLoadingSpinner",value:function(){this.$dropdownIcon.addClass("fa-spinner fa-spin").removeClass("fa-chevron-down")}},{key:"stopLoadingSpinner",value:function(){this.$dropdownIcon.addClass("fa-chevron-down").removeClass("fa-spinner fa-spin")}}]),t}();t.a=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"),n("../../../node_modules/jquery/dist/jquery.js"))},"./blob/viewer/index.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){n(this,t),t.initAuxiliaryViewer(),this.initMainViewers()}return i(t,[{key:"initMainViewers",value:function(){this.$fileHolder=e(".file-holder"),this.$fileHolder.length&&(this.switcher=document.querySelector(".js-blob-viewer-switcher"),this.switcherBtns=document.querySelectorAll(".js-blob-viewer-switch-btn"),this.copySourceBtn=document.querySelector(".js-copy-blob-source-btn"),this.simpleViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="simple"]'),this.richViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="rich"]'),this.initBindings(),this.switchToInitialViewer())}},{key:"switchToInitialViewer",value:function(){var e=this.$fileHolder[0].querySelector(".blob-viewer:not(.hidden)"),t=e.getAttribute("data-type");this.switcher&&0===location.hash.indexOf("#L")&&(t="simple"),this.switchToViewer(t)}},{key:"initBindings",value:function(){var e=this;this.switcherBtns.length&&Array.from(this.switcherBtns).forEach(function(t){t.addEventListener("click",e.switchViewHandler.bind(e))}),this.copySourceBtn&&this.copySourceBtn.addEventListener("click",function(){return e.copySourceBtn.classList.contains("disabled")?e.copySourceBtn.blur():e.switchToViewer("simple")})}},{key:"switchViewHandler",value:function(e){var t=e.currentTarget;e.preventDefault(),this.switchToViewer(t.getAttribute("data-viewer"))}},{key:"toggleCopyButtonState",value:function(){this.copySourceBtn&&(this.simpleViewer.getAttribute("data-loaded")?(this.copySourceBtn.setAttribute("title","Copy source to clipboard"),this.copySourceBtn.classList.remove("disabled")):this.activeViewer===this.simpleViewer?(this.copySourceBtn.setAttribute("title","Wait for the source to load to copy it to the clipboard"),this.copySourceBtn.classList.add("disabled")):(this.copySourceBtn.setAttribute("title","Switch to the source to copy it to the clipboard"),this.copySourceBtn.classList.add("disabled")),e(this.copySourceBtn).tooltip("fixTitle"))}},{key:"switchToViewer",value:function(n){var i=this,r=this.$fileHolder[0].querySelector(".blob-viewer[data-type='"+n+"']");if(this.activeViewer!==r){var o=document.querySelector(".js-blob-viewer-switch-btn.active"),a=document.querySelector(".js-blob-viewer-switch-btn[data-viewer='"+n+"']"),s=this.$fileHolder[0].querySelector(".blob-viewer:not([data-type='"+n+"'])");o&&o.classList.remove("active"),a&&(a.classList.add("active"),a.blur()),s&&s.classList.add("hidden"),r.classList.remove("hidden"),this.activeViewer=r,this.toggleCopyButtonState(),t.loadViewer(r).then(function(t){e(t).renderGFM(),i.$fileHolder.trigger("highlight:line"),gl.utils.handleLocationHash(),i.toggleCopyButtonState()}).catch(function(){return new Flash("Error loading viewer")})}}}],[{key:"initAuxiliaryViewer",value:function(){var e=document.querySelector('.blob-viewer[data-type="auxiliary"]');e&&t.loadViewer(e)}},{key:"loadViewer",value:function(t){var n=t,i=n.getAttribute("data-url");return new Promise(function(t,r){if(!i||n.getAttribute("data-loaded")||n.getAttribute("data-loading"))return void t(n);n.setAttribute("data-loading","true"),e.ajax({url:i,dataType:"JSON"}).fail(r).done(function(e){n.innerHTML=e.html,n.setAttribute("data-loaded","true"),t(n)})})}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./branches/branches_delete_modal.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="#modal-delete-branch",o=function(){function t(){n(this,t),this.$modal=e(r),this.$toggleBtns=e('[data-target="'+r+'"]'),this.$branchName=e(".js-branch-name",this.$modal),this.$confirmInput=e(".js-delete-branch-input",this.$modal),this.$deleteBtn=e(".js-delete-branch",this.$modal),this.bindEvents()}return i(t,[{key:"bindEvents",value:function(){this.$toggleBtns.on("click",this.setModalData.bind(this)),this.$confirmInput.on("input",this.setDeleteDisabled.bind(this))}},{key:"setModalData",value:function(e){this.branchName=e.currentTarget.dataset.branchName||"",this.deletePath=e.currentTarget.dataset.deletePath||"",this.updateModal()}},{key:"setDeleteDisabled",value:function(e){this.$deleteBtn.attr("disabled",e.currentTarget.value!==this.branchName)}},{key:"updateModal",value:function(){this.$branchName.text(this.branchName),this.$confirmInput.val(""),this.$deleteBtn.attr("href",this.deletePath),this.$deleteBtn.attr("disabled",!0)}}]),t}();t.a=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./breakpoints.js":function(e,t,n){(function(e){var t=function(){function t(){}var n,i;return i=null,n=function(){function t(){this.setup()}var n;return n=["xs","sm","md","lg"],t.prototype.setup=function(){var t,i;if(t=n.map(function(e){return".device-"+e}),!e(t.join(",")).length)return i=e.map(n,function(e){return"<div class='device-"+e+" visible-"+e+"'></div>"}),e("body").append(i.join(""))},t.prototype.visibleDevice=function(){var t;return t=n.map(function(e){return".device-"+e}),e(t.join(",")).filter(":visible")},t.prototype.getBreakpointSize=function(){var e;return e=this.visibleDevice,e().length||this.setup(),e=this.visibleDevice(),e.attr("class").split("visible-")[1]},t}(),t.get=function(){return null!=i?i:i=new n},t}();e(function(){window.bp=t.get()}),window.Breakpoints=t}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./broadcast_message.js":function(e,t,n){(function(e){e(function(){var t;return e("input#broadcast_message_color").on("input",function(){var t;return t=e(this).val(),e("div.broadcast-message-preview").css("background-color",t)}),e("input#broadcast_message_font").on("input",function(){var t;return t=e(this).val(),e("div.broadcast-message-preview").css("color",t)}),t=e("textarea#broadcast_message_message").data("preview-path"),e("textarea#broadcast_message_message").on("input",function(){var n;return n=e(this).val(),""===n?e(".js-broadcast-message-preview").text("Your message here"):e.ajax({url:t,type:"POST",data:{broadcast_message:{message:n}}})})})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./build.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/underscore/underscore.js"),i=n.n(t),r=n("./lib/utils/number_utils.js");window.Build=function(){function t(n){var r=this;this.options=n||e(".js-build-options").data(),this.pageUrl=this.options.pageUrl,this.buildStatus=this.options.buildStatus,this.state=this.options.logState,this.buildStage=this.options.buildStage,this.$document=e(document),this.logBytes=0,this.hasBeenScrolled=!1,this.updateDropdown=this.updateDropdown.bind(this),this.getBuildTrace=this.getBuildTrace.bind(this),this.$buildTrace=e("#build-trace"),this.$buildRefreshAnimation=e(".js-build-refresh"),this.$truncatedInfo=e(".js-truncated-info"),this.$buildTraceOutput=e(".js-build-output"),this.$topBar=e(".js-top-bar"),this.$scrollTopBtn=e(".js-scroll-up"),this.$scrollBottomBtn=e(".js-scroll-down"),clearTimeout(t.timeout),this.bp=Breakpoints.get(),this.initSidebar(),this.populateJobs(this.buildStage),this.updateStageDropdownText(this.buildStage),this.sidebarOnResize(),this.$document.off("click",".js-sidebar-build-toggle").on("click",".js-sidebar-build-toggle",this.sidebarOnClick.bind(this)),this.$document.off("click",".stage-item").on("click",".stage-item",this.updateDropdown),this.$scrollTopBtn.off("click").on("click",this.scrollToTop.bind(this)),this.$scrollBottomBtn.off("click").on("click",this.scrollToBottom.bind(this)),this.scrollThrottled=i.a.throttle(this.toggleScroll.bind(this),100),e(window).off("scroll").on("scroll",function(){var e=r.$buildTraceOutput.prop("scrollHeight");e>r.windowSize?r.windowSize=e:(r.hasBeenScrolled=!0,r.toggleScrollAnimation(!1)),r.scrollThrottled()}),e(window).off("resize.build").on("resize.build",i.a.throttle(this.sidebarOnResize.bind(this),100)),this.updateArtifactRemoveDate(),this.initAffixTopArea(),this.getBuildTrace()}return t.timeout=null,t.state=null,t.prototype.initAffixTopArea=function(){if("static"===this.$topBar.css("position")){var e=this.$buildTrace.offset().top;this.$topBar.affix({offset:{top:e}})}},t.prototype.canScroll=function(){return document.body.scrollHeight>window.innerHeight},t.prototype.toggleScroll=function(){var e=document.body.scrollTop,t=window.innerHeight;this.canScroll()?e>0&&document.body.scrollHeight-e!==t?(this.toggleDisableButton(this.$scrollTopBtn,!1),this.toggleDisableButton(this.$scrollBottomBtn,!1)):0===e?(this.toggleDisableButton(this.$scrollTopBtn,!0),this.toggleDisableButton(this.$scrollBottomBtn,!1)):document.body.scrollHeight-e===t&&(this.toggleDisableButton(this.$scrollTopBtn,!1),this.toggleDisableButton(this.$scrollBottomBtn,!0)):(this.toggleDisableButton(this.$scrollTopBtn,!0),this.toggleDisableButton(this.$scrollBottomBtn,!0))},t.prototype.scrollDown=function(){document.body.scrollTop=document.body.scrollHeight},t.prototype.scrollToBottom=function(){this.scrollDown(),this.hasBeenScrolled=!0,this.toggleScroll()},t.prototype.scrollToTop=function(){document.body.scrollTop=0,this.hasBeenScrolled=!0,this.toggleScroll()},t.prototype.toggleDisableButton=function(e,t){t&&e.prop("disabled")||e.prop("disabled",t)},t.prototype.toggleScrollAnimation=function(e){this.$scrollBottomBtn.toggleClass("animate",e)},t.prototype.initSidebar=function(){this.$sidebar=e(".js-build-sidebar"),this.$sidebar.niceScroll()},t.prototype.getBuildTrace=function(){var i=this;return e.ajax({url:this.pageUrl+"/trace.json",data:this.state}).done(function(o){if(gl.utils.setCiStatusFavicon(i.pageUrl+"/status.json"),o.state&&(i.state=o.state),i.windowSize=i.$buildTraceOutput.prop("scrollHeight"),o.append?(i.$buildTraceOutput.append(o.html),i.logBytes+=o.size):(i.$buildTraceOutput.html(o.html),i.logBytes=o.size),i.logBytes<o.total){var a=n.i(r.c)(i.logBytes);e(".js-truncated-info-size").html(""+a),i.$truncatedInfo.removeClass("hidden")}else i.$truncatedInfo.addClass("hidden");o.complete?(i.$buildRefreshAnimation.remove(),i.toggleScrollAnimation(!1)):(i.hasBeenScrolled?i.toggleScrollAnimation(!1):i.toggleScrollAnimation(!0),t.timeout=setTimeout(function(){i.getBuildTrace()},4e3)),o.status!==i.buildStatus&&gl.utils.visitUrl(i.pageUrl)}).fail(function(){i.$buildRefreshAnimation.remove()}).then(function(){i.hasBeenScrolled||i.scrollDown()}).then(function(){return i.toggleScroll()})},t.prototype.shouldHideSidebarForViewport=function(){var e=this.bp.getBreakpointSize();return"xs"===e||"sm"===e},t.prototype.toggleSidebar=function(t){var n="boolean"==typeof t?!t:void 0,i=e(".js-sidebar-build-toggle-header");this.$sidebar.toggleClass("right-sidebar-expanded",n).toggleClass("right-sidebar-collapsed",t),this.$topBar.toggleClass("sidebar-expanded",n).toggleClass("sidebar-collapsed",t),this.$sidebar.hasClass("right-sidebar-expanded")?i.addClass("hidden"):i.removeClass("hidden")},t.prototype.sidebarOnResize=function(){this.toggleSidebar(this.shouldHideSidebarForViewport())},t.prototype.sidebarOnClick=function(){this.shouldHideSidebarForViewport()&&this.toggleSidebar()},t.prototype.updateArtifactRemoveDate=function(){var t=e(".js-artifacts-remove");if(t.length){var n=t.text();return t.text(gl.utils.timeFor(new Date(n.replace(/([0-9]+)-([0-9]+)-([0-9]+)/g,"$1/$2/$3"))," "))}},t.prototype.populateJobs=function(t){e(".build-job").hide(),e('.build-job[data-stage="'+t+'"]').show()},t.prototype.updateStageDropdownText=function(t){e(".stage-selection").text(t)},t.prototype.updateDropdown=function(e){e.preventDefault();var t=e.currentTarget.text;this.updateStageDropdownText(t),this.populateJobs(t)},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./build_artifacts.js":function(e,t,n){(function(e){window.BuildArtifacts=function(){function t(){this.disablePropagation(),this.setupEntryClick()}return t.prototype.disablePropagation=function(){return e(".top-block").on("click",".download",function(e){return e.stopPropagation()}),e(".tree-holder").on("click","tr[data-link] a",function(e){return e.stopImmediatePropagation()})},t.prototype.setupEntryClick=function(){return e(".tree-holder").on("click","tr[data-link]",function(e){return window.location=this.dataset.link})},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./build_variables.js":function(e,t,n){(function(e){e(function(){e(".reveal-variables").off("click").on("click",function(){e(".js-build").toggle().niceScroll(),e(this).hide()})})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./ci_lint_editor.js":function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.gl=window.gl||{};var i=function e(){var t=this;n(this,e),this.editor=window.ace.edit("ci-editor"),this.textarea=document.querySelector("#content"),this.editor.getSession().setMode("ace/mode/yaml"),this.editor.on("input",function(){var e=t.editor.getSession().getValue();t.textarea.value=e})};gl.CILintEditor=i},"./close_reopen_report_toggle.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./droplab/drop_lab.js"),o=n("./droplab/plugins/input_setter.js"),a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=Object.assign({},o.a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.dropdownTrigger=t.dropdownTrigger,this.dropdownList=t.dropdownList,this.button=t.button}return s(e,[{key:"initDroplab",value:function(){this.reopenItem=this.dropdownList.querySelector(".reopen-item"),this.closeItem=this.dropdownList.querySelector(".close-item"),this.droplab=new r.a;var e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[l],e)}},{key:"updateButton",value:function(e){this.toggleButtonType(e),this.button.blur()}},{key:"toggleButtonType",value:function(e){var t=this.getButtonTypes(e),n=a(t,2),i=n[0],r=n[1];i.classList.remove("hidden"),i.classList.add("droplab-item-selected"),r.classList.add("hidden"),r.classList.remove("droplab-item-selected"),i.click()}},{key:"getButtonTypes",value:function(e){return e?[this.reopenItem,this.closeItem]:[this.closeItem,this.reopenItem]}},{key:"setDisable",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(this.button.removeAttribute("disabled"),this.dropdownTrigger.removeAttribute("disabled")):(this.button.setAttribute("disabled","true"),this.dropdownTrigger.setAttribute("disabled","true"))}},{key:"setConfig",value:function(){return{InputSetter:[{input:this.button,valueAttribute:"data-text",inputAttribute:"data-value"},{input:this.button,valueAttribute:"data-text",inputAttribute:"title"},{input:this.button,valueAttribute:"data-button-class",inputAttribute:"class"},{input:this.dropdownTrigger,valueAttribute:"data-toggle-class",inputAttribute:"class"},{input:this.button,valueAttribute:"data-url",inputAttribute:"href"},{input:this.button,valueAttribute:"data-method",inputAttribute:"data-method"}]}}}]),e}();t.a=u},"./comment_type_toggle.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./droplab/drop_lab.js"),o=n("./droplab/plugins/input_setter.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=Object.assign({},o.a),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.dropdownTrigger=t.dropdownTrigger,this.dropdownList=t.dropdownList,this.noteTypeInput=t.noteTypeInput,this.submitButton=t.submitButton,this.closeButton=t.closeButton,this.reopenButton=t.reopenButton}return a(e,[{key:"initDroplab",value:function(){this.droplab=new r.a;var e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[s],e)}},{key:"setConfig",value:function(){var e={InputSetter:[{input:this.noteTypeInput,valueAttribute:"data-value"},{input:this.submitButton,valueAttribute:"data-submit-text"}]};return this.closeButton&&e.InputSetter.push({input:this.closeButton,valueAttribute:"data-close-text"},{input:this.closeButton,valueAttribute:"data-close-text",inputAttribute:"data-alternative-text"}),this.reopenButton&&e.InputSetter.push({input:this.reopenButton,valueAttribute:"data-reopen-text"},{input:this.reopenButton,valueAttribute:"data-reopen-text",inputAttribute:"data-alternative-text"}),e}}]),e}();t.a=l},"./commit.js":function(e,t,n){(function(e){window.Commit=function(){function t(){e(".files .diff-file").each(function(){return new CommitFile(this)})}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./commit/file.js":function(e,t,n){(function(e){(function(){this.CommitFile=function(){function t(t){e(".image",t).length&&new gl.ImageFile(t)}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./commit/image_file.js":function(e,t,n){(function(e){(function(){gl.ImageFile=function(){function t(t){this.file=t,this.requestImageInfo(e(".two-up.view .frame.deleted img",this.file),function(t){return function(n,i){return t.requestImageInfo(e(".two-up.view .frame.added img",t.file),function(e,r){return e===n&&r===i?t.initViewModes():t.initView("two-up")})}}(this))}var n;return t.availWidth=900,t.viewModes=["two-up","swipe"],t.prototype.initViewModes=function(){var n;return n=t.viewModes[0],e(".view-modes",this.file).removeClass("hide"),e(".view-modes-menu",this.file).on("click","li",function(t){return function(n){if(!e(n.currentTarget).hasClass("active"))return t.activateViewMode(n.currentTarget.className)}}(this)),this.activateViewMode(n)},t.prototype.activateViewMode=function(t){return e(".view-modes-menu li",this.file).removeClass("active").filter("."+t).addClass("active"),e(".view:visible:not(."+t+")",this.file).fadeOut(200,function(n){return function(){return e(".view."+t,n.file).fadeIn(200),n.initView(t)}}(this))},t.prototype.initView=function(e){return this.views[e].call(this)},t.prototype.initDraggable=function(t,n,i){var r=!1,o=e("body"),a=t.parent();t.off("mousedown").on("mousedown",function(){r=!0,o.css("user-select","none")}),o.off("mouseup").off("mousemove").on("mouseup",function(){r=!1,o.css("user-select","")}).on("mousemove",function(e){var t;r&&(t=e.pageX-(a.offset().left+n),i(e,t))})},n=function(t){var n,i;return i=0,n=0,e(".frame",t).each(function(t){return function(t,r){var o,a;return a=e(r).width(),o=e(r).height(),i=a>i?a:i,n=o>n?o:n}}()).css({width:i,height:n}),[i,n]},t.prototype.views={"two-up":function(){return e(".two-up.view .wrap",this.file).each(function(n){return function(i,r){return e("img",r).each(function(){if(e(this).width()>t.availWidth/2)return e(this).width(t.availWidth/2)}),n.requestImageInfo(e("img",r),function(t,n){return e(".image-info .meta-width",r).text(t+"px"),e(".image-info .meta-height",r).text(n+"px"),e(".image-info",r).removeClass("hide")})}}(this))},swipe:function(){var t,i;return i=0,t=0,e(".swipe.view",this.file).each(function(r){return function(o,a){var s,l,u,c,d;d=n(a),i=d[0],t=d[1],u=e(".swipe-frame",a),s=e(".swipe-wrap",a),l=e(".swipe-bar",a),u.css({width:i+16,height:t+28}),s.css({width:i+1,height:t+2}),l.css({left:0}),c=parseInt(s.css("right").replace("px",""),10),r.initDraggable(l,c,function(e,t){t>0&&t<u.width()-2*c&&(s.width(i+1-t),l.css("left",t))})}}(this))},"onion-skin":function(){var t,i,r;return r=0,i=0,t=e(".drag-track",this.file).width()-e(".dragger",this.file).width(),e(".onion-skin.view",this.file).each(function(o){return function(a,s){var l,u,c,d,h,f;f=n(s),r=f[0],i=f[1],l=e(".onion-skin-frame",s),d=e(".frame.added",s),u=e(".drag-track",s),c=e(".dragger",u),l.css({width:r+16,height:i+28}),e(".swipe-wrap",s).css({width:r+1,height:i+2}),c.css({left:t}),h=parseInt(d.css("right").replace("px",""),10),o.initDraggable(c,h,function(e,n){var i=n/t;i>=0&&i<=1&&(c.css("left",n),d.css("opacity",i))})}}(this))}},t.prototype.requestImageInfo=function(e,t){var n;if(n=e.get(0))return n.complete?t.call(this,n.naturalWidth,n.naturalHeight):e.on("load",function(e){return function(){return t.call(e,n.naturalWidth,n.naturalHeight)}}(this))},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./commits.js":function(e,t,n){(function(e){window.CommitsList=function(){var t={};return t.timer=null,t.init=function(t){return this.$contentList=e(".content_list"),e("body").on("click",".day-commits-table li.commit",function(t){if("A"!==t.target.nodeName)return location.href=e(this).attr("url"),t.stopPropagation(),!1}),Pager.init(t,!1,!1,this.processCommits),this.content=e("#commits-list"),this.searchField=e("#commits-search"),this.lastSearch=this.searchField.val(),this.initSearch()},t.initSearch=function(){return this.timer=null,this.searchField.keyup(function(e){return function(){return clearTimeout(e.timer),e.timer=setTimeout(e.filterResults,500)}}(this))},t.filterResults=function(){var n,i,r;if(i=e(".commits-search-form"),(r=t.searchField.val())!==t.lastSearch)return n=i.attr("action")+"?"+i.serialize(),t.content.fadeTo("fast",.5),e.ajax({type:"GET",url:i.attr("action"),data:i.serialize(),complete:function(){return t.content.fadeTo("fast",1)},success:function(e){return t.lastSearch=r,t.content.html(e.html),history.replaceState({page:n},document.title,n)},error:function(){t.lastSearch=null},dataType:"json"})},t.processCommits=function(n){var i=n,r=e(i),o=t.$contentList.find("li.js-commit-header").last(),a=o.data("day"),s=r.filter("li.js-commit-header").first(),l=s.data("day"),u=void 0;return a===l&&(u=o.nextUntil("li.js-commit-header").find("li.commit").length,i=r.not('li.js-commit-header[data-day="'+l+'"]'),u+=Number(e(i).nextUntil("li.js-commit-header").first().find("li.commit").length),o.find("span.commits-count").text(u+" "+gl.text.pluralize("commit",u))),gl.utils.localTimeAgo(r.find(".js-timeago")),i},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./compare.js":function(e,t,n){(function(e){window.Compare=function(){function t(t){this.opts=t,this.source_loading=e(".js-source-loading"),this.target_loading=e(".js-target-loading"),e(".js-compare-dropdown").each(function(t){return function(n,i){var r;return r=e(i),r.glDropdown({selectable:!0,fieldName:r.data("field-name"),filterable:!0,id:function(e,t){return t.data("id")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e,n){return r.is(".js-target-branch")?t.getTargetHtml():r.is(".js-source-branch")?t.getSourceHtml():r.is(".js-target-project")?t.getTargetProject():void 0}})}}(this)),this.initialState()}return t.prototype.initialState=function(){return this.getSourceHtml(),this.getTargetHtml()},t.prototype.getTargetProject=function(){return e.ajax({url:this.opts.targetProjectUrl,data:{target_project_id:e("input[name='merge_request[target_project_id]']").val()},beforeSend:function(){return e(".mr_target_commit").empty()},success:function(t){return e(".js-target-branch-dropdown .dropdown-content").html(t)}})},t.prototype.getSourceHtml=function(){return this.sendAjax(this.opts.sourceBranchUrl,this.source_loading,".mr_source_commit",{ref:e("input[name='merge_request[source_branch]']").val()})},t.prototype.getTargetHtml=function(){return this.sendAjax(this.opts.targetBranchUrl,this.target_loading,".mr_target_commit",{target_project_id:e("input[name='merge_request[target_project_id]']").val(),ref:e("input[name='merge_request[target_branch]']").val()})},t.prototype.sendAjax=function(t,n,i,r){var o;return o=e(i),e.ajax({url:t,data:r,beforeSend:function(){return n.show(),o.empty()},success:function(t){n.hide(),o.html(t);var i="."+o[0].className.replace(" ",".");gl.utils.localTimeAgo(e(".js-timeago",i))}})},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./compare_autocomplete.js":function(e,t,n){(function(e){window.CompareAutocomplete=function(){function t(){this.initDropdown()}return t.prototype.initDropdown=function(){return e(".js-compare-dropdown").each(function(){var t,n;t=e(this),n=t.data("selected");var i=t.closest(".dropdown"),r=e('input[name="'+t.data("field-name")+'"]',i),o=e('input[type="search"]',i);t.glDropdown({data:function(n,i){return e.ajax({url:t.data("refs-url"),data:{ref:t.data("ref"),search:n}}).done(function(e){return i(e)})},selectable:!0,filterable:!0,filterRemote:!0,fieldName:t.data("field-name"),filterInput:'input[type="search"]',renderRow:function(t){var i;return null!=t.header?e("<li />").addClass("dropdown-header").text(t.header):(i=e("<a />").attr("href","#").addClass(t===n?"is-active":"").text(t).attr("data-ref",escape(t)),e("<li />").append(i))},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()}}),o.on("keyup",function(n){if(13===(n.keyCode||n.which)){var a=o.val();r.val(a),e(".dropdown-toggle-text",t).text(a),i.removeClass("open")}}),i.on("click",".dropdown-content a",function(e){t.prop("title",e.target.text.replace(/_+?/g,"-")),t.hasClass("has-tooltip")&&t.tooltip("fixTitle")})})},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./confirm_danger_modal.js":function(e,t,n){(function(e){window.ConfirmDangerModal=function(){function t(t,n){var i,r;this.form=t,e(".js-confirm-text").text(n||""),e(".js-confirm-danger-input").val(""),e("#modal-confirm-danger").modal("show"),i=e(".js-confirm-danger-match").text(),r=e(".js-confirm-danger-submit"),r.disable(),e(".js-confirm-danger-input").off("input"),e(".js-confirm-danger-input").on("input",function(){return gl.utils.rstrip(e(this).val())===i?r.enable():r.disable()}),e(".js-confirm-danger-submit").off("click"),e(".js-confirm-danger-submit").on("click",function(e){return function(){return e.form.submit()}}(this))}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./copy_as_gfm.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./lib/utils/common_utils.js"),r=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),o={InlineDiffFilter:{"span.idiff.addition":function(e,t){return"{+"+t+"+}"},"span.idiff.deletion":function(e,t){return"{-"+t+"-}"}},TaskListFilter:{"input[type=checkbox].task-list-item-checkbox":function(e){return"["+(e.checked?"x":" ")+"]"}},ReferenceFilter:{".tooltip":function(e){return""},"a.gfm:not([data-link=true])":function(e,t){return e.dataset.original||t}},AutolinkFilter:{a:function(e,t){return t===e.getAttribute("href")&&t}},TableOfContentsFilter:{"ul.section-nav":function(e){return"[[_TOC_]]"}},EmojiFilter:{"img.emoji":function(e){return e.getAttribute("alt")},"gl-emoji":function(e){return":"+e.getAttribute("data-name")+":"}},ImageLinkFilter:{"a.no-attachment-icon":function(e,t){return t}},VideoLinkFilter:{".video-container":function(e){var t=e.querySelector("video");return!!t&&a.nodeToGFM(t)},video:function(e){return"!["+e.dataset.title+"]("+e.getAttribute("src")+")"}},MathFilter:{"pre.code.math[data-math-style=display]":function(e,t){return"```math\n"+t.trim()+"\n```"},"code.code.math[data-math-style=inline]":function(e,t){return"$`"+t+"`$"},"span.katex-display span.katex-mathml":function(e){var t=e.querySelector('annotation[encoding="application/x-tex"]');return!!t&&"```math\n"+a.nodeToGFM(t)+"\n```"},"span.katex-mathml":function(e){var t=e.querySelector('annotation[encoding="application/x-tex"]');return!!t&&"$`"+a.nodeToGFM(t)+"`$"},"span.katex-html":function(e){return""},'annotation[encoding="application/x-tex"]':function(e,t){return t.trim()}},SanitizationFilter:{"a[name]:not([href]):empty":function(e){return e.outerHTML},dl:function(e,t){var n=t.trim().split("\n");return n=n.map(function(e){var t=e.trim();return 0===t.length?"":"  "+t}),"<dl>\n"+n.join("\n")+"\n</dl>"},"sub, dt, dd, kbd, q, samp, var, ruby, rt, rp, abbr, summary, details":function(e,t){var n=e.nodeName.toLowerCase();return"<"+n+">"+t+"</"+n+">"}},SyntaxHighlightFilter:{"pre.code.highlight":function(e,t){var n=t.trimRight(),i=e.getAttribute("lang");return i&&"plaintext"!==i||(i=""),""===i&&n.match(/^```/gm)?n.split("\n").map(function(e){var t=e.trim();return 0===t.length?"":"    "+t}).join("\n"):"```"+i+"\n"+n+"\n```"},"pre > code":function(e,t){return t}},MarkdownFilter:{br:function(e){return"  "},code:function(e,t){var n=1,i=t.match(/`+/);i&&(n=i[0].length+1);var r=Array(n+1).join("`"),o=n>1?" ":"";return r+o+t.trim()+o+r},blockquote:function(e,t){return t.trim().split("\n").map(function(e){return("> "+e).trim()}).join("\n")},img:function(e){return"!["+e.getAttribute("alt")+"]("+e.getAttribute("src")+")"},"a.anchor":function(e,t){return t},a:function(e,t){return"["+t+"]("+e.getAttribute("href")+")"},li:function(e,t){var n=t.trim().split("\n");return"- "+n.shift()+"\n"+n.map(function(e){return 0===e.trim().length?"":"    "+e}).join("\n")},ul:function(e,t){return t},ol:function(e,t){return t.replace(/^- /gm,"1. ")},h1:function(e,t){return"# "+t.trim()},h2:function(e,t){return"## "+t.trim()},h3:function(e,t){return"### "+t.trim()},h4:function(e,t){return"#### "+t.trim()},h5:function(e,t){return"##### "+t.trim()},h6:function(e,t){return"###### "+t.trim()},strong:function(e,t){return"**"+t+"**"},em:function(e,t){return"_"+t+"_"},del:function(e,t){return"~~"+t+"~~"},sup:function(e,t){return"^"+t},hr:function(e){return"-----"},table:function(e){var t=e.querySelector("thead"),n=e.querySelector("tbody");return!(!t||!n)&&[a.nodeToGFM(t),a.nodeToGFM(n)].join("\n")},thead:function(e,t){return[t,"|"+_.map(e.querySelectorAll("th"),function(e){var t=a.nodeToGFM(e).length+2,n="",i="";switch(e.style.textAlign){case"center":n=":",i=":",t-=2;break;case"right":i=":",t-=1}return t=Math.max(t,3),n+Array(t+1).join("-")+i}).join("|")+"|"].join("\n")},tr:function(e){var t=e.querySelectorAll("td, th");return 0!==t.length&&"| "+_.map(t,function(e){return a.nodeToGFM(e)}).join(" | ")+" |"}}},a=function(){function n(){t(this,n),e(document).on("copy",".md, .wiki",function(e){n.copyAsGFM(e,n.transformGFMSelection)}),e(document).on("copy","pre.code.highlight, .diff-content .line_content",function(e){n.copyAsGFM(e,n.transformCodeSelection)}),e(document).on("paste",".js-gfm-input",n.pasteGFM)}return r(n,null,[{key:"copyAsGFM",value:function(e,t){var n=e.originalEvent.clipboardData;if(n){var i=window.gl.utils.getSelectedFragment();if(i){var r=t(i.cloneNode(!0));r&&(e.preventDefault(),e.stopPropagation(),n.setData("text/plain",r.textContent),n.setData("text/x-gfm",this.nodeToGFM(r)))}}}},{key:"pasteGFM",value:function(e){var t=e.originalEvent.clipboardData;if(t){var n=t.getData("text/plain"),i=t.getData("text/x-gfm");i&&(e.preventDefault(),window.gl.utils.insertText(e.target,function(e,t){var r=e.match(/`/g);return r&&r.length%2==1?n:i}))}}},{key:"transformGFMSelection",value:function(e){var t=e.querySelectorAll(".md, .wiki");switch(t.length){case 0:return e;case 1:return t[0];default:for(var n=document.createElement("div"),i=0;i<t.length;i+=1){var r=t[i];n.appendChild(r),n.appendChild(document.createTextNode("\n\n"))}return n}}},{key:"transformCodeSelection",value:function(e){var t=e.querySelectorAll(".line"),n=void 0;if(t.length>1){n=document.createElement("pre"),n.className="code highlight";var i=t[0].getAttribute("lang");i&&n.setAttribute("lang",i)}else n=document.createElement("code");if(t.length>0)for(var r=0;r<t.length;r+=1){var o=t[r];n.appendChild(o),n.appendChild(document.createTextNode("\n"))}else n.appendChild(e);return n}},{key:"nodeToGFM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.nodeType===Node.COMMENT_NODE)return"";if(e.nodeType===Node.TEXT_NODE)return e.textContent;var n=t||"PRE"===e.nodeName||"CODE"===e.nodeName,i=this.innerGFM(e,n);if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return i;for(var r in o){var a=o[r];for(var s in a){var l=a[s];if(window.gl.utils.nodeMatchesSelector(e,s)){var u=void 0;if(2===l.length){if(0===i.length)continue;u=l(e,i)}else u=l(e);if(!1!==u)return u}}}return i}},{key:"innerGFM",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.childNodes,i=e.cloneNode(!0),r=Array.prototype.slice.call(i.childNodes,0),o=0;o<n.length;o+=1){var a=n[o],s=r[o],l=this.nodeToGFM(a,t);s.parentNode.replaceChild(document.createTextNode(l),s)}var u=i.innerText||i.textContent;return t||(u=u.trim()),u}}]),n}();window.gl=window.gl||{},window.gl.CopyAsGFM=a,new a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./copy_to_clipboard.js":function(e,t,n){"use strict";(function(e){var t,i,r,o=n("../../../vendor/assets/javascripts/clipboard.js"),a=n.n(o);i=function(t){return r(t.trigger,"Copied"),t.clearSelection(),e(t.trigger).blur()},t=function(e){var t;return t=/Mac/i.test(navigator.userAgent)?"&#8984;":"Ctrl",r(e.trigger,"Press "+t+"-C to copy")},r=function(t,n){var i=e(t),r=i.data("original-title");i.attr("title","Copied").tooltip("fixTitle").tooltip("show").attr("title",r).tooltip("fixTitle")},e(function(){var n=new a.a("[data-clipboard-target], [data-clipboard-text]");n.on("success",i),n.on("error",t),e(document).on("copy","body > textarea[readonly]",function(e){var t=e.originalEvent.clipboardData;if(t){var n=e.target.value,i=void 0;try{i=JSON.parse(n)}catch(e){return}i.text&&i.gfm&&(e.preventDefault(),t.setData("text/plain",i.text),t.setData("text/x-gfm",i.gfm))}})})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./create_label.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./api.js"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function n(i,r,o){t(this,n),this.$el=i,this.namespacePath=r,this.projectPath=o,this.$dropdownBack=e(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=e(".js-cancel-label-btn",this.$el),this.$newLabelField=e("#new_label_name",this.$el),this.$newColorField=e("#new_label_color",this.$el),this.$colorPreview=e(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=e(".js-label-error",this.$el),this.$newLabelCreateButton=e(".js-new-label-btn",this.$el),this.$colorSuggestions=e(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}return r(n,[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var t=this;this.$colorSuggestions.on("click",function(n){var i=e(this);t.addColorValue(n,i)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.resetForm(),t.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(t){var n=this;t.preventDefault(),t.stopPropagation(),i.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(t){if(n.$newLabelCreateButton.enable(),t.message){var i=void 0;i="string"==typeof t.message?t.message:Object.keys(t.message).map(function(e){return gl.text.humanize(e)+" "+t.message[e].join(", ")}).join("<br/>"),n.$newLabelError.html(i).show()}else n.$dropdownBack.trigger("click"),e(document).trigger("created.label",t)})}}]),n}();window.gl=window.gl||{},gl.CreateLabelDropdown=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./create_merge_request_dropdown.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./droplab/drop_lab.js"),o=n("./droplab/plugins/input_setter.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=Object.assign({},o.a),l=function(){function t(e){i(this,t),this.wrapperEl=e,this.createMergeRequestButton=this.wrapperEl.querySelector(".js-create-merge-request"),this.dropdownToggle=this.wrapperEl.querySelector(".js-dropdown-toggle"),this.dropdownList=this.wrapperEl.querySelector(".dropdown-menu"),this.availableButton=this.wrapperEl.querySelector(".available"),this.unavailableButton=this.wrapperEl.querySelector(".unavailable"),this.unavailableButtonArrow=this.unavailableButton.querySelector(".fa"),this.unavailableButtonText=this.unavailableButton.querySelector(".text"),this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.canCreatePath=this.wrapperEl.dataset.canCreatePath,this.createMrPath=this.wrapperEl.dataset.createMrPath,this.droplabInitialized=!1,this.isCreatingMergeRequest=!1,this.mergeRequestCreated=!1,this.isCreatingBranch=!1,this.branchCreated=!1,this.init()}return a(t,[{key:"init",value:function(){this.checkAbilityToCreateBranch()}},{key:"available",value:function(){this.availableButton.classList.remove("hide"),this.unavailableButton.classList.add("hide")}},{key:"unavailable",value:function(){this.availableButton.classList.add("hide"),this.unavailableButton.classList.remove("hide")}},{key:"enable",value:function(){this.createMergeRequestButton.classList.remove("disabled"),this.createMergeRequestButton.removeAttribute("disabled"),this.dropdownToggle.classList.remove("disabled"),this.dropdownToggle.removeAttribute("disabled")}},{key:"disable",value:function(){this.createMergeRequestButton.classList.add("disabled"),this.createMergeRequestButton.setAttribute("disabled","disabled"),this.dropdownToggle.classList.add("disabled"),this.dropdownToggle.setAttribute("disabled","disabled")}},{key:"hide",value:function(){this.wrapperEl.classList.add("hide")}},{key:"setUnavailableButtonState",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(this.unavailableButtonArrow.classList.remove("fa-spinner","fa-spin"),this.unavailableButtonArrow.classList.add("fa-exclamation-triangle"),this.unavailableButtonText.textContent="New branch unavailable"):(this.unavailableButtonArrow.classList.add("fa-spinner","fa-spin"),this.unavailableButtonArrow.classList.remove("fa-exclamation-triangle"),this.unavailableButtonText.textContent="Checking branch availability")}},{key:"checkAbilityToCreateBranch",value:function(){var t=this;return e.ajax({type:"GET",dataType:"json",url:this.canCreatePath,beforeSend:function(){return t.setUnavailableButtonState()}}).done(function(e){t.setUnavailableButtonState(!1),e.can_create_branch?(t.available(),t.enable(),t.droplabInitialized||(t.droplabInitialized=!0,t.initDroplab(),t.bindEvents())):e.has_related_branch&&t.hide()}).fail(function(){t.unavailable(),t.disable(),new Flash("Failed to check if a new branch can be created.")})}},{key:"initDroplab",value:function(){this.droplab=new r.a,this.droplab.init(this.dropdownToggle,this.dropdownList,[s],this.getDroplabConfig())}},{key:"getDroplabConfig",value:function(){return{InputSetter:[{input:this.createMergeRequestButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createMergeRequestButton,valueAttribute:"data-text"}]}}},{key:"bindEvents",value:function(){this.createMergeRequestButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this))}},{key:"isBusy",value:function(){return this.isCreatingMergeRequest||this.mergeRequestCreated||this.isCreatingBranch||this.branchCreated}},{key:"onClickCreateMergeRequestButton",value:function(e){var t=this,n=null;e.preventDefault(),this.isBusy()||("create-mr"===e.target.dataset.action?n=this.createMergeRequest():"create-branch"===e.target.dataset.action&&(n=this.createBranch()),n.fail(function(){t.isCreatingMergeRequest=!1,t.isCreatingBranch=!1}),n.always(function(){return t.enable()}),this.disable())}},{key:"createMergeRequest",value:function(){var t=this;return e.ajax({method:"POST",dataType:"json",url:this.createMrPath,beforeSend:function(){return t.isCreatingMergeRequest=!0}}).done(function(e){t.mergeRequestCreated=!0,window.location.href=e.url}).fail(function(){return new Flash("Failed to create Merge Request. Please try again.")})}},{key:"createBranch",value:function(){var t=this;return e.ajax({method:"POST",dataType:"json",url:this.createBranchPath,beforeSend:function(){return t.isCreatingBranch=!0}}).done(function(e){t.branchCreated=!0,window.location.href=e.url}).fail(function(){return new Flash("Failed to create a branch for this issue. Please try again.")})}}]),t}();t.a=l}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./diff.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./lib/utils/url_utility.js"),r=(n.n(i),n("./files_comment_button.js")),o=n("./single_file_diff.js"),a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=!1,u=function(){function n(){t(this,n);var i=e(".files .diff-file");i.each(function(t,n){e.data(n,"singleFileDiff")||e.data(n,"singleFileDiff",new o.a(n))}),r.a.init(i),i.each(function(e,t){return new gl.ImageFile(t)}),l||(e(document).on("click",".js-unfold",this.handleClickUnfold.bind(this)).on("click",".diff-line-num a",this.handleClickLineNum.bind(this)),l=!0),gl.utils.getLocationHash()&&this.highlightSelectedLine(),this.openAnchoredDiff()}return s(n,[{key:"handleClickUnfold",value:function(t){var n=e(t.target),i=this.lineNumbers(n.parent()),r=a(i,2),o=r[0],s=r[1],l=s-o,u=n.hasClass("js-unfold-bottom"),c=void 0,d=void 0,h=!0;if(u){var f=s+1;c=f,d=f+20}else{var p=s-1;c=p-20,d=p;var m=this.lineNumbers(n.parent().prev())[1];c<=m+1&&(c=m+1,h=!1)}var g=n.parents(".diff-file"),v=g.data("blob-diff-path"),b=g.data("view"),y={since:c,to:d,bottom:u,offset:l,unfold:h,view:b};e.get(v,y,function(e){return n.parent().replaceWith(e)})}},{key:"openAnchoredDiff",value:function(t){var n=this,i=gl.utils.getLocationHash(),r=i&&i.split("_")[0];if(r){var o=e("#"+r),a=o.closest(".diff-file");if(e(".nothing-here-block:visible",a).length){var s=e(".js-file-title, .click-to-expand",a);a.data("singleFileDiff").toggleDiff(s,function(){n.highlightSelectedLine(),t&&t()})}else t&&t()}}},{key:"handleClickLineNum",value:function(t){var n=e(t.currentTarget).attr("href");t.preventDefault(),window.history.pushState?window.history.pushState(null,null,n):window.location.hash=n,this.highlightSelectedLine()}},{key:"diffViewType",value:function(){return e(".inline-parallel-buttons a.active").data("view-type")}},{key:"lineNumbers",value:function(t){var n=t.find(".diff-line-num").toArray();return 2!==n.length?[0,0]:n.map(function(t){return parseInt(e(t).data("linenumber"),10)||0})}},{key:"highlightSelectedLine",value:function(){var t=gl.utils.getLocationHash(),n=e(".diff-file");n.find(".hll").removeClass("hll"),t&&n.find("tr#"+t+":not(.match) td, td#"+t+', td[data-line-code="'+t+'"]').addClass("hll")}}]),n}();window.gl=window.gl||{},window.gl.Diff=u}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./dispatcher.js":function(e,t,n){"use strict";(function(e){var t=n("./issue.js"),i=n("./behaviors/bind_in_out.js"),r=n("./branches/branches_delete_modal.js"),o=n("./group.js"),a=n("./group_name.js"),s=n("./groups_list.js"),l=n("./projects_list.js"),u=n("./project_edit.js"),c=n("./mini_pipeline_graph_dropdown.js"),d=n("./blob/blob_line_permalink_updater.js"),h=n("./landing.js"),f=n("./blob/blob_fork_suggestion.js"),p=n("./user_callout.js"),m=n("./protected_tags/index.js"),g=n("./shortcuts_wiki.js"),v=n("./pipelines.js"),b=n("./blob/viewer/index.js"),y=n("./issuable/auto_width_dropdown_select.js"),w=n("./users_select.js"),j=n("./ref_select_dropdown.js"),k=n("./gfm_auto_complete.js"),_=n("./shortcuts_blob.js"),C=n("./signin_tabs_memoizer.js"),E=n("./star.js"),T=n("./todos.js"),x=n("./tree.js"),S=n("./usage_ping.js"),D=n("./username_validator.js"),A=n("./version_check_image.js"),F=n("./wikis.js"),L=n("./zen_mode.js"),I=n("./settings_panels.js"),M=n("./experimental_flags.js"),B=n("./oauth_remember_me.js"),P=n("./performance_bar.js");(function(){var q;e(function(){return new q}),q=function(){function q(){this.initSearch(),this.initFieldErrors(),this.initPageScripts()}return q.prototype.initPageScripts=function(){function q(){new LineHighlighter,new d.a(document.querySelector("#blob-content-holder"),".diff-line-num[data-line-number]",document.querySelectorAll(".js-data-file-blob-permalink-url, .js-blob-blame-link")),R=new ShortcutsNavigation,$=document.querySelector(".js-data-file-blob-permalink-url"),H=$&&$.getAttribute("href"),new _.a({skipResetBindings:!0,fileBlobPermalinkUrl:H}),new f.a({openButtons:document.querySelectorAll(".js-edit-blob-link-fork-toggler"),forkButtons:document.querySelectorAll(".js-fork-suggestion-button"),cancelButtons:document.querySelectorAll(".js-cancel-fork-suggestion-button"),suggestionSections:document.querySelectorAll(".js-file-fork-suggestion-section"),actionTextPieces:document.querySelectorAll(".js-file-fork-suggestion-section-action")}).init()}var O,N,R,$,H;if(!(O=e("body").attr("data-page")))return!1;switch(N=O.split(":"),R=null,e(".js-gfm-input").each(function(t,n){var i=new k.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources),r=gl.utils.convertPermissionToBoolean(n.dataset.supportsAutocomplete);i.setup(e(n),{emojis:!0,members:r,issues:r,milestones:r,mergeRequests:r,labels:r})}),O){case"profiles:preferences:show":n.i(M.a)();break;case"sessions:new":new D.a,new C.a,new B.a({container:e(".omniauth-container")}).bindEvents();break;case"projects:boards:show":case"projects:boards:index":R=new ShortcutsNavigation,new w.a;break;case"projects:merge_requests:index":case"projects:issues:index":if(gl.FilteredSearchManager&&document.querySelector(".filtered-search")){new gl.FilteredSearchManager("projects:issues:index"===O?"issues":"merge_requests").setup()}var U="projects:merge_requests:index"===O?"merge_request_":"issue_";IssuableIndex.init(U),R=new ShortcutsNavigation,new w.a;break;case"projects:issues:show":new t.a,R=new ShortcutsIssuable,new L.a;break;case"dashboard:milestones:index":new ProjectSelect;break;case"projects:milestones:show":case"groups:milestones:show":case"dashboard:milestones:show":new Milestone,new Sidebar;break;case"groups:issues":case"groups:merge_requests":new w.a,new ProjectSelect;break;case"dashboard:todos:index":new T.a;break;case"dashboard:projects:index":case"dashboard:projects:starred":case"explore:projects:index":case"explore:projects:trending":case"explore:projects:starred":case"admin:projects:index":new l.a;break;case"explore:groups:index":new s.default;var z=document.querySelector(".js-explore-groups-landing");if(!z)break;new h.a(z,z.querySelector(".dismiss-button"),"explore_groups_landing_dismissed").toggle();break;case"projects:milestones:new":case"projects:milestones:edit":case"projects:milestones:update":case"groups:milestones:new":case"groups:milestones:edit":case"groups:milestones:update":new L.a,new gl.DueDateSelectors,new gl.GLForm(e(".milestone-form"),!0);break;case"projects:compare:show":new gl.Diff;break;case"projects:branches:index":gl.AjaxLoadingSpinner.init(),new r.a;break;case"projects:issues:new":case"projects:issues:edit":R=new ShortcutsNavigation,new gl.GLForm(e(".issue-form"),!0),new IssuableForm(e(".issue-form")),new LabelsSelect,new MilestoneSelect,new gl.IssuableTemplateSelectors;break;case"projects:merge_requests:creations:new":case"projects:merge_requests:creations:diffs":case"projects:merge_requests:edit":new gl.Diff,R=new ShortcutsNavigation,new gl.GLForm(e(".merge-request-form"),!0),new IssuableForm(e(".merge-request-form")),new LabelsSelect,new MilestoneSelect,new gl.IssuableTemplateSelectors,new y.a(e(".js-target-branch-select")).init();break;case"projects:tags:new":new L.a,new gl.GLForm(e(".tag-form"),!0),new j.a(e(".js-branch-select"),window.gl.availableRefs);break;case"projects:snippets:new":case"projects:snippets:edit":case"projects:snippets:create":case"projects:snippets:update":new gl.GLForm(e(".snippet-form"),!0);break;case"snippets:new":case"snippets:edit":case"snippets:create":case"snippets:update":new gl.GLForm(e(".snippet-form"),!1);break;case"projects:releases:edit":new L.a,new gl.GLForm(e(".release-form"),!0);break;case"projects:merge_requests:show":new gl.Diff,R=new ShortcutsIssuable(!0),new L.a;break;case"dashboard:activity":new gl.Activities;break;case"dashboard:issues":case"dashboard:merge_requests":new ProjectSelect,new w.a;break;case"projects:commit:show":new Commit,new gl.Diff,new L.a,R=new ShortcutsNavigation,new c.a({container:".js-commit-pipeline-graph"}).bindEvents();break;case"projects:commit:pipelines":new c.a({container:".js-commit-pipeline-graph"}).bindEvents();break;case"projects:commits:show":case"projects:activity":R=new ShortcutsNavigation;break;case"projects:show":R=new ShortcutsNavigation,new NotificationsForm,e("#tree-slider").length&&new x.a,e(".blob-viewer").length&&new b.a;break;case"projects:edit":n.i(u.a)();break;case"projects:pipelines:builds":case"projects:pipelines:failures":case"projects:pipelines:show":var W=document.querySelector(".js-pipeline-container").dataset.controllerAction,V=document.querySelector(".js-pipeline-tab-link a").getAttribute("href")+"/status.json";new v.a({initTabs:!0,pipelineStatusUrl:V,tabsOptions:{action:W,defaultAction:"pipelines",parentEl:".pipelines-tabs"}});break;case"groups:activity":new gl.Activities;break;case"groups:show":R=new ShortcutsNavigation,new NotificationsForm,new NotificationsDropdown,new l.a;break;case"groups:group_members:index":new gl.MemberExpirationDate,new gl.Members,new w.a;break;case"projects:project_members:index":new gl.MemberExpirationDate(".js-access-expiration-date-groups"),new GroupsSelect,new gl.MemberExpirationDate,new gl.Members,new w.a;break;case"groups:new":case"admin:groups:new":case"groups:create":case"admin:groups:create":i.a.initAll(),new o.default,new GroupAvatar;break;case"groups:edit":case"admin:groups:edit":new GroupAvatar;break;case"projects:tree:show":R=new ShortcutsNavigation,new x.a,new b.a;break;case"projects:find_file:show":R=!0;break;case"projects:blob:show":new b.a,q();break;case"projects:blame:show":q();break;case"groups:labels:new":case"groups:labels:edit":case"projects:labels:new":case"projects:labels:edit":new Labels;break;case"projects:labels:index":e(".prioritized-labels").length&&new gl.LabelManager;break;case"projects:network:show":R=!0;break;case"projects:forks:new":new ProjectFork;break;case"projects:artifacts:browse":new ShortcutsNavigation,new BuildArtifacts;break;case"projects:artifacts:file":new ShortcutsNavigation,new b.a;break;case"help:index":A.a.bindErrorEvent(e("img.js-version-status-badge"));break;case"search:show":new Search;break;case"projects:settings:repository:show":new gl.ProtectedBranchCreate,new gl.ProtectedBranchEditList,new m.ProtectedTagCreate,new m.ProtectedTagEditList,n.i(I.a)();break;case"projects:settings:ci_cd:show":case"groups:settings:ci_cd:show":new gl.ProjectVariables;break;case"ci:lints:create":case"ci:lints:show":new gl.CILintEditor;break;case"users:show":case"admin:conversational_development_index:show":new p.a;break;case"snippets:show":new LineHighlighter,new b.a;break;case"import:fogbugz:new_user_map":new w.a}switch(N.first()){case"sessions":case"omniauth_callbacks":if(!gon.u2f)break;gl.u2fAuthenticate=new gl.U2FAuthenticate(e("#js-authenticate-u2f"),"#js-login-u2f-form",gon.u2f,document.querySelector("#js-login-2fa-device"),document.querySelector(".js-2fa-form")),gl.u2fAuthenticate.start();case"admin":switch(new Admin,N[1]){case"cohorts":new S.a;break;case"groups":new w.a;break;case"projects":new NamespaceSelects;break;case"labels":switch(N[2]){case"new":case"edit":new Labels}case"abuse_reports":new gl.AbuseReports}break;case"dashboard":case"root":new p.a;break;case"groups":new a.a;break;case"profiles":new NotificationsForm,new NotificationsDropdown;break;case"projects":switch(new Project,new ProjectAvatar,new a.a,N[1]){case"compare":new CompareAutocomplete;break;case"edit":R=new ShortcutsNavigation,new ProjectNew;break;case"new":new ProjectNew;break;case"show":new E.a,new ProjectNew,new ProjectShow,new NotificationsDropdown;break;case"wikis":new F.a,R=new g.a,new L.a,new gl.GLForm(e(".wiki-form"),!0);break;case"snippets":R=new ShortcutsNavigation,"show"===N[2]&&(new L.a,new LineHighlighter,new b.a);break;case"labels":case"graphs":case"compare":case"pipelines":case"forks":case"milestones":case"project_members":case"deploy_keys":case"builds":case"hooks":case"services":case"protected_branches":R=new ShortcutsNavigation}}R||new Shortcuts,document.querySelector("#peek")&&new P.default({container:"#peek"})},q.prototype.initSearch=function(){if(e(".search").length)return new gl.SearchAutocomplete},q.prototype.initFieldErrors=function(){e(".gl-show-field-errors").each(function(e,t){new gl.GlFieldErrors(t)})},q}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./droplab/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return s});var i="data-dropdown-trigger",r="data-dropdown",o="droplab-item-selected",a="droplab-item-active",s="droplab-item-ignore",l=/\{\{(.+?)\}\}/g},"./droplab/drop_down.js":function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./droplab/utils.js"),a=n("./droplab/constants.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){r(this,e),this.currentIndex=0,this.hidden=!0,this.list="string"==typeof t?document.querySelector(t):t,this.items=[],this.eventWrapper={},this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=t.innerHTML}return s(e,[{key:"getItems",value:function(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}},{key:"initTemplateString",value:function(){var e=this.items||this.getItems(),t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}},{key:"clickEvent",value:function(e){if("UL"!==e.target.tagName&&!e.target.classList.contains(a.c)){var t=o.a.closest(e.target,"LI");if(t){this.addSelectedClass(t),e.preventDefault(),this.hide();var n=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(n)}}}},{key:"addSelectedClass",value:function(e){this.removeSelectedClasses(),e.classList.add(a.d)}},{key:"removeSelectedClasses",value:function(){(this.items||this.getItems()).forEach(function(e){return e.classList.remove(a.d)})}},{key:"addEvents",value:function(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent)}},{key:"setData",value:function(e){this.data=e,this.render(e)}},{key:"addData",value:function(e){this.data=(this.data||[]).concat(e),this.render(this.data)}},{key:"render",value:function(e){var t=e?e.map(this.renderChildren.bind(this)):[];(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("")}},{key:"renderChildren",value:function(t){var n=o.a.template(this.templateString,t),i=document.createElement("div");return i.innerHTML=n,e.setImagesSrc(i),i.firstChild.style.display=t.droplab_hidden?"none":"block",i.firstChild.outerHTML}},{key:"show",value:function(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1)}},{key:"hide",value:function(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0)}},{key:"toggle",value:function(){return this.hidden?this.show():this.hide()}},{key:"destroy",value:function(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent)}}],[{key:"setImagesSrc",value:function(e){[].concat(i(e.querySelectorAll("img[data-src]"))).forEach(function(e){var t=e;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")})}}]),e}();t.a=l},"./droplab/drop_lab.js":function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./droplab/hook_button.js"),a=n("./droplab/hook_input.js"),s=n("./droplab/utils.js"),l=n("./droplab/keyboard.js"),u=n("./droplab/constants.js"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(){function e(){r(this,e),this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}return c(e,[{key:"loadStatic",value:function(){var e=[].slice.apply(document.querySelectorAll("["+u.a+"]"));this.addHooks(e)}},{key:"addData",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processAddData")}},{key:"setData",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processSetData")}},{key:"destroy",value:function(){this.hooks.forEach(function(e){return e.destroy()}),this.hooks=[],this.removeEvents()}},{key:"applyArgs",value:function(e,t){return this.ready?this[t].apply(this,i(e)):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}},{key:"processAddData",value:function(e,t){this.processData(e,t,"addData")}},{key:"processSetData",value:function(e,t){this.processData(e,t,"setData")}},{key:"processData",value:function(e,t,n){this.hooks.forEach(function(i){Array.isArray(e)&&i.list[n](e),i.trigger.id===e&&i.list[n](t)})}},{key:"addEvents",value:function(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("click",this.eventWrapper.documentClicked)}},{key:"documentClicked",value:function(e){var t=e.target;"UL"!==t.tagName&&(t=s.a.closest(t,"UL")),s.a.isDropDownParts(t,this.hooks)||s.a.isDropDownParts(e.target,this.hooks)||this.hooks.forEach(function(e){return e.list.hide()})}},{key:"removeEvents",value:function(){document.removeEventListener("click",this.eventWrapper.documentClicked)}},{key:"changeHookList",value:function(e,t,n,i){var r=this,o="string"==typeof e?document.getElementById(e):e;this.hooks.forEach(function(e,a){var s=e;s.list.list.dataset.dropdownActive=!1,s.trigger===o&&(s.destroy(),r.hooks.splice(a,1),r.addHook(o,t,n,i))})}},{key:"addHook",value:function(e,t,n,i){var r="string"==typeof e?document.querySelector(e):e,l=void 0;l="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[s.a.toCamelCase(u.a)]),l.dataset.dropdownActive=!0;var c="INPUT"===r.tagName?a.a:o.a;return this.hooks.push(new c(r,l,n,i)),this}},{key:"addHooks",value:function(e,t,n){var i=this;return e.forEach(function(e){return i.addHook(e,null,t,n)}),this}},{key:"setConfig",value:function(e){this.config=e}},{key:"fireReady",value:function(){var e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}},{key:"init",value:function(e,t,i,r){var o=this;return e?this.addHook(e,t,i,r):this.loadStatic(),this.addEvents(),n.i(l.a)(),this.fireReady(),this.queuedData.forEach(function(e){return o.addData(e)}),this.queuedData=[],this}}]),e}();t.a=d},"./droplab/hook.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./droplab/drop_down.js"),o=function e(t,n,o,a){i(this,e),this.trigger=t,this.list=new r.a(n),this.type="Hook",this.event="click",this.plugins=o||[],this.config=a||{},this.id=t.id};t.a=o},"./droplab/hook_button.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./droplab/hook.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e,n,o,a){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.type="button",s.event="click",s.eventWrapper={},s.addEvents(),s.addPlugins(),s}return o(t,e),s(t,[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach(function(t){return t.init(e)})}},{key:"clicked",value:function(e){var t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}},{key:"addEvents",value:function(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}},{key:"removeEvents",value:function(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach(function(e){return e.destroy()})}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}}]),t}(a.a);t.a=l},"./droplab/hook_input.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./droplab/hook.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e,n,o,a){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a));return s.type="input",s.event="input",s.eventWrapper={},s.addEvents(),s.addPlugins(),s}return o(t,e),s(t,[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach(function(t){return t.init(e)})}},{key:"addEvents",value:function(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}},{key:"removeEvents",value:function(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}},{key:"input",value:function(e){if(!this.hasRemovedEvents){this.list.show();var t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"mousedown",value:function(e){if(!this.hasRemovedEvents){var t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"keyup",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}},{key:"keydown",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}},{key:"keyEvent",value:function(e,t){this.list.show();var n=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(n)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach(function(e){return e.destroy()})}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}}]),t}(a.a);t.a=l},"./droplab/keyboard.js":function(e,t,n){"use strict";var i=n("./droplab/constants.js"),r=function(){var e,t=!1,n=!1,r=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),n=[],r=0;r<t.length;r++){var o=t[r];o.classList.remove(i.b),"none"!==o.style.display&&n.push(o)}return n},o=function(e){var t=r(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var n=t[e.currentIndex-1],o=n.closest(".filter-dropdown");if(n.classList.add(i.b),o){var a=o.offsetHeight,s=n.offsetTop-30;s>a&&(o.scrollTop=s-a)}}},a=function(e){var i=e.detail.hook.list;r(i),i.show(),i.currentIndex=0,t=!1,n=!1},s=function(e){var t=r(e),n=t[e.currentIndex-1],i=new CustomEvent("click.dl",{detail:{list:e,selected:n,data:n.dataset}});e.list.dispatchEvent(i),e.hide()},l=function(i){var r=(i.target,i.detail.hook.list),a=r.currentIndex;if(t=!1,n=!1,i.detail.which){if(13===(e=i.detail.which))return void s(i.detail.hook.list);38===e&&(t=!0),40===e&&(n=!0)}else if(i.detail.key){if("Enter"===(e=i.detail.key))return void s(i.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(n=!0)}t&&a--,n&&a++,a<0&&(a=0),r.currentIndex=a,o(i.detail.hook.list)};document.addEventListener("mousedown.dl",a),document.addEventListener("keydown.dl",l)};t.a=r},"./droplab/plugins/input_setter.js":function(e,t,n){"use strict";var i={init:function(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents:function(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents:function(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs:function(e){var t=this;if(!this.destroyed){var n=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach(function(e){return t.setInput(e,n)})}},setInput:function(e,t){var n=e.input||this.hook.trigger,i=t.getAttribute(e.valueAttribute),r=e.inputAttribute;return n.hasAttribute(r)?n.setAttribute(r,i):"INPUT"===n.tagName?n.value=i:n.textContent=i},destroy:function(){this.destroyed=!0,this.removeEvents()}};t.a=i},"./droplab/utils.js":function(e,t,n){"use strict";var i=n("../../../node_modules/underscore/underscore.js"),r=(n.n(i),n("./droplab/constants.js")),o={toCamelCase:function(e){return this.camelize(e.split("-").slice(1).join(" "))},template:function(e,t){return n.i(i.template)(e,{escape:r.e})(t)},camelize:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")},closest:function(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:function(e){return!(!e||"HTML"===e.tagName)&&(e.hasAttribute(r.a)||e.hasAttribute(r.f))}};t.a=o},"./dropzone_input.js":function(e,t,n){"use strict";(function(e){var t=n("./preview_markdown.js");n.n(t);window.DropzoneInput=function(){function t(t){var n,i,r,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,C,E,T,x,S,D,A,F;Dropzone.autoDiscover=!1,m='<div class="div-dropzone-hover"></div>',j='<i class="fa fa-paperclip div-dropzone-icon"></i>',o=t.find(".button-attach-file"),i=t.find(".attaching-file-message"),a=t.find(".button-cancel-uploading-files"),s=t.find(".retry-uploading-link"),c=t.find(".uploading-progress"),l=t.find(".uploading-error-container"),u=t.find(".uploading-error-message"),d=t.find(".uploading-progress-container"),x=window.uploads_path||null,E=gon.max_file_size||10,b=t.find(".js-gfm-input"),b.wrap('<div class="div-dropzone"></div>'),b.on("paste",function(e){return function(e){return w(e)}}()),r=b.closest(".md-area"),t.setupMarkdownPreview(),v=t.find(".div-dropzone"),v.parent().addClass("div-dropzone-wrapper"),v.append(m),v.find(".div-dropzone-hover").append(j),x&&(g=v.dropzone({url:x,dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:E,uploadMultiple:!1,headers:{"X-CSRF-Token":e('meta[name="csrf-token"]').attr("content")},previewContainer:!1,processing:function(){return e(".div-dropzone-alert").alert("close")},dragover:function(){r.addClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",.7)},dragleave:function(){r.removeClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",0)},drop:function(){r.removeClass("is-dropzone-hover"),t.find(".div-dropzone-hover").css("opacity",0),b.focus()},success:function(e,t){var n=this.getQueuedFiles().length+this.getUploadingFiles().length,i=n>=1;T(t.link.markdown,i),n||o.removeClass("hide"),F(t.link.url)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Attaching the file failed.",n=arguments[2],i=n?n.responseText:t;l.removeClass("hide"),u.html(i),o.addClass("hide"),a.addClass("hide")},totaluploadprogress:function(e){n(this.files,i),c.text(Math.round(e)+"%")},sending:function(e){o.addClass("hide"),l.addClass("hide"),d.removeClass("hide"),a.removeClass("hide")},removedfile:function(){o.removeClass("hide"),a.addClass("hide"),d.addClass("hide"),l.addClass("hide")},queuecomplete:function(){e(".dz-preview").remove(),e(".markdown-area").trigger("input"),d.addClass("hide"),a.addClass("hide")}}),h=e(g[0]).children("textarea"),a.on("click",function(e){var t=e.target.closest("form").querySelector(".div-dropzone");e.preventDefault(),e.stopPropagation(),Dropzone.forElement(t).removeAllFiles(!0)}),s.on("click",function(e){var t=Dropzone.forElement(e.target.closest("form").querySelector(".div-dropzone")),n=t.files;e.preventDefault(),t.removeAllFiles(!0),n.map(function(e,n){var i=e;return i.status===Dropzone.ERROR&&(i.status=void 0,i.accepted=void 0),t.addFile(i)})}),w=function(e){var t,n,i,r;if(i=e.originalEvent,i.clipboardData&&i.clipboardData.items&&(n=C(i)))return e.preventDefault(),t=y(i)||"image.png",r="{{"+t+"}}",T(r),A(n.getAsFile(),t)},C=function(e){var t,n;for(t=0;t<e.clipboardData.items.length;){if(n=e.clipboardData.items[t],-1!==n.type.indexOf("image"))return n;t+=1}return!1},T=function(t,n){var i,r,o,a,s,l=t;n&&(l+="\n\n");var u=h.get(0);return a=u.selectionStart,o=u.selectionEnd,s=e(h).val().length,r=e(h).val().substring(0,a),i=e(h).val().substring(o,s),e(h).val(r+l+i),u.setSelectionRange(a+l.length,o+l.length),u.style.height=u.scrollHeight+"px",b.get(0).dispatchEvent(new Event("input")),b.trigger("input")},F=function(n){e(t).append('<input type="hidden" name="files[]" value="'+_.escape(n)+'">')},y=function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),t=t.split("\r"),t.first()},A=function(t,n){var i;return i=new FormData,i.append("file",t,n),e.ajax({url:x,type:"POST",data:i,dataType:"json",processData:!1,contentType:!1,headers:{"X-CSRF-Token":e('meta[name="csrf-token"]').attr("content")},beforeSend:function(){return D(),f()},success:function(e,t,i){return k(n,i.responseJSON.link.markdown)},error:function(e){return S(e.responseJSON.message)},complete:function(){return p()}})},n=function(e,t){var n=void 0,i=e.filter(function(e){return"uploading"===e.status||"queued"===e.status}).length;n=i>1?"Attaching "+i+" files -":"Attaching a file -",t.text(n)},k=function(t,n){return e(h).val(function(e,i){return i.replace("{{"+t+"}}",n)})},function(t){return e(h).val(function(e,n){return n+t+"\n"})},D=function(e){return d.removeClass("hide")},p=function(){return d.addClass("hide")},S=function(e){l.removeClass("hide"),u.html(e)},f=function(){return t.find(".div-dropzone-alert").alert("close")},t.find(".markdown-selector").click(function(t){t.preventDefault(),e(this).closest(".gfm-form").find(".div-dropzone").click(),b.focus()}))}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./due_date_select.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./lib/utils/datefix.js"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.$dropdown,o=i.$loading;t(this,n);var a=r.closest(".dropdown"),s=r.closest(".block");this.$loading=o,this.$dropdown=r,this.$dropdownParent=a,this.$datePicker=a.find(".js-due-date-calendar"),this.$block=s,this.$selectbox=r.closest(".selectbox"),this.$value=s.find(".value"),this.$valueContent=s.find(".value-content"),this.$sidebarValue=e(".js-due-date-sidebar-value",s),this.fieldName=r.data("field-name"),this.abilityName=r.data("ability-name"),this.issueUpdateURL=r.data("issue-update"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return r(n,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var t=this,n=e("input[name='"+this.fieldName+"']"),r=i.a.dashedFix(n.val()),o=new Pikaday({field:n.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",onSelect:function(e){var i=dateFormat(new Date(e),"yyyy-mm-dd");n.val(i),t.$dropdown.hasClass("js-issue-boards-due-date")?(gl.issueBoards.BoardsStore.detail.issue.dueDate=n.val(),t.updateIssueBoardIssue()):t.saveDueDate(!0)}});o.setDate(r),this.$datePicker.append(o.el),this.$datePicker.data("pikaday",o)}},{key:"initRemoveDueDate",value:function(){var t=this;this.$block.on("click",".js-remove-due-date",function(n){var i=t.$datePicker.data("pikaday");if(n.preventDefault(),i.setDate(null),!t.$dropdown.hasClass("js-issue-boards-due-date"))return e("input[name='"+t.fieldName+"']").val(""),t.saveDueDate(!1);gl.issueBoards.BoardsStore.detail.issue.dueDate="",t.updateIssueBoardIssue()})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=e("input[name='"+this.fieldName+"']").val(),this.rawSelectedDate.length){var t=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),n=new Date(t[0],t[1]-1,t[2]);this.displayedDate=dateFormat(n,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};gl.issueBoards.BoardsStore.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(t){var n=this;return e.ajax({type:"PUT",url:this.issueUpdateURL,data:this.datePayload,dataType:"json",beforeSend:function(){var i=n.datePayload[n.abilityName].due_date,r="No due date"!==n.displayedDate?"bold":"no-value";return n.$loading.removeClass("hidden").fadeIn(),t&&(n.$dropdown.trigger("loading.gl.dropdown"),n.$selectbox.hide()),n.$value.css("display",""),n.$valueContent.html("<span class='"+r+"'>"+n.displayedDate+"</span>"),n.$sidebarValue.html(n.displayedDate),i.length?e(".js-remove-due-date-holder").removeClass("hidden"):e(".js-remove-due-date-holder").addClass("hidden")}}).done(function(e){return t&&(n.$dropdown.trigger("loaded.gl.dropdown"),n.$dropdown.dropdown("toggle")),n.$loading.fadeOut()})}}]),n}(),a=function(){function n(){t(this,n),this.initMilestoneDatePicker(),this.initIssuableSelect()}return r(n,[{key:"initMilestoneDatePicker",value:function(){e(".datepicker").each(function(){var t=e(this),n=i.a.dashedFix(t.val()),r=new Pikaday({field:t.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:t.parent().get(0),onSelect:function(e){t.val(dateFormat(new Date(e),"yyyy-mm-dd"))}});r.setDate(n),t.data("pikaday",r)}),e(".js-clear-due-date,.js-clear-start-date").on("click",function(t){t.preventDefault(),e(t.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var t=e(".js-issuable-update .due_date").find(".block-loading").hide();e(".js-due-date-select").each(function(n,i){var r=e(i);new o({$dropdown:r,$loading:t})})}}]),n}();window.gl=window.gl||{},window.gl.DueDateSelectors=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./emoji/support/index.js":function(e,t,n){"use strict";function i(e,t){return a=a||n.i(o.a)(),n.i(r.a)(a,e,t)}t.a=i;var r=n("./emoji/support/is_emoji_unicode_supported.js"),o=n("./emoji/support/unicode_support_map.js"),a=void 0},"./emoji/support/is_emoji_unicode_supported.js":function(e,t,n){"use strict";function i(e){var t=e.codePointAt(0);return 4===e.length&&t>=f&&t<=p}function r(e){return 3===e.length&&""===e[2]}function o(e){return e.length>2&&Array.from(e).some(function(e){var t=e.codePointAt(0);return t>=m&&t<=g})}function a(e){var t=Array.from(e)[0];return t&&t.codePointAt(0)===v&&o(e)}function s(e){var t=!1,n=!1;return Array.from(e).forEach(function(e){var i=e.codePointAt(0);i===b?n=!0:i>=y&&i<=w&&(t=!0)}),t&&n}function l(e,t){var n=i(t);return e.flag&&n||!n}function u(e,t){var n=o(t);return e.skinToneModifier&&n||!n}function c(e,t){var n=a(t);return e.horseRacing&&n||!n}function d(e,t){var n=s(t);return e.personZwj&&n||!n}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],i=e.meta&&e.meta.isChrome&&e.meta.chromeVersion<57;return e[n]&&!(i&&r(t))&&l(e,t)&&u(e,t)&&c(e,t)&&d(e,t)}n.d(t,"a",function(){return h});var f=127462,p=127487,m=127995,g=127999,v=127943,b=8205,y=128102,w=128105},"./emoji/support/unicode_support_map.js":function(e,t,n){"use strict";function i(e,t){var n=4*e,i=t[n+0]||t[n+1]||t[n+2],r=t[n+3];return!(!i||!r)}function r(e){var t=Object.keys(e),n=t.reduce(function(t,n){return t.concat(e[n])},[]).length,r=document.createElement("canvas");(window.gl||window).testEmojiUnicodeSupportMapCanvas=r;var o=r.getContext("2d");r.width=2*d,r.height=n*d,o.fillStyle="#000000",o.textBaseline="middle",o.font=d+'px "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';var a=0;t.forEach(function(t){[].concat(e[t]).forEach(function(e){o.fillText(e,0,a*d+d/2),a+=1})});var s={},l=0;return t.forEach(function(t){var n=e[t],r=[].concat(n).reduce(function(e){for(var t=o.getImageData(0,l*d+d/2,2*d,1).data,n=!1,r=0;r<64;r+=1){var a=r<d,s=r>=d+d/2;if(a&&i(r,t))n=!0;else if(s&&i(r,t)){n=!1;break}}return l+=1,e&&n},!0);s[t]=r}),s.meta={isChrome:u,chromeVersion:c},s}function o(){var e=void 0,t=void 0,n=a.a.isLocalStorageAccessSafe();n&&(t=window.localStorage.getItem("gl-emoji-user-agent"));try{e=JSON.parse(window.localStorage.getItem("gl-emoji-unicode-support-map"))}catch(e){}return e&&t===navigator.userAgent||(e=r(s),n&&(window.localStorage.setItem("gl-emoji-user-agent",navigator.userAgent),window.localStorage.setItem("gl-emoji-unicode-support-map",JSON.stringify(e)))),e}t.a=o;var a=n("./lib/utils/accessor.js"),s={personZwj:"",horseRacing:"",flag:"",skinToneModifier:["","",""],"9.0":"","8.0":"","7.0":"",6.1:"","6.0":"",5.2:"",5.1:"",4.1:"","4.0":"",3.2:"","3.0":"",1.1:""},l=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\./),u=l&&l.length>0,c=l&&l[1]&&parseInt(l[1],10),d=16},"./experimental_flags.js":function(e,t,n){"use strict";(function(e){var i=n("../../../node_modules/js-cookie/src/js.cookie.js"),r=n.n(i);t.a=function(){e(".js-experiment-feature-toggle").on("change",function(e){var t=e.target;r.a.set(t.name,t.value,{expires:3650}),document.body.scrollTop=0,window.location.reload()})}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./extensions/array.js":function(e,t){Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]}},"./files_comment_button.js":function(e,t,n){"use strict";t.a={init:function(e){var t=this;this.userCanCreateNote||(this.userCanCreateNote=""===e.closest(".files").data("can-create-note")),"undefined"==typeof notes||this.isParallelView||(this.isParallelView=notes.isParallelView&&notes.isParallelView()),this.userCanCreateNote&&e.on("mouseover",".diff-line-num, .line_content",function(e){return t.showButton(t.isParallelView,e)}).on("mouseleave",".diff-line-num, .line_content",function(e){return t.hideButton(t.isParallelView,e)})},showButton:function(e,t){var n=this.getButtonParent(t.currentTarget,e);this.validateButtonParent(n)&&(n.classList.add("is-over"),n.nextElementSibling.classList.add("is-over"))},hideButton:function(e,t){var n=this.getButtonParent(t.currentTarget,e);n.classList.remove("is-over"),n.nextElementSibling.classList.remove("is-over")},getButtonParent:function(e,t){if(t){if(!e.classList.contains("diff-line-num"))return e.previousElementSibling}else if(!e.classList.contains("old_line"))return e.parentNode.querySelector(".old_line");return e},validateButtonParent:function(e){return!(e.classList.contains("empty-cell")||e.classList.contains("js-unfold")||e.classList.contains("no-comment-btn")||e.parentNode.classList.contains("diff-expanded"))}}},"./filterable_list.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(e,i,r){n(this,t),this.filterForm=e,this.listFilterElement=i,this.listHolderElement=r,this.isBusy=!1}return i(t,[{key:"getFilterEndpoint",value:function(){return this.filterForm.getAttribute("action")+"?"+e(this.filterForm).serialize()}},{key:"getPagePath",value:function(){return this.getFilterEndpoint()}},{key:"initSearch",value:function(){this.debounceFilter=_.debounce(this.onFilterInput.bind(this),500),this.unbindEvents(),this.bindEvents()}},{key:"onFilterInput",value:function(){var t=e(this.filterForm),n={},i=t.find('[name="filter_groups"]').val();i&&(n.filter_groups=i),this.filterResults(n),this.setDefaultFilterOption&&this.setDefaultFilterOption()}},{key:"bindEvents",value:function(){this.listFilterElement.addEventListener("input",this.debounceFilter)}},{key:"unbindEvents",value:function(){this.listFilterElement.removeEventListener("input",this.debounceFilter)}},{key:"filterResults",value:function(t){var n=this;return!this.isBusy&&(e(this.listHolderElement).fadeTo(250,.5),e.ajax({url:this.getFilterEndpoint(),data:t,type:"GET",dataType:"json",context:this,complete:this.onFilterComplete,beforeSend:function(){n.isBusy=!0},success:function(e,i,r){n.onFilterSuccess(e,r,t)}}))}},{key:"onFilterSuccess",value:function(e,t,n){e.html&&(this.listHolderElement.innerHTML=e.html);var i=this.getPagePath(n);return window.history.replaceState({page:i},document.title,i)}},{key:"onFilterComplete",value:function(){this.isBusy=!1,e(this.listHolderElement).fadeTo(250,1)}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./flash.js":function(e,t,n){(function(e){window.Flash=function(){function t(t,i,r,o){var a,s,l;if(null==i&&(i="alert"),null==r&&(r=null),this.flashContainer=r?r.find(".flash-container"):e(".flash-container-page"),this.flashContainer.html(""),a=e("<div/>",{class:"flash-"+i}),a.on("click",n),s=e("<div/>",{class:"flash-text",text:t}),s.appendTo(a),o){var u={class:"flash-action",href:o.href||"#",text:o.title};o.href||(u.role="button"),l=e("<a/>",u),l.appendTo(a),this.flashContainer.on("click",".flash-action",o.clickHandler)}this.flashContainer.parent().hasClass("content-wrapper")&&s.addClass("container-fluid container-limited"),a.appendTo(this.flashContainer),this.flashContainer.show()}var n;return n=function(){return e(this).fadeOut()},t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./gfm_auto_complete.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e.replace(/<(?:.|\n)*?>/gm,"")}var o=n("./lib/utils/regexp.js"),a=n("./lib/utils/ajax_cache.js"),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function t(e){i(this,t),this.dataSources=e||{},this.cachedData={},this.isLoadingData={}}return l(t,[{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{emojis:!0,members:!0,issues:!0,milestones:!0,mergeRequests:!0,labels:!0};this.input=t||e(".js-gfm-input"),this.enableMap=n,this.setupLifecycle()}},{key:"setupLifecycle",value:function(){var t=this;this.input.each(function(n,i){var r=e(i);r.off("focus.setupAtWho").on("focus.setupAtWho",t.setupAtWho.bind(t,r)),r.on("change.atwho",function(){return i.dispatchEvent(new Event("input"))}),r.on("inserted-commands.atwho",r.trigger.bind(r,"keyup")),r.on("clear-commands-cache.atwho",function(){return t.clearCache()})})}},{key:"setupAtWho",value:function(n){this.enableMap.emojis&&this.setupEmoji(n),this.enableMap.members&&this.setupMembers(n),this.enableMap.issues&&this.setupIssues(n),this.enableMap.milestones&&this.setupMilestones(n),this.enableMap.mergeRequests&&this.setupMergeRequests(n),this.enableMap.labels&&this.setupLabels(n),n.filter('[data-supports-quick-actions="true"]').atwho({at:"/",alias:"commands",searchKey:"search",skipSpecialCharacterTest:!0,data:t.defaultLoadingData,displayTpl:function(e){if(t.isLoading(e))return t.Loading.template;var n="<li>/${name}";return e.aliases.length>0&&(n+=' <small>(or /<%- aliases.join(", /") %>)</small>'),e.params.length>0&&(n+=' <small><%- params.join(" ") %></small>'),""!==e.description&&(n+='<small class="description"><i><%- description %></i></small>'),n+="</li>",_.template(n)(e)},insertTpl:function(e){var t="/${name} ",n=null;return e.params.length>0&&(n=e.params[0][0],/^[@%~]/.test(n)&&(t+="<%- referencePrefix %>")),_.template(t)({referencePrefix:n})},suffix:"",callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(n){return t.isLoading(n)?n:e.map(n,function(e){var t=e.name;return e.aliases.length>0&&(t=t+" "+e.aliases.join(" ")),{name:e.name,aliases:e.aliases,params:e.params,description:e.description,search:t}})},matcher:function(e,t){var n=/(?:^|\n)\/([A-Za-z_]*)$/gi,i=n.exec(t);return i?i[1]:null}})})}},{key:"setupEmoji",value:function(e){e.atwho({at:":",displayTpl:function(e){var n=t.Loading.template;return e&&e.name&&(n=t.Emoji.templateFunction(e.name)),n},insertTpl:":${name}:",skipSpecialCharacterTest:!0,data:t.defaultLoadingData,callbacks:s({},this.getDefaultCallbacks(),{matcher:function(e,t){var n=t.trim().split(/\s/).pop(),i=new RegExp("(?:[^"+o.a.unicodeLetters+"0-9:]|\n|^):([^:]*)$","gi"),r=i.exec(n);return r&&r.length?r[1]:null}})})}},{key:"setupMembers",value:function(n){n.atwho({at:"@",displayTpl:function(e){var n=t.Loading.template;return null!=e.username&&(n=t.Members.template),n},insertTpl:"${atwho-at}${username}",searchKey:"search",alwaysHighlightFirst:!0,skipSpecialCharacterTest:!0,data:t.defaultLoadingData,callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(t){return e.map(t,function(e){var t="";if(null==e.username)return e;t=e.name,e.count&&(t+=" ("+e.count+")");var n=e.avatar_url||e.username.charAt(0).toUpperCase(),i='<img src="'+e.avatar_url+'" alt="'+e.username+'" class="avatar avatar-inline center s26"/>',o='<div class="avatar center avatar-inline s26">'+n+"</div>";return{username:e.username,avatarTag:1===n.length?o:i,title:r(t),search:r(e.username+" "+e.name)}})}})})}},{key:"setupIssues",value:function(n){n.atwho({at:"#",alias:"issues",searchKey:"search",displayTpl:function(e){var n=t.Loading.template;return null!=e.title&&(n=t.Issues.template),n},data:t.defaultLoadingData,insertTpl:"${atwho-at}${id}",callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(t){return e.map(t,function(e){return null==e.title?e:{id:e.iid,title:r(e.title),search:e.iid+" "+e.title}})}})})}},{key:"setupMilestones",value:function(n){n.atwho({at:"%",alias:"milestones",searchKey:"search",insertTpl:"${atwho-at}${title}",displayTpl:function(e){var n=t.Loading.template;return null!=e.title&&(n=t.Milestones.template),n},data:t.defaultLoadingData,callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(t){return e.map(t,function(e){return null==e.title?e:{id:e.iid,title:r(e.title),search:e.title}})}})})}},{key:"setupMergeRequests",value:function(n){n.atwho({at:"!",alias:"mergerequests",searchKey:"search",displayTpl:function(e){var n=t.Loading.template;return null!=e.title&&(n=t.Issues.template),n},data:t.defaultLoadingData,insertTpl:"${atwho-at}${id}",callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(t){return e.map(t,function(e){return null==e.title?e:{id:e.iid,title:r(e.title),search:e.iid+" "+e.title}})}})})}},{key:"setupLabels",value:function(n){n.atwho({at:"~",alias:"labels",searchKey:"search",data:t.defaultLoadingData,displayTpl:function(e){var n=t.Labels.template;return t.isLoading(e)&&(n=t.Loading.template),n},insertTpl:"${atwho-at}${title}",callbacks:s({},this.getDefaultCallbacks(),{beforeSave:function(n){return t.isLoading(n)?n:e.map(n,function(e){return{title:r(e.title),color:e.color,search:e.title}})}})})}},{key:"getDefaultCallbacks",value:function(){var n=this.fetchData.bind(this);return{sorter:function(n,i,r){return this.setting.highlightFirst=this.setting.alwaysHighlightFirst||n.length>0,t.isLoading(i)?(this.setting.highlightFirst=!1,i):e.fn.atwho.default.callbacks.sorter(n,i,r)},filter:function(i,r,o){return t.isLoading(r)?(n(this.$inputor,this.at),r):e.fn.atwho.default.callbacks.filter(i,r,o)},beforeInsert:function(e){var t=e;if(e&&!this.setting.skipSpecialCharacterTest){var n=e.substring(1);n&&/[^\w\d]/.test(n)&&(t=e.charAt()+'"'+n+'"')}return t},matcher:function(e,t){var n=Object.keys(this.app.controllers).join("|"),i=Object.keys(this.app.controllers).join(""),r=t.split(/\s+/g).pop(),o=e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&"),a=decodeURI("%C3%80"),s=decodeURI("%C3%BF"),l=new RegExp("^(?:\\B|[^a-zA-Z0-9_"+i+"]|\\s)"+o+"(?!"+n+")((?:[A-Za-z"+a+"-"+s+"0-9_'.+-]|[^\\x00-\\x7a])*)$","gi"),u=l.exec(r);return u?u[1]:null}}}},{key:"fetchData",value:function(e,i){var r=this;this.isLoadingData[i]||(this.isLoadingData[i]=!0,this.cachedData[i]?this.loadData(e,i,this.cachedData[i]):"emojis"===t.atTypeMap[i]?n.e("emoji").then(n.bind(null,"./emoji/index.js")).then(function(n){var o=n.validEmojiNames,a=n.glEmojiTag;r.loadData(e,i,o),t.glEmojiTag=a}).catch(function(){r.isLoadingData[i]=!1}):a.a.retrieve(this.dataSources[t.atTypeMap[i]],!0).then(function(t){r.loadData(e,i,t)}).catch(function(){r.isLoadingData[i]=!1}))}},{key:"loadData",value:function(e,t,n){return this.isLoadingData[t]=!1,this.cachedData[t]=n,e.atwho("load",t,n),e.trigger("keyup")}},{key:"clearCache",value:function(){this.cachedData={}}},{key:"destroy",value:function(){this.input.each(function(t,n){e(n).atwho("destroy")})}}],[{key:"isLoading",value:function(e){var n=e;e&&e.length>0&&(n=e[0]);var i=t.defaultLoadingData[0];return n&&(n===i||n.name===i)}}]),t}();u.defaultLoadingData=["loading"],u.atTypeMap={":":"emojis","@":"members","#":"issues","!":"mergeRequests","~":"labels","%":"milestones","/":"commands"},u.glEmojiTag=null,u.Emoji={templateFunction:function(e){return u.glEmojiTag?"<li>"+e+" "+u.glEmojiTag(e)+"</li>":"<li>"+e+"</li>"}},u.Members={template:"<li>${avatarTag} ${username} <small>${title}</small></li>"},u.Labels={template:'<li><span class="dropdown-label-box" style="background: ${color}"></span> ${title}</li>'},u.Issues={template:"<li><small>${id}</small> ${title}</li>"},u.Milestones={template:"<li>${title}</li>"},u.Loading={template:'<li style="pointer-events: none;"><i class="fa fa-spinner fa-spin"></i> Loading...</li>'},t.a=u}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./gl_dropdown.js":function(e,t,n){"use strict";(function(e,t){var i,r,o,a=n("./lib/utils/type_utility.js"),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){function t(e,t){var n,i,o,a;this.input=e,this.options=t,this.filterInputBlur=null==(o=this.options.filterInputBlur)||o,i=this.input.parent(),n=i.find(".js-dropdown-input-clear"),n.on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.input.val("").trigger("input").focus()}}(this)),a="",this.input.on("keydown",function(e){13!==e.which||t.elIsInput||e.preventDefault()}).on("input",function(){return""===this.input.val()||i.hasClass(r)?""===this.input.val()&&i.hasClass(r)&&i.removeClass(r):i.addClass(r),this.options.remote?(clearTimeout(a),a=setTimeout(function(){return i.parent().addClass("is-loading"),this.options.query(this.input.val(),function(e){return i.parent().removeClass("is-loading"),this.options.callback(e)}.bind(this))}.bind(this),250)):this.filter(this.input.val())}.bind(this))}var i,r;return i=[27,40],[38,40],r="has-value",t.prototype.shouldBlur=function(e){return-1!==i.indexOf(e)},t.prototype.filter=function(t){var i,r,o,s,l,u;if(this.options.onFilter&&this.options.onFilter(t),null==(i=this.options.data())||this.options.filterByText)return r=this.options.elements(),t?r.each(function(){var n,i;if(n=e(this),i=fuzzaldrinPlus.match(n.text().trim(),t),!n.is(".dropdown-header"))return i.length?n.show().removeClass("option-hidden"):n.hide().addClass("option-hidden")}):r.show().removeClass("option-hidden");if(l=i,""!==t)if(_.isArray(i))l=fuzzaldrinPlus.filter(i,t,{key:this.options.keys});else if(n.i(a.a)(i)){l={};for(s in i)o=i[s],u=fuzzaldrinPlus.filter(o,t,{key:this.options.keys}),u.length&&(l[s]=u.map(function(e){return e}))}return this.options.callback(l)},t}(),o=function(){function t(e,t){this.dataEndpoint=e,this.options=t}return t.prototype.execute=function(){return"string"==typeof this.dataEndpoint?this.fetchData():"function"==typeof this.dataEndpoint?(this.options.beforeSend&&this.options.beforeSend(),this.dataEndpoint("",function(e){return function(t){if(e.options.success&&e.options.success(t),e.options.beforeSend)return e.options.beforeSend()}}(this))):void 0},t.prototype.fetchData=function(){return e.ajax({url:this.dataEndpoint,dataType:this.options.dataType,beforeSend:function(e){return function(){if(e.options.beforeSend)return e.options.beforeSend()}}(this),success:function(e){return function(t){if(e.options.success)return e.options.success(t)}}(this)})},t}(),i=function(){function i(t,n){var i,a,s;this.el=t,this.options=n,this.updateLabel=this.updateLabel.bind(this),this.hidden=this.hidden.bind(this),this.opened=this.opened.bind(this),this.shouldPropagate=this.shouldPropagate.bind(this),s=this,a=e(this.el).data("target"),this.dropdown=null!=a?e(a):e(this.el).parent(),this.filterInput=this.options.filterInput||this.getElement(u),this.highlight=!!this.options.highlight,this.filterInputBlur=null==this.options.filterInputBlur||this.options.filterInputBlur,s=this,_.isString(this.filterInput)&&(this.filterInput=this.getElement(this.filterInput)),i=this.options.search?this.options.search.fields:[],this.options.data&&(_.isObject(this.options.data)&&!_.isFunction(this.options.data)?(this.fullData=this.options.data,g=-1,this.parseData(this.options.data),this.focusTextInput()):this.remote=new o(this.options.data,{dataType:this.options.dataType,beforeSend:this.toggleLoading.bind(this),success:function(e){return function(t){if(e.fullData=t,e.parseData(e.fullData),e.focusTextInput(!0),e.options.filterable&&e.filter&&e.filter.input&&e.filter.input.val()&&""!==e.filter.input.val().trim())return e.filter.input.trigger("input")}}(this),instance:this})),this.options.filterable&&(this.filter=new r(this.filterInput,{elIsInput:e(this.el).is("input"),filterInputBlur:this.filterInputBlur,filterByText:this.options.filterByText,onFilter:this.options.onFilter,remote:this.options.filterRemote,query:this.options.data,keys:i,instance:this,elements:function(t){return function(){return a=".dropdown-content li:not("+f+")",t.dropdown.find(".dropdown-toggle-page").length&&(a=".dropdown-page-one "+a),e(a)}}(this),data:function(e){return function(){return e.fullData}}(this),callback:function(t){return function(n){t.parseData(n),""!==t.filterInput.val()&&(a=p,t.dropdown.find(".dropdown-toggle-page").length&&(a=".dropdown-page-one "+a),e(t.el).is("input")?g=-1:(e(a,t.dropdown).first().find("a").addClass("is-focused"),g=0))}}(this)})),this.dropdown.on("shown.bs.dropdown",this.opened),this.dropdown.on("hidden.bs.dropdown",this.hidden),e(this.el).on("update.label",this.updateLabel),this.dropdown.on("click",".dropdown-menu, .dropdown-menu-close",this.shouldPropagate),this.dropdown.on("keyup",function(t){return function(n){if(27===n.which)return e(".dropdown-menu-close",t.dropdown).trigger("click")}}(this)),this.dropdown.on("blur","a",function(t){return function(n){var i,r;if(null!=n.relatedTarget&&(r=e(n.relatedTarget),i=r.closest(".dropdown-menu"),0===i.length))return t.dropdown.removeClass("open")}}(this)),this.dropdown.find(".dropdown-toggle-page").length&&this.dropdown.find(".dropdown-toggle-page, .dropdown-menu-back").on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.togglePage()}}(this)),this.options.selectable&&(a=".dropdown-content a",this.dropdown.find(".dropdown-toggle-page").length&&(a=".dropdown-page-one .dropdown-content a"),this.dropdown.on("click",a,function(t){var n,i,r,o;n=e(t.currentTarget),i=s.rowClicked(n),r=i?i[0]:null,o=i?i[1]:null,this.options.clicked&&this.options.clicked.call(this,{selectedObj:r,$el:n,e:t,isMarking:o}),this.options.toggleLabel&&this.updateLabel(r,n,this),n.trigger("blur")}.bind(this)))}var l,u,c,d,h,f,p,m,g;return d="is-loading",h="is-page-two",l="is-active",c="is-indeterminate",g=-1,f=".divider, .separator, .dropdown-header, .dropdown-menu-empty-link",p=".dropdown-content li:not("+f+", .option-hidden)",m=5,u=".dropdown-input .dropdown-input-field",i.prototype.getElement=function(e){return this.dropdown.find(e)},i.prototype.toggleLoading=function(){return e(".dropdown-menu",this.dropdown).toggleClass(d)},i.prototype.togglePage=function(){var t;return t=e(".dropdown-menu",this.dropdown),t.hasClass(h)&&this.remote&&this.remote.execute(),t.toggleClass(h),this.dropdown.find('[class^="dropdown-page-"]:visible :text:visible:first').focus()},i.prototype.parseData=function(e){var t,i,r,o;if(this.renderedData=e,this.options.filterable&&0===e.length)r=[this.noResults()];else if(n.i(a.a)(e)){r=[];for(o in e)i=e[o],r.push(this.renderItem({header:o},o)),this.renderData(i,o).map(function(e){return r.push(e)})}else r=this.renderData(e);return t=this.renderMenu(r),this.appendMenu(t)},i.prototype.renderData=function(e,t){return null==t&&(t=!1),e.map(function(e){return function(n,i){return e.renderItem(n,t,i)}}(this))},i.prototype.shouldPropagate=function(t){var n;if(this.options.multiSelect)return!((n=e(t.target))&&!n.hasClass("dropdown-menu-close")&&!n.hasClass("dropdown-menu-close-icon")&&!n.data("is-link"))||(t.stopPropagation(),!1)},i.prototype.filteredFullData=function(){return this.fullData.filter(function(e){return"object"===(void 0===e?"undefined":s(e))&&!Object.prototype.hasOwnProperty.call(e,"beforeDivider")&&!Object.prototype.hasOwnProperty.call(e,"header")})},i.prototype.opened=function(t){var n;this.resetRows(),this.addArrowKeyEvent();var i=this.dropdown.find(".dropdown-menu-toggle"),r=i.hasClass("js-filter-bulk-update"),o=i.hasClass("js-multiselect");this.fullData&&r&&this.parseData(this.fullData);var a=this.filterInput.val();return this.fullData&&o&&this.options.processData&&0===a.length&&this.options.processData.call(this.options,a,this.filteredFullData(),this.parseData.bind(this)),n=e(".dropdown-content",this.dropdown).html(),this.remote&&""===n?this.remote.execute():this.focusTextInput(),this.options.showMenuAbove&&this.positionMenuAbove(),this.options.opened&&this.options.opened.call(this,t),this.dropdown.trigger("shown.gl.dropdown")},i.prototype.positionMenuAbove=function(){var t=e(this.el),n=this.dropdown.find(".dropdown-menu");n.css("top",-1*(t.height()+n.height()))},i.prototype.hidden=function(t){var n;return this.resetRows(),this.removeArrayKeyEvent(),n=this.dropdown.find(".dropdown-input-field"),this.options.filterable&&n.blur(),this.dropdown.find(".dropdown-toggle-page").length&&e(".dropdown-menu",this.dropdown).removeClass(h),this.options.hidden&&this.options.hidden.call(this,t),this.dropdown.trigger("hidden.gl.dropdown")},i.prototype.renderMenu=function(e){if(this.options.renderMenu)return this.options.renderMenu(e);for(var n=document.createElement("ul"),i=0;i<e.length;i+=1){var r=e[i];r instanceof t&&(r=r.get(0)),"string"==typeof r?n.innerHTML+=r:n.appendChild(r)}return n},i.prototype.appendMenu=function(e){return this.clearMenu().append(e)},i.prototype.clearMenu=function(){var t;return t=".dropdown-content",this.dropdown.find(".dropdown-toggle-page").length&&(t=".dropdown-page-one .dropdown-content"),e(t,this.dropdown).empty()},i.prototype.renderItem=function(e,t,n){var i,r,o,a,s,l,u;if(null==t&&(t=!1),null==n&&(n=!1),o=document.createElement("li"),"divider"===e||"separator"===e)return o.className=e,o;if(null!=e.header)return o.className="dropdown-header",o.innerHTML=e.header,o;if(this.options.renderRow)o=this.options.renderRow.call(this.options,e,this);else{a||(u=this.options.id?this.options.id(e):e.id,r=this.options.fieldName,u&&(u=u.toString().replace(/'/g,"\\'")),i=this.dropdown.parent().find("input[name='"+r+"'][value='"+u+"']"),i.length&&(a=!0)),l=null!=this.options.url?this.options.url(e):null!=e.url?e.url:"#",s=null!=this.options.text?this.options.text(e):null!=e.text?e.text:"",this.highlight&&(s=this.highlightTextMatches(s,this.filterInput.val()));var c=document.createElement("a");c.href=l,this.highlight?c.innerHTML=s:c.textContent=s,a&&(c.className="is-active"),t&&(c.dataset.group=t,c.dataset.index=n),o.appendChild(c)}return o},i.prototype.highlightTextMatches=function(e,t){var n=fuzzaldrinPlus.match(e,t),i=[].indexOf;return e.split("").map(function(e,t){return-1!==i.call(n,t)?"<b>"+e+"</b>":e}).join("")},i.prototype.noResults=function(){return"<li class='dropdown-menu-empty-link'> <a href='#' class='is-focused'> No matching results. </a> </li>"},i.prototype.rowClicked=function(t){var n,i,r,o,a,s,u,d;return i=this.options.fieldName,o=e(this.el).is("input"),this.renderedData&&(r=t.data("group"),r?(a=t.data("index"),s=this.renderedData[r][a]):(a=t.closest("li").index(),s=this.renderedData[a])),this.options.vue?(t.hasClass(l)?t.removeClass(l):t.addClass(l),[s]):(n=[],u=this.options.id?this.options.id(s,t):s.id,o?n=e(this.el):u&&(n=this.dropdown.parent().find("input[name='"+i+"'][value='"+u.toString().replace(/'/g,"\\'")+"']")),!this.options.isSelectable||this.options.isSelectable(s,t)?(t.hasClass(l)?(d=!1,t.removeClass(l),n&&n.length&&this.clearField(n,o)):t.hasClass(c)?(d=!0,t.addClass(l),t.removeClass(c),n&&n.length&&null==u&&this.clearField(n,o),n&&n.length||!i||this.addInput(i,u,s)):(d=!0,this.options.multiSelect&&!t.hasClass("dropdown-clear-active")||(this.dropdown.find("."+l).removeClass(l),o||this.dropdown.parent().find("input[name='"+i+"']").remove()),n&&n.length&&null==u&&this.clearField(n,o),t.addClass(l),null!=u&&(n&&n.length||!i?n&&n.length&&n.val(u).trigger("change"):this.addInput(i,u,s))),[s,d]):void 0)},i.prototype.focusTextInput=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.filterable&&(e(":focus").blur(),this.dropdown.one("transitionend",function(){t.filterInput.focus()}),n&&this.dropdown.trigger("transitionend"))},i.prototype.addInput=function(t,n,i){var r;return r=e("<input>").attr("type","hidden").attr("name",t).val(n),null!=this.options.inputId&&r.attr("id",this.options.inputId),this.options.multiSelect&&Object.keys(i).forEach(function(e){r.attr("data-"+e,i[e])}),this.options.inputMeta&&r.attr("data-meta",i[this.options.inputMeta]),this.dropdown.before(r)},i.prototype.selectRowAtIndex=function(t){var n,i;if(i=void 0!==t?p+":eq("+t+") a":".dropdown-content .is-focused",this.dropdown.find(".dropdown-toggle-page").length&&(i=".dropdown-page-one "+i),n=e(i,this.dropdown),n.length){var r=n.attr("href");r&&"#"!==r?gl.utils.visitUrl(r):n.first().trigger("click")}},i.prototype.addArrowKeyEvent=function(){var t,n;return t=[38,40],this.dropdown.find(".dropdown-input-field"),n=p,this.dropdown.find(".dropdown-toggle-page").length&&(n=".dropdown-page-one "+n),e("body").on("keydown",function(i){return function(r){var o,a,s;if(s=r.which,-1!==t.indexOf(s))return r.preventDefault(),r.stopImmediatePropagation(),a=g,o=e(n,i.dropdown),40===s?g<o.length-1&&(g+=1):38===s&&g>0&&(g-=1),g!==a&&i.highlightRowAtIndex(o,g),!1;13===s&&-1!==g&&(r.preventDefault(),i.selectRowAtIndex())}}(this))},i.prototype.removeArrayKeyEvent=function(){return e("body").off("keydown")},i.prototype.resetRows=function(){g=-1,e(".is-focused",this.dropdown).removeClass("is-focused")},i.prototype.highlightRowAtIndex=function(t,n){var i,r,o,a,s,l,u,c,d;if(e(".is-focused",this.dropdown).removeClass("is-focused"),r=t.eq(n),r.find("a:first-child").addClass("is-focused"),i=r.closest(".dropdown-content"),l=i.scrollTop(),a=i.outerHeight(),s=i.prop("offsetTop"),o=s+a,c=r.outerHeight(),d=r.prop("offsetTop"),u=d+c,n){if(n===t.length-1)i.scrollTop(i.prop("scrollHeight"));else if(u>o+l)i.scrollTop(u-o+m);else if(d<s+l)return i.scrollTop(d-s-m)}else i.scrollTop(0)},i.prototype.updateLabel=function(t,n,i){null==t&&(t=null),null==n&&(n=null),null==i&&(i=null);var r=this.options.toggleLabel(t,n,i);return this.options.updateLabel&&(r=this.options.updateLabel),e(this.el).find(".dropdown-toggle-text").text(r)},i.prototype.clearField=function(e,t){return t?e.val(""):e.remove()},i}(),e.fn.glDropdown=function(t){return this.each(function(){if(!e.data(this,"glDropdown"))return e.data(this,"glDropdown",new i(this,t))})}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"),n("../../../node_modules/jquery/dist/jquery.js"))},"./gl_field_error.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i="gl-field-error",r=function(){function r(n){var o=n.input,a=n.formErrors;t(this,r),this.inputElement=e(o),this.inputDomElement=this.inputElement.get(0),this.form=a,this.errorMessage=this.inputElement.attr("title")||"This field is required.",this.fieldErrorElement=e("<p class='"+i+" hide'>"+this.errorMessage+"</p>"),this.state={valid:!1,empty:!0,submitted:!1},this.initFieldValidation()}return n(r,[{key:"initFieldValidation",value:function(){var e=this.inputElement.parents(".gl-field-error-anchor");(e.length?e:this.inputElement).after(this.fieldErrorElement),this.inputElement.off("invalid").on("invalid",this.handleInvalidSubmit.bind(this)),this.scopedSiblings=this.safelySelectSiblings()}},{key:"safelySelectSiblings",value:function(){var e=this.inputElement.siblings("p:not(.gl-field-error-ignore)"),t=this.inputElement.parent(".form-group");return t.length&&1===t.find("input").length?e:this.fieldErrorElement}},{key:"renderValidity",value:function(){this.renderClear(),this.state.valid?this.renderValid():this.state.empty?this.renderEmpty():this.state.valid||this.renderInvalid()}},{key:"handleInvalidSubmit",value:function(e){e.preventDefault();var t=this.accessCurrentValue();this.state.valid=!1,this.state.empty=""===t,this.state.submitted=!0,this.renderValidity(),this.form.focusOnFirstInvalid.apply(this.form),this.inputElement.off("keyup.fieldValidator").on("keyup.fieldValidator",this.updateValidity.bind(this))}},{key:"accessCurrentValue",value:function(e){return e?this.inputElement.val(e):this.inputElement.val()}},{key:"getInputValidity",value:function(){return this.inputDomElement.validity.valid}},{key:"updateValidity",value:function(){var e=this.accessCurrentValue();this.state.empty=!e.length,this.state.valid=this.getInputValidity(),this.renderValidity()}},{key:"renderValid",value:function(){return this.renderClear()}},{key:"renderEmpty",value:function(){return this.renderInvalid()}},{key:"renderInvalid",value:function(){return this.inputElement.addClass("gl-field-error-outline"),this.scopedSiblings.hide(),this.fieldErrorElement.show()}},{key:"renderClear",value:function(){var e=this.accessCurrentValue();if(!e.split(" ").length){var t=e.trim();this.accessCurrentValue(t)}this.inputElement.removeClass("gl-field-error-outline"),this.scopedSiblings.hide(),this.fieldErrorElement.hide()}}]),r}();window.gl=window.gl||{},window.gl.GlFieldError=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./gl_field_errors.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./gl_field_error.js"),r=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),o=function(){function n(i){t(this,n),this.form=e(i),this.state={inputs:[],valid:!1},this.initValidators()}return r(n,[{key:"initValidators",value:function(){var e=this,t=[":text",":password","[type=email]"].map(function(e){return"input"+e}).join(",");this.state.inputs=this.form.find(t).toArray().filter(function(e){return!e.classList.contains("gl-field-error-ignore")}).map(function(t){return new window.gl.GlFieldError({input:t,formErrors:e})}),this.form.on("submit",this.catchInvalidFormSubmit)}},{key:"catchInvalidFormSubmit",value:function(t){e(t.currentTarget).attr("novalidate")||t.currentTarget.checkValidity()||(t.preventDefault(),t.stopPropagation())}},{key:"updateFormValidityState",value:function(){this.state.inputs.forEach(function(e){e.state.submitted&&e.updateValidity()})}},{key:"focusOnFirstInvalid",value:function(){this.state.inputs.filter(function(e){return!e.inputDomElement.validity.valid})[0].inputElement.focus()}}]),n}();window.gl=window.gl||{},window.gl.GlFieldErrors=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./gl_form.js":function(e,t,n){"use strict";(function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.form=e,this.textarea=this.form.find("textarea.js-gfm-input"),this.enableGFM=t,this.destroy(),this.setupForm(),this.form.data("gl-form",this)}var i=n("./gfm_auto_complete.js");window.gl=window.gl||{},t.prototype.destroy=function(){return this.clearEventListeners(),this.autoComplete&&this.autoComplete.destroy(),this.form.data("gl-form",null)},t.prototype.setupForm=function(){var e;e=this.form.is(":not(.gfm-form)"),this.form.removeClass("js-new-note-form"),e&&(this.form.find(".div-dropzone").remove(),this.form.addClass("gfm-form"),gl.utils.disableButtonIfEmptyField(this.form.find(".js-note-text"),this.form.find(".js-comment-button, .js-note-new-discussion")),this.autoComplete=new i.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources),this.autoComplete.setup(this.form.find(".js-gfm-input"),{emojis:!0,members:this.enableGFM,issues:this.enableGFM,milestones:this.enableGFM,mergeRequests:this.enableGFM,labels:this.enableGFM}),new DropzoneInput(this.form),autosize(this.textarea)),this.addEventListeners(),gl.text.init(this.form),this.form.find(".js-note-discard").hide(),this.form.show(),this.isAutosizeable&&this.setupAutosize()},t.prototype.setupAutosize=function(){var e=this;this.textarea.off("autosize:resized").on("autosize:resized",this.setHeightData.bind(this)),this.textarea.off("mouseup.autosize").on("mouseup.autosize",this.destroyAutosize.bind(this)),setTimeout(function(){autosize(e.textarea),e.textarea.css("resize","vertical")},0)},t.prototype.setHeightData=function(){this.textarea.data("height",this.textarea.outerHeight())},t.prototype.destroyAutosize=function(){var e=this.textarea.outerHeight();this.textarea.data("height")!==e&&(autosize.destroy(this.textarea),this.textarea.data("height",e),this.textarea.outerHeight(e),this.textarea.css("max-height",window.outerHeight))},t.prototype.clearEventListeners=function(){return this.textarea.off("focus"),this.textarea.off("blur"),gl.text.removeListeners(this.form)},t.prototype.addEventListeners=function(){return this.textarea.on("focus",function(){return e(this).closest(".md-area").addClass("is-focused")}),this.textarea.on("blur",function(){return e(this).closest(".md-area").removeClass("is-focused")})},window.gl.GLForm=t}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./group.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){n(this,t),this.groupPath=e("#group_path"),this.groupName=e("#group_name"),this.updateHandler=this.update.bind(this),this.resetHandler=this.reset.bind(this),""===this.groupName.val()&&(this.groupPath.on("keyup",this.updateHandler),this.groupName.on("keydown",this.resetHandler))}return i(t,[{key:"update",value:function(){this.groupName.val(this.groupPath.val())}},{key:"reset",value:function(){this.groupPath.off("keyup",this.updateHandler),this.groupName.off("keydown",this.resetHandler)}}]),t}();t.default=r}.call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./group_avatar.js":function(e,t,n){(function(e){window.GroupAvatar=function(){function t(){e(".js-choose-group-avatar-button").on("click",function(){var t;return t=e(this).closest("form"),t.find(".js-group-avatar-input").click()}),e(".js-group-avatar-input").on("change",function(){var t,n;return n=e(this).closest("form"),t=e(this).val().replace(/^.*[\\\/]/,""),n.find(".js-avatar-filename").text(t)})}return t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./group_label_subscription.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function i(n){t(this,i);var r=e(n);this.$dropdown=r.find(".dropdown"),this.$subscribeButtons=r.find(".js-subscribe-button"),this.$unsubscribeButtons=r.find(".js-unsubscribe-button"),this.$subscribeButtons.on("click",this.subscribe.bind(this)),this.$unsubscribeButtons.on("click",this.unsubscribe.bind(this))}return n(i,[{key:"unsubscribe",value:function(t){var n=this;t.preventDefault();var i=this.$unsubscribeButtons.attr("data-url");e.ajax({type:"POST",url:i}).done(function(){n.toggleSubscriptionButtons(),n.$unsubscribeButtons.removeAttr("data-url")})}},{key:"subscribe",value:function(t){var n=this;t.preventDefault();var i=e(t.currentTarget),r=i.attr("data-url");this.$unsubscribeButtons.attr("data-url",r),e.ajax({type:"POST",url:r}).done(function(){n.toggleSubscriptionButtons()})}},{key:"toggleSubscriptionButtons",value:function(){this.$dropdown.toggleClass("hidden"),this.$subscribeButtons.toggleClass("hidden"),this.$unsubscribeButtons.toggleClass("hidden")}}]),i}();window.gl=window.gl||{},window.gl.GroupLabelSubscription=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./group_name.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../node_modules/js-cookie/src/js.cookie.js"),o=n.n(r),a=n("../../../node_modules/underscore/underscore.js"),s=n.n(a),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this.titleContainer=document.querySelector(".js-title-container"),this.title=this.titleContainer.querySelector(".title"),this.title&&(this.titleWidth=this.title.offsetWidth,this.groupTitle=this.titleContainer.querySelector(".group-title"),this.groups=this.titleContainer.querySelectorAll(".group-path"),this.toggle=null,this.isHidden=!1,this.init())}return l(e,[{key:"init",value:function(){this.groups.length>0&&(this.groups[this.groups.length-1].classList.remove("hidable"),this.toggleHandler(),window.addEventListener("resize",s.a.debounce(this.toggleHandler.bind(this),100))),this.render()}},{key:"toggleHandler",value:function(){this.titleWidth>this.titleContainer.offsetWidth?(this.toggle||this.createToggle(),this.showToggle()):this.toggle&&this.hideToggle()}},{key:"createToggle",value:function(){this.toggle=document.createElement("button"),this.toggle.setAttribute("type","button"),this.toggle.className="text-expander group-name-toggle",this.toggle.setAttribute("aria-label","Toggle full path"),"true"===o.a.get("new_nav")?this.toggle.innerHTML='<i class="fa fa-ellipsis-h" aria-hidden="true"></i>':this.toggle.innerHTML="...",this.toggle.addEventListener("click",this.toggleGroups.bind(this)),"true"===o.a.get("new_nav")?this.title.insertBefore(this.toggle,this.groupTitle):this.titleContainer.insertBefore(this.toggle,this.title),this.toggleGroups()}},{key:"showToggle",value:function(){this.title.classList.add("wrap"),this.toggle.classList.remove("hidden"),this.isHidden&&this.groupTitle.classList.add("hidden")}},{key:"hideToggle",value:function(){this.title.classList.remove("wrap"),this.toggle.classList.add("hidden"),this.isHidden&&this.groupTitle.classList.remove("hidden")}},{key:"toggleGroups",value:function(){this.isHidden=!this.isHidden,this.groupTitle.classList.toggle("hidden")}},{key:"render",value:function(){this.title.classList.remove("initializing")}}]),e}();t.a=u},"./groups_list.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./filterable_list.js"),o=function e(){i(this,e);var t=document.querySelector("form#group-filter-form"),n=document.querySelector(".js-groups-list-filter"),o=document.querySelector(".js-groups-list-holder");if(t&&n&&o){new r.a(t,n,o).initSearch()}};t.default=o},"./groups_select.js":function(e,t,n){"use strict";(function(e){var t=n("./api.js"),i=[].slice;window.GroupsSelect=function(){function n(){e(".ajax-groups-select").each(function(r){var o=r;return function(r,a){var s,l,u=e(a);s=u.data("all-available"),l=u.data("skip-groups")||[],u.select2({placeholder:"Search for a group",multiple:u.hasClass("multiselect"),minimumInputLength:0,ajax:{url:t.a.buildUrl(t.a.groupsPath),dataType:"json",quietMillis:250,transport:function(t){e.ajax(t).then(function(e,t,n){var i=e||[],r=gl.utils.normalizeCRLFHeaders(n.getAllResponseHeaders());return{results:i,pagination:{more:(parseInt(r["X-PAGE"],10)||0)<(parseInt(r["X-TOTAL-PAGES"],10)||0)}}}).then(t.success).fail(t.error)},data:function(e,t){return{search:e,page:t,per_page:n.PER_PAGE,all_available:s}},results:function(e,t){if(e.length)return{results:[]};var n=e.length?e:e.results||[],i=!!e.pagination&&e.pagination.more;return{results:n.filter(function(e){return-1===l.indexOf(e.id)}),page:t,more:i}}},initSelection:function(n,i){var r;if(""!==(r=e(n).val()))return t.a.group(r,i)},formatResult:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],o.formatResult.apply(o,e)},formatSelection:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],o.formatSelection.apply(o,e)},dropdownCssClass:"ajax-groups-dropdown select2-infinite",escapeMarkup:function(e){return e}}),o.dropdown=document.querySelector(".select2-infinite .select2-results"),u.on("select2-loaded",o.forceOverflow.bind(o))}}(this))}return n.prototype.formatResult=function(e){return e.avatar_url?e.avatar_url:gon.default_avatar_url,"<div class='group-result'> <div class='group-name'>"+e.full_name+"</div> <div class='group-path'>"+e.full_path+"</div> </div>"},n.prototype.formatSelection=function(e){return e.full_name},n.prototype.forceOverflow=function(e){var t=this.dropdown.querySelector(".select2-result:first-child").clientHeight;this.dropdown.style.height=Math.floor(this.dropdown.scrollHeight-.9*t)+"px"},n.PER_PAGE=20,n}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./header.js":function(e,t,n){(function(e){e(document).on("todo:toggle",function(t,n){var i=e(".todos-count");i.text(gl.text.highCountTrim(n)),i.toggleClass("hidden",0===n)})}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./helpers/issuables_helper.js":function(e,t,n){"use strict";function i(){var e=document.querySelector(".js-issuable-close-dropdown");if(e){var t=e.querySelector(".js-issuable-close-toggle"),n=e.querySelector(".js-issuable-close-menu"),i=e.querySelector(".js-issuable-close-button"),o=new r.a({dropdownTrigger:t,dropdownList:n,button:i});return o.initDroplab(),o}}var r=n("./close_reopen_report_toggle.js"),o={initCloseReopenReport:i};t.a=o},"./importer_status.js":function(e,t,n){(function(e){(function(){window.ImporterStatus=function(){function t(e,t){this.jobs_url=e,this.import_url=t,this.initStatusPage(),this.setAutoUpdate()}return t.prototype.initStatusPage=function(){return e(".js-add-to-import").off("click").on("click",function(t){return function(n){var i,r,o,a,s,l,u;return i=e(n.currentTarget),a=i.closest("tr"),o=a.find(".import-target"),r=o.find(".js-select-namespace option:selected"),s=a.attr("id").replace("repo_",""),l=null,u=null,r.length>0&&(l=r[0].innerHTML,u=o.find("#path").prop("value"),o.empty().append(l+"/"+u)),i.disable().addClass("is-loading"),e.post(t.import_url,{repo_id:s,target_namespace:l,new_name:u},{dataType:"script"})}}(this)),e(".js-import-all").off("click").on("click",function(t){var n;return n=e(this),n.disable().addClass("is-loading"),e(".js-add-to-import").each(function(){return e(this).trigger("click")})})},t.prototype.setAutoUpdate=function(){return setInterval(function(t){return function(){return e.get(t.jobs_url,function(t){return e.each(t,function(t,n){var i,r;return i=e("#project_"+n.id),r=i.find(".job-status"),"finished"===n.import_status?(i.removeClass("active").addClass("success"),r.html('<span><i class="fa fa-check"></i> done</span>')):"scheduled"===n.import_status?r.html("<i class='fa fa-spinner fa-spin'></i> scheduled"):"started"===n.import_status?r.html("<i class='fa fa-spinner fa-spin'></i> started"):r.html(n.import_status)})})}}(this),4e3)},t}(),e(function(){if(e(".js-importer-status").length){var t=e(".js-importer-status").data("jobs-import-path"),n=e(".js-importer-status").data("import-path");new window.ImporterStatus(t,n)}})}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable/auto_width_dropdown_select.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=0,o=function(){function t(i){n(this,t),this.$selectElement=e(i),this.dropdownClass="js-auto-width-select-dropdown-"+r,r+=1}return i(t,[{key:"init",value:function(){var t=this.dropdownClass;return this.$selectElement.select2({dropdownCssClass:t,dropdownCss:function(){var n="auto",i=e("."+t),r=e(this).parent().offsetParent().width();return i.css("width","auto"),i.outerWidth(!1)>r&&(n=r),{width:n,maxWidth:r}}}),this}}]),t}();t.a=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable_bulk_update_actions.js":function(e,t,n){"use strict";(function(e){t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),n=e.issues,i=e.prefixId;this.prefixId=i||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=n||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var t=this,n=e.ajax({url:this.form.attr("action"),method:this.form.attr("method"),dataType:"JSON",data:this.getFormDataAsObject()});n.done(function(){return window.location.reload()}),n.fail(function(){return t.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new Flash("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected_issue:checked")},getLabelsFromSelection:function(){var t=[];return this.getSelectedIssues().map(function(){var n=e(this).data("labels");if(n)return n.map(function(e){if(-1===t.indexOf(e))return t.push(e)})}),t},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(n){-1===t.indexOf(n)&&e.push(n)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var t=e(".bulk-update .js-label-select");t.data("common",this.getOriginalCommonIds()),t.data("marked",this.getOriginalMarkedIds()),t.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected_issue:checked").each(function(n,i){t.push(e.getElement("#"+e.prefixId+i.dataset.id).data("labels"))}),_.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected_issue:checked").each(function(n,i){t.push(e.getElement("#"+e.prefixId+i.dataset.id).data("labels"))}),_.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],n=[],i=[];return this.getElement(".selected_issue:checked").each(function(r,o){i=e.getElement("#"+e.prefixId+o.dataset.id).data("labels"),i.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),n.push(i)}),n.unshift(t),_.difference(t,_.intersection.apply(this,n))},getElement:function(t){return this.scopeEl=this.scopeEl||e(".content"),this.scopeEl.find(t)}}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable_bulk_update_sidebar.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./issuable_bulk_update_actions.js"),o=n("./sidebar_height_manager.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function t(){i(this,t),this.initDomElements(),this.bindEvents(),this.initDropdowns(),this.setupBulkUpdateActions()}return a(t,[{key:"initDomElements",value:function(){this.$page=e(".page-with-sidebar"),this.$sidebar=e(".right-sidebar"),this.$sidebarInnerContainer=this.$sidebar.find(".issuable-sidebar"),this.$bulkEditCancelBtn=e(".js-bulk-update-menu-hide"),this.$bulkEditSubmitBtn=e(".update-selected-issues"),this.$bulkUpdateEnableBtn=e(".js-bulk-update-toggle"),this.$otherFilters=e(".issues-other-filters"),this.$checkAllContainer=e(".check-all-holder"),this.$issueChecks=e(".issue-check"),this.$issuesList=e(".selected_issue"),this.$issuableIdsInput=e("#update_issuable_ids")}},{key:"bindEvents",value:function(){var e=this;this.$bulkUpdateEnableBtn.on("click",function(t){return e.toggleBulkEdit(t,!0)}),this.$bulkEditCancelBtn.on("click",function(t){return e.toggleBulkEdit(t,!1)}),this.$checkAllContainer.on("click",function(t){return e.selectAll(t)}),this.$issuesList.on("change",function(){return e.updateFormState()}),this.$bulkEditSubmitBtn.on("click",function(){return e.prepForSubmit()}),this.$checkAllContainer.on("click",function(){return e.updateFormState()})}},{key:"initDropdowns",value:function(){new LabelsSelect,new MilestoneSelect,new IssueStatusSelect,new SubscriptionSelect}},{key:"getNavHeight",value:function(){return e(".navbar-gitlab").outerHeight()+e(".layout-nav").outerHeight()+e(".sub-nav-scroll").outerHeight()}},{key:"setupBulkUpdateActions",value:function(){r.a.setOriginalDropdownData()}},{key:"updateFormState",value:function(){var t=!e(".selected_issue:checked").length;this.toggleSubmitButtonDisabled(t),this.updateSelectedIssuableIds(),r.a.setOriginalDropdownData()}},{key:"prepForSubmit",value:function(){var e=this;setTimeout(function(){return e.$bulkEditSubmitBtn.disable()}),this.updateSelectedIssuableIds()}},{key:"toggleBulkEdit",value:function(e,t){e.preventDefault(),this.toggleSidebarDisplay(t),this.toggleBulkEditButtonDisabled(t),this.toggleOtherFiltersDisabled(t),this.toggleCheckboxDisplay(t),t&&o.a.init()}},{key:"updateSelectedIssuableIds",value:function(){this.$issuableIdsInput.val(t.getCheckedIssueIds())}},{key:"selectAll",value:function(){var e=this.$checkAllContainer.find("input").prop("checked");this.$issuesList.prop("checked",e)}},{key:"toggleSidebarDisplay",value:function(e){this.$page.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$page.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e),this.$sidebarInnerContainer.toggleClass("hidden",!e),this.$sidebar.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$sidebar.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e)}},{key:"toggleBulkEditButtonDisabled",value:function(e){e?this.$bulkUpdateEnableBtn.disable():this.$bulkUpdateEnableBtn.enable()}},{key:"toggleCheckboxDisplay",value:function(e){this.$checkAllContainer.toggleClass("hidden",!e),this.$issueChecks.toggleClass("hidden",!e)}},{key:"toggleOtherFiltersDisabled",value:function(e){this.$otherFilters.toggleClass("disabled-content",e)}},{key:"toggleSubmitButtonDisabled",value:function(e){e?this.$bulkEditSubmitBtn.disable():this.$bulkEditSubmitBtn.enable()}}],[{key:"getCheckedIssueIds",value:function(){var t=e(".selected_issue:checked");return t.length>0?e.map(t,function(t){return e(t).data("id")}):[]}}]),t}();t.a=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable_context.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/js-cookie/src/js.cookie.js"),i=n.n(t),r=n("./users_select.js");(function(){this.IssuableContext=function(){function t(t){this.initParticipants(),new r.a(t),e("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),e(".issuable-sidebar .inline-update").on("change","select",function(){return e(this).submit()}),e(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return e(this).submit()}),e(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),e(document).off("click",".edit-link").on("click",".edit-link",function(t){var n,i;if(t.preventDefault(),n=e(this).parents(".block"),i=n.find(".selectbox"),i.is(":visible")?(i.hide(),n.find(".value").show()):(i.show(),n.find(".value").hide()),i.is(":visible"))return setTimeout(function(){return n.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=bp.getBreakpointSize();"xs"!==e&&"sm"!==e||i.a.set("collapsed_gutter",!0)})}return t.prototype.initParticipants=function(){var t;return t=this,e(document).on("click",".js-participants-more",this.toggleHiddenParticipants),e(".js-participants-author").each(function(n){if(n>=t.PARTICIPANTS_ROW_COUNT)return e(this).addClass("js-participants-hidden").hide()})},t.prototype.toggleHiddenParticipants=function(t){var n,i,r;return t.preventDefault(),n=e(this).text().trim(),i=e(this).data("less-text"),r=e(this).data("original-text"),n===r?e(this).text(i):e(this).text(r),e(".js-participants-hidden").toggle()},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable_form.js":function(e,t,n){"use strict";(function(e){var t=n("./users_select.js"),i=n("./gfm_auto_complete.js"),r=n("./zen_mode.js");(function(){this.IssuableForm=function(){function n(n){var o,a;this.form=n,this.toggleWip=this.toggleWip.bind(this),this.renderWipExplanation=this.renderWipExplanation.bind(this),this.resetAutosave=this.resetAutosave.bind(this),this.handleSubmit=this.handleSubmit.bind(this),new i.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources).setup(),new t.a,new r.a,this.titleField=this.form.find("input[name*='[title]']"),this.descriptionField=this.form.find("textarea[name*='[description]']"),this.issueMoveField=this.form.find("#move_to_project_id"),this.titleField.length&&this.descriptionField.length&&(this.initAutosave(),this.form.on("submit",this.handleSubmit),this.form.on("click",".btn-cancel",this.resetAutosave),this.initWip(),this.initMoveDropdown(),o=e("#issuable-due-date"),o.length&&(a=new Pikaday({field:o.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:o.parent().get(0),onSelect:function(e){o.val(dateFormat(new Date(e),"yyyy-mm-dd"))}}),a.setDate(new Date(o.val()))))}return n.prototype.issueMoveConfirmMsg="Are you sure you want to move this issue to another project?",n.prototype.wipRegex=/^\s*(\[WIP\]\s*|WIP:\s*|WIP\s+)+\s*/i,n.prototype.initAutosave=function(){return new Autosave(this.titleField,[document.location.pathname,document.location.search,"title"]),new Autosave(this.descriptionField,[document.location.pathname,document.location.search,"description"])},n.prototype.handleSubmit=function(){var e=null!=this.issueMoveField?this.issueMoveField.val():null;return!((parseInt(e,10)||0)>0&&!confirm(this.issueMoveConfirmMsg))&&this.resetAutosave()},n.prototype.resetAutosave=function(){return this.titleField.data("autosave").reset(),this.descriptionField.data("autosave").reset()},n.prototype.initWip=function(){if(this.$wipExplanation=this.form.find(".js-wip-explanation"),this.$noWipExplanation=this.form.find(".js-no-wip-explanation"),this.$wipExplanation.length&&this.$noWipExplanation.length)return this.form.on("click",".js-toggle-wip",this.toggleWip),this.titleField.on("keyup blur",this.renderWipExplanation),this.renderWipExplanation()},n.prototype.workInProgress=function(){return this.wipRegex.test(this.titleField.val())},n.prototype.renderWipExplanation=function(){return this.workInProgress()?(this.$wipExplanation.show(),this.$noWipExplanation.hide()):(this.$wipExplanation.hide(),this.$noWipExplanation.show())},n.prototype.toggleWip=function(e){return e.preventDefault(),this.workInProgress()?this.removeWip():this.addWip(),this.renderWipExplanation()},n.prototype.removeWip=function(){return this.titleField.val(this.titleField.val().replace(this.wipRegex,""))},n.prototype.addWip=function(){return this.titleField.val("WIP: "+this.titleField.val())},n.prototype.initMoveDropdown=function(){var t,n;if(t=e(".js-move-dropdown"),t.length)return n=t.data("page-size"),e(".js-move-dropdown").select2({ajax:{url:t.data("projects-url"),quietMillis:125,data:function(e,t,n){return{search:e,offset_id:n}},results:function(e){var t,i;return e.length>=n&&(i=!0),e[e.length-1]&&(t=e[e.length-1].id),{results:e,more:i,context:t}}},formatResult:function(e){return e.name_with_namespace},formatSelection:function(e){return e.name_with_namespace}})},n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issuable_index.js":function(e,t,n){"use strict";(function(e){var t=n("./issuable_bulk_update_sidebar.js"),i=n("./issuable_bulk_update_actions.js");!function(n){n.IssuableIndex={init:function(e){IssuableIndex.initTemplates(),IssuableIndex.initSearch(),IssuableIndex.initBulkUpdate(e),IssuableIndex.initResetFilters(),IssuableIndex.resetIncomingEmailToken(),IssuableIndex.initLabelFilterRemove()},initTemplates:function(){return IssuableIndex.labelRow=_.template('<% _.each(labels, function(label){ %> <span class="label-row btn-group" role="group" aria-label="<%- label.title %>" style="color: <%- label.text_color %>;"> <a href="#" class="btn btn-transparent has-tooltip" style="background-color: <%- label.color %>;" title="<%- label.description %>" data-container="body"> <%- label.title %> </a> <button type="button" class="btn btn-transparent label-remove js-label-filter-remove" style="background-color: <%- label.color %>;" data-label="<%- label.title %>"> <i class="fa fa-times"></i> </button> </span> <% }); %>')},initSearch:function(){var t=e("#issuable_search");IssuableIndex.initSearchState(t);var n=_.debounce(IssuableIndex.executeSearch,1e3,!1);t.off("keyup").on("keyup",n),e("#issuable_search_form").on("submit",function(e){e.preventDefault(),n(e)})},initSearchState:function(e){var t=e.val();IssuableIndex.searchState={elem:e,current:t},IssuableIndex.maybeFocusOnSearch()},accessSearchPristine:function(e){var t=IssuableIndex.searchState,n=t.elem.val();if(!e)return t.current===n;t.current=n},maybeFocusOnSearch:function(){var e=IssuableIndex.searchState.current;if(e&&""!==e){var t=e.length,n=IssuableIndex.searchState.elem;n.focus(),n.setSelectionRange?n.setSelectionRange(t,t):n.val(e)}},executeSearch:function(t){var n=e("#issuable_search"),i=n.attr("name"),r=n.val(),o=e(".js-filter-form"),a=e("input[name='"+i+"']",o);IssuableIndex.accessSearchPristine()||(a.length?a.val(r):o.append("<input type='hidden' name='"+i+"' value='"+_.escape(r)+"'/>"),IssuableIndex.filterResults(o))},initLabelFilterRemove:function(){return e(document).off("click",".js-label-filter-remove").on("click",".js-label-filter-remove",function(t){var n;n=e(this),e('input[name="label_name[]"]').filter(function(){return this.value===n.data("label")}).remove(),IssuableIndex.filterResults(e(".filter-form"))})},filterResults:function(t){return function(t){var n,i,r;return i=t.serializeArray(),i=i.filter(function(e){return""!==e.value}),i=e.param(i),n=t.attr("action"),r=n,r+=-1===n.indexOf("?")?"?":"&",r+=i,gl.utils.visitUrl(r)}}(),initResetFilters:function(){e(".reset-filters").on("click",function(t){t.preventDefault();var n=t.target,i=e(n).parents(".js-filter-form"),r=n.href;i.attr("action",r),gl.utils.visitUrl(r)})},initBulkUpdate:function(n){var r=e(".issues-bulk-update").length>0,o=!!this.bulkUpdateSidebar;r&&!o&&(i.a.init({prefixId:n}),this.bulkUpdateSidebar=new t.a)},resetIncomingEmailToken:function(){e(".incoming-email-token-reset").on("click",function(t){t.preventDefault(),e.ajax({type:"PUT",url:e(".incoming-email-token-reset").attr("href"),dataType:"json",success:function(t){e("#issue_email").val(t.new_issue_address).focus()},beforeSend:function(){e(".incoming-email-token-reset").text("resetting...")},complete:function(){e(".incoming-email-token-reset").text("reset it")}})})}}}(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issue.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../vendor/assets/javascripts/jquery.waitforimages.js"),o=(n.n(r),n("./lib/utils/text_utility.js"),n("./flash.js")),a=(n.n(o),n("./task_list.js")),s=n("./create_merge_request_dropdown.js"),l=n("./helpers/issuables_helper.js"),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function t(){i(this,t),e("a.btn-close").length&&(this.taskList=new a.a({dataType:"issue",fieldName:"description",selector:".detail-page-description",onSuccess:function(e){document.querySelector("#task_status").innerText=e.task_status,document.querySelector("#task_status_short").innerText=e.task_status_short}}),this.initIssueBtnEventListeners()),t.$btnNewBranch=e("#new-branch"),t.createMrDropdownWrap=document.querySelector(".create-mr-dropdown-wrap"),t.initMergeRequests(),t.initRelatedBranches(),this.closeButtons=e("a.btn-close"),this.reopenButtons=e("a.btn-reopen"),this.initCloseReopenReport(),t.createMrDropdownWrap&&(this.createMergeRequestDropdown=new s.a(t.createMrDropdownWrap))}return u(t,[{key:"initIssueBtnEventListeners",value:function(){var n=this;return e(document).on("click","a.btn-close, a.btn-reopen",function(i){var r,o,a;return i.preventDefault(),i.stopImmediatePropagation(),r=e(i.currentTarget),o=r.hasClass("btn-comment"),o&&t.submitNoteForm(r.closest("form")),n.disableCloseReopenButton(r),a=r.attr("href"),e.ajax({type:"PUT",url:a}).fail(function(){return new Flash("Unable to update this issue at this time.")}).done(function(t){var i=e("div.status-box-closed"),o=e("div.status-box-open"),a=e(".issue_counter");if("id"in t){e(document).trigger("issuable:change");var s=r.hasClass("btn-close");i.toggleClass("hidden",!s),o.toggleClass("hidden",s),n.toggleCloseReopenButton(s);var l=Number(a.text().replace(/[^\d]/,""));l=s?l-1:l+1,a.text(gl.text.addDelimiter(l)),n.createMergeRequestDropdown&&(s?(n.createMergeRequestDropdown.unavailable(),n.createMergeRequestDropdown.disable()):n.createMergeRequestDropdown.checkAbilityToCreateBranch())}else new Flash("Unable to update this issue at this time.")}).then(function(){n.disableCloseReopenButton(r,!1)})})}},{key:"initCloseReopenReport",value:function(){this.closeReopenReportToggle=l.a.initCloseReopenReport(),this.closeButtons&&(this.closeButtons=this.closeButtons.not(".issuable-close-button")),this.reopenButtons&&(this.reopenButtons=this.reopenButtons.not(".issuable-close-button"))}},{key:"disableCloseReopenButton",value:function(e,t){this.closeReopenReportToggle?this.closeReopenReportToggle.setDisable(t):e.prop("disabled",t)}},{key:"toggleCloseReopenButton",value:function(e){this.closeReopenReportToggle&&this.closeReopenReportToggle.updateButton(e),this.closeButtons.toggleClass("hidden",e),this.reopenButtons.toggleClass("hidden",!e)}}],[{key:"submitNoteForm",value:function(e){var t;if(t=e.find("textarea.js-note-text").val(),t.trim().length>0)return e.submit()}},{key:"initMergeRequests",value:function(){var t;return t=e("#merge-requests"),e.getJSON(t.data("url")).fail(function(){return new Flash("Failed to load referenced merge requests")}).done(function(e){if("html"in e)return t.html(e.html)})}},{key:"initRelatedBranches",value:function(){var t;return t=e("#related-branches"),e.getJSON(t.data("url")).fail(function(){return new Flash("Failed to load related branches")}).done(function(e){if("html"in e)return t.html(e.html)})}}]),t}();t.a=c}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./issue_status_select.js":function(e,t,n){(function(e){(function(){this.IssueStatusSelect=function(){function t(){e(".js-issue-status").each(function(t,n){var i;return i=e(n).data("field-name"),e(n).glDropdown({selectable:!0,fieldName:i,toggleLabel:function(e){return function(e,t,n){var i,r;return r="Author",i=n.dropdown.find(".is-active"),i.length&&(r=i.text()),r}}(),clicked:function(e){return e.e.preventDefault()},id:function(t,n){return e(n).data("id")}})})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./label_manager.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(i){var r=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.togglePriorityButton,o=n.prioritizedLabels,a=n.otherLabels;t(this,i),this.togglePriorityButton=r||e(".js-toggle-priority"),this.prioritizedLabels=o||e(".js-prioritized-labels"),this.otherLabels=a||e(".js-other-labels"),this.errorMessage="Unable to update label prioritization at this time",this.emptyState=document.querySelector("#js-priority-labels-empty-state"),this.sortable=Sortable.create(this.prioritizedLabels.get(0),{filter:".empty-message",forceFallback:!0,fallbackClass:"is-dragging",dataIdAttr:"data-id",onUpdate:this.onPrioritySortUpdate.bind(this)}),this.bindEvents()}return n(i,[{key:"bindEvents",value:function(){return this.prioritizedLabels.find(".btn-action").on("mousedown",this,this.onButtonActionClick),this.togglePriorityButton.on("click",this,this.onTogglePriorityClick)}},{key:"onTogglePriorityClick",value:function(t){t.preventDefault();var n=t.data,i=e(t.currentTarget),r=e("#"+i.data("domId")),o=i.parents(".js-prioritized-labels").length?"remove":"add";e("#"+i.find(".has-tooltip:visible").attr("aria-describedby")).tooltip("destroy"),n.toggleLabelPriority(r,o),n.toggleEmptyState(r,i,o)}},{key:"onButtonActionClick",value:function(t){t.stopPropagation(),e(t.currentTarget).tooltip("hide")}},{key:"toggleEmptyState",value:function(e,t,n){this.emptyState.classList.toggle("hidden",!!this.prioritizedLabels[0].querySelector(":scope > li"))}},{key:"toggleLabelPriority",value:function(t,n,i){null==i&&(i=!0);var r=void 0,o=t.find(".js-toggle-priority").data("url"),a=this.prioritizedLabels,s=this.otherLabels;if("remove"===n&&(a=this.otherLabels,s=this.prioritizedLabels),t.detach().appendTo(a),s.find("li").length&&s.find(".empty-message").removeClass("hidden"),a.find("> li:not(.empty-message)").length&&a.find(".empty-message").addClass("hidden"),i)return"remove"===n?(r=e.ajax({url:o,type:"DELETE"}),s.find("li").length||s.find(".empty-message").removeClass("hidden")):r=this.savePrioritySort(t,n),r.fail(this.rollbackLabelPosition.bind(this,t,n))}},{key:"onPrioritySortUpdate",value:function(){return this.savePrioritySort().fail(function(){return new Flash(this.errorMessage,"alert")})}},{key:"savePrioritySort",value:function(){return e.post({url:this.prioritizedLabels.data("url"),data:{label_ids:this.getSortedLabelsIds()}})}},{key:"rollbackLabelPosition",value:function(e,t){var n="remove"===t?"add":"remove";return this.toggleLabelPriority(e,n,!1),new Flash(this.errorMessage,"alert")}},{key:"getSortedLabelsIds",value:function(){var t=[];return this.prioritizedLabels.find("> li").each(function(){var n=e(this).data("id");n&&t.push(n)}),t}}]),i}();gl.LabelManager=r}(window.gl||(window.gl={}))}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./labels.js":function(e,t,n){(function(e){(function(){this.Labels=function(){function t(){this.setSuggestedColor=this.setSuggestedColor.bind(this),this.updateColorPreview=this.updateColorPreview.bind(this);e(".label-form"),this.cleanBinding(),this.addBinding(),this.updateColorPreview()}return t.prototype.addBinding=function(){return e(document).on("click",".suggest-colors a",this.setSuggestedColor),e(document).on("input","input#label_color",this.updateColorPreview)},t.prototype.cleanBinding=function(){return e(document).off("click",".suggest-colors a"),e(document).off("input","input#label_color")},t.prototype.updateColorPreview=function(){var t;return t=e("input#label_color").val(),e("div.label-color-preview").css("background-color",t)},t.prototype.setSuggestedColor=function(t){var n;return n=e(t.currentTarget).data("color"),e("input#label_color").val(n),this.updateColorPreview(),e(".label-form").trigger("keyup"),t.preventDefault()},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./labels_select.js":function(e,t,n){"use strict";(function(e){var t=n("./issuable_bulk_update_actions.js");(function(){this.LabelsSelect=function(){function n(t){var n,i;n=this,i=e(t),t||(i=e(".js-label-select")),i.each(function(t,i){var r,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,C,E,T,x,S,D,A;o=e(i),A=o.closest(".labels-filter"),o.find(".dropdown-toggle-text"),b=o.data("namespace-path"),y=o.data("project-path"),v=o.data("labels"),p=o.data("issueUpdate"),j=o.data("selected"),null==j||o.hasClass("js-multiselect")||(j=j.split(",")),C=o.data("show-no"),k=o.data("show-any"),D=o.data("showMenuAbove"),h=o.data("default-label"),d=o.data("ability-name"),l=o.closest(".selectbox"),r=l.closest(".block"),a=o.closest("form, .js-issuable-update"),u=r.find(".sidebar-collapsed-icon span"),E=r.find(".js-sidebar-labels-tooltip"),c=r.find(".value"),s=r.find(".block-loading").fadeOut(),x=o.data("field-name"),S=o.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),T=l.find('input[name="'+o.data("field-name")+'"]').map(function(){return this.value}).get(),null!=p&&(f=p.split("/")),p&&(m=_.template('<% _.each(labels, function(label){ %> <a href="<%- ["",issueURLSplit[1], issueURLSplit[2],""].join("/") %>issues?label_name[]=<%- encodeURIComponent(label.title) %>"> <span class="label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;"> <%- label.title %> </span> </a> <% }); %>'),g='<span class="no-value">None</span>'),E.tooltip(),o.closest(".dropdown").find(".dropdown-new-label").length&&new gl.CreateLabelDropdown(o.closest(".dropdown").find(".dropdown-new-label"),b,y),w=function(){var t,n;if(n=o.closest(".selectbox").find("input[name='"+x+"']").map(function(){return this.value}).get(),!_.isEqual(T,n))return T=n,t={},t[d]={},t[d].label_ids=n,n.length||(t[d].label_ids=[""]),s.removeClass("hidden").fadeIn(),o.trigger("loading.gl.dropdown"),e.ajax({type:"PUT",url:p,dataType:"JSON",data:t}).done(function(t){var n,i,r,a;return s.fadeOut(),o.trigger("loaded.gl.dropdown"),l.hide(),t.issueURLSplit=f,n=0,t.labels.length?(i=m(t),n=t.labels.length):i=g,c.removeAttr("style").html(i),u.text(n),t.labels.length?(a=t.labels.map(function(e){return e.title}),a.length>5&&(a=a.slice(0,5),a.push("and "+(t.labels.length-5)+" more")),r=a.join(", ")):(r="",E.tooltip("destroy")),E.attr("title",r).tooltip("fixTitle"),e(".has-tooltip",c).tooltip({container:"body"}),c.find("a").each(function(t){return setTimeout(function(t){return function(){return gl.animate.animate(e(t),"pulse")}}(this),200*t)})})},o.glDropdown({showMenuAbove:D,data:function(t,n){return e.ajax({url:v}).done(function(e){if(e=_.chain(e).groupBy(function(e){return e.title}).map(function(e){var t;return t=_.map(e,function(e){return e.color}),{id:e[0].id,title:e[0].title,color:t,duplicate:t.length>1}}).value(),o.hasClass("js-extra-options")){var t=[];C&&t.unshift({id:0,title:"No Label"}),k&&t.unshift({isAny:!0,title:"Any Label"}),t.length&&(t.push("divider"),e=t.concat(e))}n(e),D&&o.data("glDropdown").positionMenuAbove()})},renderRow:function(t,n){var i,r,s,l,u,c,d,h,f,p,m,g;return r=e("<li>"),i=e('<a href="#">'),d=[],c=t.id<=0||null==t.id,o.hasClass("js-filter-bulk-update")?(u=o.data("indeterminate")||[],p=o.data("marked")||[],-1!==u.indexOf(t.id)&&d.push("is-indeterminate"),-1!==p.indexOf(t.id)&&(f=d.indexOf("is-indeterminate"),-1!==f&&d.splice(f,1),d.push("is-active"))):(this.id(t)&&(m=o.data("fieldName"),g=this.id(t).toString().replace(/'/g,"\\'"),a.find("input[type='hidden'][name='"+m+"'][value='"+g+"']").length&&d.push("is-active")),o.hasClass("js-multiselect")&&c&&d.push("dropdown-clear-active")),t.duplicate?(h=100/t.color.length,t.color=t.color.filter(function(e,t){return t<4}),s=_.map(t.color,function(e,t){var n,i;return n=Math.floor(h*t),i=Math.floor(h*(t+1)),e+" "+n+"%,"+e+" "+i+"% "}).join(","),s="linear-gradient("+s+")"):null!=t.color&&(s=t.color[0]),l=s?"<span class='dropdown-label-box' style='background: "+s+"'></span>":"",t.id&&(d.push("label-item"),i.attr("data-label-id",t.id)),i.addClass(d.join(" ")).html(l+" "+t.title),r.html(i).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:o.data("selected")||[],toggleLabel:function(e,t){var n=null!==t&&t.hasClass("is-active"),i=e.title,r=this.selected;if(0===e.id)return this.selected=[],"No Label";if(n)this.selected.push(i);else{var o=this.selected.indexOf(i);this.selected.splice(o,1)}return 1===r.length?r:r.length?r[0]+" +"+(r.length-1)+" more":h},fieldName:o.data("field-name"),id:function(e){return e.id<=0?e.title:o.hasClass("js-issuable-form-dropdown")?e.id:o.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var t,n,i;i=e("body").data("page"),t="projects:issues:index"===i,n="projects:merge_requests:index"===i,l.hide(),c.removeAttr("style"),o.hasClass("js-issuable-form-dropdown")||e("html").hasClass("issue-boards-page")||o.hasClass("js-multiselect")&&(o.hasClass("js-filter-submit")&&(t||n)?(o.closest("form").find("input:hidden[name='"+o.data("fieldName")+"']"),Issuable.filterResults(o.closest("form"))):o.hasClass("js-filter-submit")?o.closest("form").submit():o.hasClass("js-filter-bulk-update")||w())},multiSelect:o.hasClass("js-multiselect"),vue:o.hasClass("js-issue-board-sidebar"),clicked:function(t){var i,r,a,l,u=t.$el,c=t.e,d=t.isMarking,h=t.selectedObj,f=function(){s.fadeOut()};if(a=e("body").data("page"),i="projects:issues:index"===a,r="projects:merge_requests:index"===a,o.parent().find(".is-active:not(.dropdown-clear-active)").length&&o.parent().find(".dropdown-clear-active").removeClass("is-active"),!o.hasClass("js-issuable-form-dropdown")){if(o.hasClass("js-filter-bulk-update"))return n.enableBulkLabelDropdown(),void n.setDropdownData(o,d,h.id);if(o.closest(".add-issues-modal").length&&(l=gl.issueBoards.ModalStore.store.filter),l)return h.isAny?l.label_name=[]:u.hasClass("is-active")&&l.label_name.push(h.title),void c.preventDefault();if(o.hasClass("js-filter-submit")&&(i||r)){if(!o.hasClass("js-multiselect"))return j=h.title,Issuable.filterResults(o.closest("form"))}else{if(o.hasClass("js-filter-submit"))return o.closest("form").submit();if(o.hasClass("js-issue-board-sidebar")){if(u.hasClass("is-active"))gl.issueBoards.BoardsStore.detail.issue.labels.push(new ListLabel({id:h.id,title:h.title,color:h.color[0],textColor:"#fff"}));else{var p=gl.issueBoards.BoardsStore.detail.issue.labels;p=p.filter(function(e){return e.id!==h.id}),gl.issueBoards.BoardsStore.detail.issue.labels=p}s.fadeIn(),gl.issueBoards.BoardsStore.detail.issue.update(o.attr("data-issue-update")).then(f).catch(f)}else if(!o.hasClass("js-multiselect"))return w()}}}}),n.setOriginalDropdownData(A,o)}),this.bindEvents()}return n.prototype.bindEvents=function(){return e("body").on("change",".selected_issue",this.onSelectCheckboxIssue)},n.prototype.onSelectCheckboxIssue=function(){if(!e(".selected_issue:checked").length)return e(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")},n.prototype.enableBulkLabelDropdown=function(){t.a.willUpdateLabels=!0},n.prototype.setDropdownData=function(e,n,i){var r,o,a,s;o=e.data("marked")||[],a=e.data("unmarked")||[],s=e.data("indeterminate")||[],n?(o.push(i),r=s.indexOf(i),r>-1&&s.splice(r,1),(r=a.indexOf(i))>-1&&a.splice(r,1)):(r=o.indexOf(i),r>-1&&o.splice(r,1),t.a.getOriginalIndeterminateIds().indexOf(i)>-1&&a.push(i),t.a.getOriginalCommonIds().indexOf(i)>-1&&a.push(i)),e.data("marked",o),e.data("unmarked",a),e.data("indeterminate",s)},n.prototype.setOriginalDropdownData=function(e,t){var n=[];e.find('[name="label_name[]"]').map(function(){return n.push(this.value)}),t.data("marked",n)},n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./landing.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../node_modules/js-cookie/src/js.cookie.js"),o=n.n(r),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n,r){i(this,e),this.landingElement=t,this.cookieName=r,this.dismissButton=n,this.eventWrapper={}}return a(e,[{key:"toggle",value:function(){var e=this.isDismissed();this.landingElement.classList.toggle("hidden",e),e||this.addEvents()}},{key:"addEvents",value:function(){this.eventWrapper.dismissLanding=this.dismissLanding.bind(this),this.dismissButton.addEventListener("click",this.eventWrapper.dismissLanding)}},{key:"removeEvents",value:function(){this.dismissButton.removeEventListener("click",this.eventWrapper.dismissLanding)}},{key:"dismissLanding",value:function(){this.landingElement.classList.add("hidden"),o.a.set(this.cookieName,"true",{expires:365})}},{key:"isDismissed",value:function(){return"true"===o.a.get(this.cookieName)}}]),e}();t.a=s},"./layout_nav.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/underscore/underscore.js"),i=n.n(t);(function(){function t(){e(".navbar-border").css("opacity",Math.min(e(window).scrollTop()/40,1))}var n;n=function(t){return t.each(function(){var t;return t=e(this),t.siblings(".fade-right").toggleClass("scrolling",t.width()<t.prop("scrollWidth"))})},e(document).on("init.scrolling-tabs",function(){var t=e(".scrolling-tabs").not(".is-initialized");t.addClass("is-initialized"),n(t),e(window).off("resize.nav").on("resize.nav",function(){return n(t)}),t.off("scroll").on("scroll",function(t){var n,i,r;return n=e(this),i=n.scrollLeft(),r=n.prop("scrollWidth")-n.outerWidth(),n.siblings(".fade-left").toggleClass("scrolling",i>0),n.siblings(".fade-right").toggleClass("scrolling",i<r-1)}),t.each(function(){var t=e(this),n=t.width(),i=t.find(".active"),r=i.width();if(i.length){var o=i.offset().left+r;if(o>n-30){var a=n/2;a=o-a-r/2,t.scrollLeft(a)}}})}),e(function(){e(window).on("scroll",i.a.throttle(t,100))})}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/accessor.js":function(e,t,n){"use strict";function i(e,t){var n=void 0;try{n=!!e[t]}catch(e){n=!1}return n}function r(e,t){var n=!0;try{for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e[t].apply(e,r)}catch(e){n=!1}return n}function o(){var e=void 0;return(e=i(window,"localStorage"))?(e=r(window.localStorage,"setItem","isLocalStorageAccessSafe","true"),e&&window.localStorage.removeItem("isLocalStorageAccessSafe"),e):e}var a={isPropertyAccessSafe:i,isFunctionCallSafe:r,isLocalStorageAccessSafe:o};t.a=a},"./lib/utils/ajax_cache.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./lib/utils/cache.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(t){function n(){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.pendingRequests={},e}return o(n,t),s(n,[{key:"retrieve",value:function(t,n){var i=this;if(this.hasData(t)&&!n)return Promise.resolve(this.get(t));var r=this.pendingRequests[t];return r||(r=new Promise(function(n,i){e.ajax(t).then(function(e){return n(e)},function(e,n,r){var o=new Error(t+": "+r);o.textStatus=n,i(o)})}).then(function(e){i.internalStorage[t]=e,delete i.pendingRequests[t]}).catch(function(e){throw delete i.pendingRequests[t],e}),this.pendingRequests[t]=r),r.then(function(){return i.get(t)})}}]),n}(a.a);t.a=new l}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/animate.js":function(e,t,n){(function(e){(function(){!function(t){null==t.gl&&(t.gl={}),null==gl.animate&&(gl.animate={}),gl.animate.animate=function(t,n,i,r){null!=(null!=i?i.cssStart:void 0)&&t.css(i.cssStart),t.removeClass(n+" animated").addClass(n+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e(this).removeClass(n+" animated"),null!=r&&r(),null!=(null!=i?i.cssEnd:void 0)&&t.css(i.cssEnd)})},gl.animate.animateEach=function(t,n,i,r,o){var a;return a=e.Deferred(),t.length||a.resolve(),t.each(function(s){setTimeout(function(i){return function(){var l;return l=e(i),gl.animate.animate(l,n,r,function(){if(s===t.length-1&&(a.resolve(),null!=o))return o()})}}(this),i*s)}),a.promise()}}(window)}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/bootstrap_linked_tabs.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=r,this.defaultAction=this.options.defaultAction,this.action=this.options.action||this.defaultAction,"show"===this.action&&(this.action=this.defaultAction),this.currentLocation=window.location;var o=this.options.parentEl+' a[data-toggle="tab"]';e(document).off("shown.bs.tab",o).on("shown.bs.tab",o,function(e){return i.tabShown(e)}),this.activateTab(this.action)}return i(t,[{key:"tabShown",value:function(e){var t=e.target.getAttribute("href");return this.setCurrentAction(t)}},{key:"setCurrentAction",value:function(e){var t=e;t.replace(/\/+$/,"");var n=""+t+this.currentLocation.search+this.currentLocation.hash;return history.replaceState({url:n},document.title,n),n}},{key:"activateTab",value:function(){return e(this.options.parentEl+" a[data-action='"+this.action+"']").tab("show")}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/cache.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.internalStorage={}}return r(e,[{key:"get",value:function(e){return this.internalStorage[e]}},{key:"hasData",value:function(e){return Object.prototype.hasOwnProperty.call(this.internalStorage,e)}},{key:"remove",value:function(e){delete this.internalStorage[e]}}]),e}();t.a=o},"./lib/utils/common_utils.js":function(e,t,n){(function(e){(function(){!function(t){var n,i=document.getElementById("favicon"),r=i?i.getAttribute("href"):null;t.gl||(t.gl={}),(n=t.gl).utils||(n.utils={}),t.gl.utils.isInGroupsPage=function(){return"groups"===gl.utils.getPagePath()},t.gl.utils.isInProjectPage=function(){return"projects"===gl.utils.getPagePath()},t.gl.utils.getProjectSlug=function(){return this.isInProjectPage()?e("body").data("project"):null},t.gl.utils.getGroupSlug=function(){return this.isInGroupsPage()?e("body").data("group"):null},t.gl.utils.ajaxGet=function(t){return e.ajax({type:"GET",url:t,dataType:"script"})},t.gl.utils.ajaxPost=function(t,n){return e.ajax({type:"POST",url:t,data:n})},t.gl.utils.extractLast=function(e){return this.split(e).pop()},t.gl.utils.rstrip=function(e){return e?e.replace(/\s+$/,""):e},gl.utils.updateTooltipTitle=function(e,t){return e.attr("title",t).tooltip("fixTitle")},t.gl.utils.disableButtonIfEmptyField=function(t,n,i){i=i||"input";var r,o,a;return a=this,o=e(t),r=o.closest("form").find(n),""===this.rstrip(o.val())&&r.disable(),o.on(i,function(){return""===a.rstrip(e(this).val())?r.disable():r.enable()})},t.gl.utils.handleLocationHash=function(){var e=t.gl.utils.getLocationHash();if(e){e=decodeURIComponent(e);var n=document.querySelector(".js-tabs-affix"),i=document.querySelector(".navbar-gitlab"),r=0;if(i&&(r-=i.offsetHeight),null===document.getElementById(e)){var o=document.getElementById("user-content-"+e);o&&o.scrollIntoView&&(o.scrollIntoView(!0),window.scrollBy(0,r))}else n&&(r-=n.offsetHeight),window.scrollBy(0,r)}},t.gl.utils.isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth},gl.utils.getPagePath=function(t){return t=t||0,e("body").data("page").split(":")[t]},gl.utils.parseUrl=function(e){var t=document.createElement("a");return t.href=e,t},gl.utils.parseUrlPathname=function(e){var t=gl.utils.parseUrl(e);return"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname},gl.utils.getUrlParamsArray=function(){return window.location.search.slice(1).split("&").map(function(e){var t=e.split("=");return[decodeURI(t[0]),t[1]].join("=")})},gl.utils.isMetaKey=function(e){return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey},gl.utils.isMetaClick=function(e){return e.metaKey||e.ctrlKey||2===e.which},gl.utils.scrollToElement=function(t){var n=t.offset().top;return gl.mrTabsHeight=gl.mrTabsHeight||e(".merge-request-tabs").height(),e("body, html").animate({scrollTop:n-gl.mrTabsHeight},200)},t.gl.utils.getParameterByName=function(e,t){var n=t||window.location.href;e=e.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=i.exec(n);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},t.gl.utils.getSelectedFragment=function(){var e=window.getSelection();if(0===e.rangeCount)return null;for(var t=document.createDocumentFragment(),n=0;n<e.rangeCount;n+=1)t.appendChild(e.getRangeAt(n).cloneContents());return 0===t.textContent.length?null:t},t.gl.utils.insertText=function(t,n){var i=t.selectionStart,r=t.selectionEnd,o=t.value,a=o.substring(0,i),s=o.substring(r,o.length),l=n instanceof Function?n(a,s):n,u=a+l+s;t.value=u,t.selectionStart=t.selectionEnd=i+l.length,e(t).trigger("input");var c=document.createEvent("Event");c.initEvent("autosize:update",!0,!1),t.dispatchEvent(c)},t.gl.utils.nodeMatchesSelector=function(e,t){var n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;if(n)return n.call(e,t);var i=e.parentNode;i||(i=document.createElement("div"),e=e.cloneNode(!0),i.appendChild(e));var r=i.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(r,e)},t.gl.utils.normalizeHeaders=function(e){var t={};return Object.keys(e).forEach(function(n){t[n.toUpperCase()]=e[n]}),t},t.gl.utils.normalizeCRLFHeaders=function(e){var n={};return e.split("\n").forEach(function(e){var t=e.split(": ");n[t[0]]=t[1]}),t.gl.utils.normalizeHeaders(n)},t.gl.utils.parseIntPagination=function(e){return{perPage:parseInt(e["X-PER-PAGE"],10),page:parseInt(e["X-PAGE"],10),total:parseInt(e["X-TOTAL"],10),totalPages:parseInt(e["X-TOTAL-PAGES"],10),nextPage:parseInt(e["X-NEXT-PAGE"],10),previousPage:parseInt(e["X-PREV-PAGE"],10)}},t.gl.utils.setParamInURL=function(e,t){var n=void 0,i=window.location.search;if(i.length){var r=i.substring(1,i.length).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{});r[e]=t;n="?"+Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&")}else n="?"+e+"="+t;return n},t.gl.utils.convertPermissionToBoolean=function(e){return"true"===e},t.gl.utils.backOff=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,n=2e3,i=Date.now();return new Promise(function(r,o){var a=function(e){return e instanceof Error?o(e):r(e)};e(function r(){Date.now()-i<t?(setTimeout(e.bind(null,r,a),n),n=Math.min(n+n,32e3)):o(new Error("BACKOFF_TIMEOUT"))},a)})},t.gl.utils.setFavicon=function(e){i&&e&&i.setAttribute("href",e)},t.gl.utils.resetFavicon=function(){i&&i.setAttribute("href",r)},t.gl.utils.setCiStatusFavicon=function(t){e.ajax({url:t,dataType:"json",success:function(e){e&&e.favicon?gl.utils.setFavicon(e.favicon):gl.utils.resetFavicon()},error:function(){gl.utils.resetFavicon()}})}}(window)}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=1024},"./lib/utils/datefix.js":function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r={dashedFix:function(e){var t=e.split("-"),n=i(t,3),r=n[0],o=n[1],a=n[2];return new Date(r,o-1,a)}};t.a=r},"./lib/utils/datetime_utility.js":function(e,t,n){"use strict";(function(e){function i(e){var t=parseInt(e,10),n=Math.floor(t/60),i=t-60*n;return n>=1?n+" "+gl.text.pluralize("minute",n)+" "+i+" "+gl.text.pluralize("second",i):i+" "+gl.text.pluralize("second",i)}t.a=i;var r=n("../../../node_modules/timeago.js/dist/timeago.min.js"),o=n.n(r),a=n("../../../vendor/assets/javascripts/date.format.js"),s=n.n(a),l=n("./locale/index.js");window.timeago=o.a,window.dateFormat=s.a,function(){!function(t){var i,r;null==t.gl&&(t.gl={}),null==(i=t.gl).utils&&(i.utils={}),t.gl.utils.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.gl.utils.formatDate=function(e){return s()(e,"mmm d, yyyy h:MMtt Z")},t.gl.utils.getDayName=function(e){return this.days[e.getDay()]},t.gl.utils.localTimeAgo=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.each(function(t,i){i.setAttribute("title",i.getAttribute("title")),n&&e(i).tooltip({template:'<div class="tooltip local-timeago" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),i.classList.add("js-timeago-render")}),gl.utils.renderTimeago(t)},t.gl.utils.getTimeago=function(){var e;if(!r){var t=function(e,t){return[[n.i(l.s__)("Timeago|less than a minute ago"),n.i(l.s__)("Timeago|a while")],[n.i(l.s__)("Timeago|less than a minute ago"),n.i(l.s__)("Timeago|%s seconds remaining")],[n.i(l.s__)("Timeago|about a minute ago"),n.i(l.s__)("Timeago|1 minute remaining")],[n.i(l.s__)("Timeago|%s minutes ago"),n.i(l.s__)("Timeago|%s minutes remaining")],[n.i(l.s__)("Timeago|about an hour ago"),n.i(l.s__)("Timeago|1 hour remaining")],[n.i(l.s__)("Timeago|about %s hours ago"),n.i(l.s__)("Timeago|%s hours remaining")],[n.i(l.s__)("Timeago|a day ago"),n.i(l.s__)("Timeago|1 day remaining")],[n.i(l.s__)("Timeago|%s days ago"),n.i(l.s__)("Timeago|%s days remaining")],[n.i(l.s__)("Timeago|a week ago"),n.i(l.s__)("Timeago|1 week remaining")],[n.i(l.s__)("Timeago|%s weeks ago"),n.i(l.s__)("Timeago|%s weeks remaining")],[n.i(l.s__)("Timeago|a month ago"),n.i(l.s__)("Timeago|1 month remaining")],[n.i(l.s__)("Timeago|%s months ago"),n.i(l.s__)("Timeago|%s months remaining")],[n.i(l.s__)("Timeago|a year ago"),n.i(l.s__)("Timeago|1 year remaining")],[n.i(l.s__)("Timeago|%s years ago"),n.i(l.s__)("Timeago|%s years remaining")]][t]};e=function(e,t){return[[n.i(l.s__)("Timeago|less than a minute ago"),n.i(l.s__)("Timeago|a while")],[n.i(l.s__)("Timeago|less than a minute ago"),n.i(l.s__)("Timeago|in %s seconds")],[n.i(l.s__)("Timeago|about a minute ago"),n.i(l.s__)("Timeago|in 1 minute")],[n.i(l.s__)("Timeago|%s minutes ago"),n.i(l.s__)("Timeago|in %s minutes")],[n.i(l.s__)("Timeago|about an hour ago"),n.i(l.s__)("Timeago|in 1 hour")],[n.i(l.s__)("Timeago|about %s hours ago"),n.i(l.s__)("Timeago|in %s hours")],[n.i(l.s__)("Timeago|a day ago"),n.i(l.s__)("Timeago|in 1 day")],[n.i(l.s__)("Timeago|%s days ago"),n.i(l.s__)("Timeago|in %s days")],[n.i(l.s__)("Timeago|a week ago"),n.i(l.s__)("Timeago|in 1 week")],[n.i(l.s__)("Timeago|%s weeks ago"),n.i(l.s__)("Timeago|in %s weeks")],[n.i(l.s__)("Timeago|a month ago"),n.i(l.s__)("Timeago|in 1 month")],[n.i(l.s__)("Timeago|%s months ago"),n.i(l.s__)("Timeago|in %s months")],[n.i(l.s__)("Timeago|a year ago"),n.i(l.s__)("Timeago|in 1 year")],[n.i(l.s__)("Timeago|%s years ago"),n.i(l.s__)("Timeago|in %s years")]][t]},o.a.register(l.lang,e),o.a.register(l.lang+"-remaining",t),r=o()()}return r},t.gl.utils.timeFor=function(e,t,i){var r;return e?(new Date(e)<new Date?(i||(i=n.i(l.s__)("Timeago|Past due")),r=i):r=gl.utils.getTimeago().format(e,l.lang+"-remaining").trim(),r):""},t.gl.utils.renderTimeago=function(e){var t=e||document.querySelectorAll(".js-timeago-render");gl.utils.getTimeago().render(t,l.lang)},t.gl.utils.getDayDifference=function(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-n)/864e5)}}(window)}.call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/number_utils.js":function(e,t,n){"use strict";function i(e){var t="",n=0,i="";if(!isNaN(Number(e))){switch(t=e.split(".")[0],t.length){case 1:n=3;break;case 2:n=2;break;case 3:n=1;break;default:n=4}i=Number(e).toFixed(n)}return i}function r(e){return e/a.a}function o(e){return e/(a.a*a.a)}t.b=i,t.c=r,t.a=o;var a=n("./lib/utils/constants.js")},"./lib/utils/pretty_time.js":function(e,t){!function(){var e=window.gl.utils=gl.utils||{},t=e.prettyTime={parseSeconds:function(e){var n={weeks:2400,days:480,hours:60,minutes:1},i=t.secondsToMinutes(e);return _.mapObject(n,function(e){var t=Math.floor(i/e);return i-=t*e,t})},stringifyTime:function(e){var t=_.reduce(e,function(e,t,n){return!t?e:e+" "+t+n.charAt(0)},"").trim();return t.length?t:"0m"},abbreviateTime:function(e){return e.split(" ").filter(function(e){return"0"!==e.charAt(0)})[0]},secondsToMinutes:function(e){return Math.abs(e/60)}}}(window.gl||(window.gl={}))},"./lib/utils/regexp.js":function(e,t,n){"use strict";t.a={unicodeLetters:"\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC"}},"./lib/utils/text_utility.js":function(e,t,n){"use strict";(function(e){var t,i=n("../../../vendor/assets/javascripts/latinise.js"),r=(n.n(i),window);null==r.gl&&(r.gl={}),null==(t=r.gl).text&&(t.text={}),gl.text.addDelimiter=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},gl.text.highCountTrim=function(e){return e>99?"99+":e},gl.text.randomString=function(){return Math.random().toString(36).substring(7)},gl.text.replaceRange=function(e,t,n,i){return e.substring(0,t)+i+e.substring(n)},gl.text.getTextWidth=function(e,t){var n=gl.text.getTextWidth.canvas||(gl.text.getTextWidth.canvas=document.createElement("canvas")),i=n.getContext("2d");return i.font=t,i.measureText(e).width},gl.text.selectedText=function(e,t){return e.substring(t.selectionStart,t.selectionEnd)},gl.text.lineBefore=function(e,t){var n;return n=e.substring(0,t.selectionStart).trim().split("\n"),n[n.length-1]},gl.text.lineAfter=function(e,t){return e.substring(t.selectionEnd).trim().split("\n")[0]},gl.text.blockTagText=function(e,t,n,i){var r,o;return o=this.lineBefore(e,t),r=this.lineAfter(e,t),o===n&&r===n?(null!=n&&(t.selectionStart=t.selectionStart-(n.length+1),t.selectionEnd=t.selectionEnd+(n.length+1)),i):n+"\n"+i+"\n"+n},gl.text.insertText=function(e,t,n,i,r,o){var a,s,l,u,c,d,h,f;if(c=!1,d=!1,h=!1,0===r.indexOf("\n")&&(d=!0,r=r.replace(/\n+/,"")),e.selectionEnd-e.selectionStart>r.replace(/\n$/,"").length&&(c=!0,r=r.replace(/\n$/,"")),l=r.split("\n"),o||(f=e.value.substr(0,e.selectionStart).lastIndexOf("\n"),/^\s*$/.test(e.value.substring(f,e.selectionStart))&&(h=!0)),u=!o&&!h&&e.selectionStart>0?"\n":"",a=l.length>1&&(!o||null!=i&&""!==i)?null!=i&&""!==i?this.blockTagText(t,e,i,r):l.map(function(e){return 0===e.indexOf(n)?""+e.replace(n,""):""+n+e}).join("\n"):""+u+n+r+(o?n:" "),d&&(a="\n"+a),c&&(a+="\n"),document.queryCommandSupported("insertText")&&(s=document.execCommand("insertText",!1,a)),!s){try{document.execCommand("ms-beginUndoUnit")}catch(e){}e.value=this.replaceRange(t,e.selectionStart,e.selectionEnd,a);try{document.execCommand("ms-endUndoUnit")}catch(e){}}return this.moveCursor(e,n,o,c)},gl.text.moveCursor=function(e,t,n,i){var r;if(e.setSelectionRange)return e.selectionStart===e.selectionEnd?(r=n?e.selectionStart-t.length:e.selectionStart,i&&(r-=1),e.setSelectionRange(r,r)):void 0},gl.text.updateText=function(t,n,i,r){var o,a,s;return o=e(t),t=o.get(0),s=o.val(),a=this.selectedText(s,t),o.focus(),this.insertText(t,s,n,i,a,r)},gl.text.init=function(t){var n;return n=this,e(".js-md",t).off("click").on("click",function(){var t;return t=e(this),n.updateText(t.closest(".md-area").find("textarea"),t.data("md-tag"),t.data("md-block"),!t.data("md-prepend"))})},gl.text.removeListeners=function(t){return e(".js-md",t).off("click")},gl.text.humanize=function(e){return e.charAt(0).toUpperCase()+e.replace(/_/g," ").slice(1)},gl.text.pluralize=function(e,t){return e+(t>1||0===t?"s":"")},gl.text.truncate=function(e,t){return e.substr(0,t-3)+"..."},gl.text.dasherize=function(e){return e.replace(/[_\s]+/g,"-")},gl.text.slugify=function(e){return e.trim().toLowerCase().latinise()}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./lib/utils/type_utility.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e&&e.constructor===Object}},"./lib/utils/url_utility.js":function(e,t){var n,i=window;null==i.gl&&(i.gl={}),null==(n=i.gl).utils&&(n.utils={}),i.gl.utils.getParameterValues=function(e){var t,n,i,r,o;for(n=decodeURIComponent(window.location.search.substring(1)),r=n.split("&"),i=void 0,o=[],t=0;t<r.length;)i=r[t].split("="),i[0]===e&&o.push(i[1].replace(/\+/g," ")),t+=1;return o},i.gl.utils.mergeUrlParams=function(e,t){var n,i,r,o,a;i=decodeURIComponent(t);for(r in e)o=e[r],a=new RegExp("\\b("+r+"=).*?(&|$)"),i=null==o?i.replace(a,""):-1!==t.search(a)?i.replace(a,"$1"+o+"$2"):i+(i.indexOf("?")>0?"&":"?")+r+"="+o;return n=i[i.length-1],"&"===n&&(i=i.slice(0,-1)),i},i.gl.utils.removeParamQueryString=function(e,t){var n,i;return e=decodeURIComponent(e),n=e.split("&"),function(){var e,r,o;for(o=[],e=0,r=n.length;e<r;e+=1)i=n[e],-1===i.indexOf(t)&&o.push(i);return o}().join("&")},i.gl.utils.removeParams=function(e){var t=document.createElement("a");return t.href=window.location.href,e.forEach(function(e){t.search=i.gl.utils.removeParamQueryString(t.search,e)}),t.href},i.gl.utils.getLocationHash=function(e){var t;return void 0===e&&(e=window.location.href),t=e.indexOf("#"),-1===t?null:e.substring(t+1)},i.gl.utils.refreshCurrentPage=function(){return gl.utils.visitUrl(document.location.href)},i.gl.utils.visitUrl=function(e){document.location.href=e}},"./line_highlighter.js":function(e,t,n){(function(e){(function(){this.LineHighlighter=function(){function t(e){null==e&&(e=location.hash),this.setHash=this.setHash.bind(this),this.highlightLine=this.highlightLine.bind(this),this.clickHandler=this.clickHandler.bind(this),this.highlightHash=this.highlightHash.bind(this),this._hash=e,this.bindEvents(),this.highlightHash()}return t.prototype.highlightClass="hll",t.prototype._hash="",t.prototype.bindEvents=function(){var t=e(".file-holder");t.on("click","a[data-line-number]",this.clickHandler),t.on("highlight:line",this.highlightHash)},t.prototype.highlightHash=function(){var t;""!==this._hash&&(t=this.hashToRange(this._hash),t[0]&&(this.highlightRange(t),e.scrollTo("#L"+t[0],{offset:-150})))},t.prototype.clickHandler=function(t){var n,i,r;return t.preventDefault(),this.clearHighlight(),i=e(t.target).closest("a").data("line-number"),n=this.hashToRange(this._hash),n[0]&&t.shiftKey?t.shiftKey?(r=i<n[0]?[i,n[0]]:[n[0],i],this.setHash(r[0],r[1]),this.highlightRange(r)):void 0:(this.setHash(i),this.highlightLine(i))},t.prototype.clearHighlight=function(){return e("."+this.highlightClass).removeClass(this.highlightClass)},t.prototype.hashToRange=function(e){var t,n,i;return i=e.match(/^#?L(\d+)(?:-(\d+))?$/),i&&i.length?(t=parseInt(i[1],10),n=i[2]?parseInt(i[2],10):null,[t,n]):[null,null]},t.prototype.highlightLine=function(t){return e("#LC"+t).addClass(this.highlightClass)},t.prototype.highlightRange=function(e){var t,n,i,r,o;if(e[1]){for(o=[],n=t=i=e[0],r=e[1];i<=r?t<=r:t>=r;n=i<=r?t+=1:t-=1)o.push(this.highlightLine(n));return o}return this.highlightLine(e[0])},t.prototype.setHash=function(e,t){var n;return n=t?"#L"+e+"-"+t:"#L"+e,this._hash=n,this.__setLocationHash__(n)},t.prototype.__setLocationHash__=function(e){return history.pushState({url:e},document.title,e)},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./logo.js":function(e,t,n){(function(e){(function(){window.addEventListener("beforeunload",function(){e(".tanuki-logo").addClass("animate")})}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n("../../../node_modules/jquery/dist/jquery.js"),i=n.n(t),r=n("../../../node_modules/underscore/underscore.js"),o=n.n(r),a=n("../../../node_modules/js-cookie/src/js.cookie.js"),s=n.n(a),l=n("../../../node_modules/pikaday/pikaday.js"),u=n.n(l),c=n("../../../node_modules/dropzone/dist/dropzone.js"),d=n.n(c),h=n("../../../vendor/assets/javascripts/Sortable.js"),f=n.n(h),p=n("../../../node_modules/mousetrap/mousetrap.js"),m=(n.n(p),n("../../../node_modules/mousetrap/plugins/pause/mousetrap-pause.js")),g=(n.n(m),n("../../../vendor/assets/javascripts/fuzzaldrin-plus.js")),v=(n.n(g),n("./extensions/array.js")),b=(n.n(v),n("./shortcuts.js"),n("./shortcuts_blob.js"),n("./shortcuts_dashboard_navigation.js"),n("./shortcuts_navigation.js"),n("./shortcuts_find_file.js"),n("./shortcuts_issuable.js"),n("./shortcuts_network.js"),n("./behaviors/index.js"),n("./templates/issuable_template_selector.js"),n("./templates/issuable_template_selectors.js")),y=(n.n(b),n("./commit/file.js")),w=(n.n(y),n("./commit/image_file.js")),j=(n.n(w),n("./lib/utils/animate.js")),k=(n.n(j),n("./lib/utils/bootstrap_linked_tabs.js"),n("./lib/utils/common_utils.js")),_=(n.n(k),n("./lib/utils/datetime_utility.js"),n("./lib/utils/pretty_time.js")),C=(n.n(_),n("./lib/utils/text_utility.js"),n("./lib/utils/url_utility.js")),E=(n.n(C),n("./u2f/authenticate.js")),T=(n.n(E),n("./u2f/error.js")),x=(n.n(T),n("./u2f/register.js")),S=(n.n(x),n("./u2f/util.js")),D=(n.n(S),n("./abuse_reports.js")),A=(n.n(D),n("./activities.js"),n("./admin.js")),F=(n.n(A),n("./ajax_loading_spinner.js")),L=(n.n(F),n("./api.js"),n("./aside.js")),I=(n.n(L),n("./autosave.js"),n("./awards_handler.js")),M=n("./breakpoints.js"),B=(n.n(M),n("./broadcast_message.js")),P=(n.n(B),n("./build.js"),n("./build_artifacts.js")),q=(n.n(P),n("./build_variables.js")),O=(n.n(q),n("./ci_lint_editor.js")),N=(n.n(O),n("./commit.js")),R=(n.n(N),n("./commits.js")),$=(n.n(R),n("./compare.js")),H=(n.n($),n("./compare_autocomplete.js")),U=(n.n(H),n("./confirm_danger_modal.js")),z=(n.n(U),n("./copy_as_gfm.js"),n("./copy_to_clipboard.js"),n("./create_label.js"),n("./diff.js"),n("./dispatcher.js"),n("./dropzone_input.js"),n("./due_date_select.js"),n("./files_comment_button.js"),n("./flash.js")),W=(n.n(z),n("./gl_dropdown.js"),n("./gl_field_error.js")),V=(n.n(W),n("./gl_field_errors.js"),n("./gl_form.js"),n("./group_avatar.js")),G=(n.n(V),n("./group_label_subscription.js")),Y=(n.n(G),n("./groups_select.js"),n("./header.js")),K=(n.n(Y),n("./importer_status.js")),X=(n.n(K),n("./issuable_index.js"),n("./issuable_context.js"),n("./issuable_form.js"),n("./issue.js"),n("./issue_status_select.js")),Q=(n.n(X),n("./label_manager.js")),J=(n.n(Q),n("./labels.js")),Z=(n.n(J),n("./labels_select.js"),n("./layout_nav.js"),n("./line_highlighter.js")),ee=(n.n(Z),n("./logo.js")),te=(n.n(ee),n("./member_expiration_date.js")),ne=(n.n(te),n("./members.js")),ie=(n.n(ne),n("./merge_request.js"),n("./merge_request_tabs.js"),n("./milestone.js")),re=(n.n(ie),n("./milestone_select.js")),oe=(n.n(re),n("./mini_pipeline_graph_dropdown.js"),n("./namespace_select.js"),n("./new_branch_form.js"),n("./new_commit_form.js")),ae=(n.n(oe),n("./notes.js"),n("./notifications_dropdown.js")),se=(n.n(ae),n("./notifications_form.js")),le=(n.n(se),n("./pager.js"),n("./pipelines.js"),n("./preview_markdown.js")),ue=(n.n(le),n("./project.js"),n("./project_avatar.js")),ce=(n.n(ue),n("./project_find_file.js")),de=(n.n(ce),n("./project_fork.js")),he=(n.n(de),n("./project_import.js")),fe=(n.n(he),n("./project_label_subscription.js")),pe=(n.n(fe),n("./project_new.js"),n("./project_select.js"),n("./project_show.js")),me=(n.n(pe),n("./project_variables.js")),ge=(n.n(me),n("./projects_list.js"),n("./render_gfm.js")),ve=(n.n(ge),n("./render_math.js")),be=(n.n(ve),n("./right_sidebar.js"),n("./search.js"),n("./search_autocomplete.js")),ye=(n.n(be),n("./smart_interval.js")),we=(n.n(ye),n("./snippets_list.js")),je=(n.n(we),n("./star.js"),n("./subscription.js")),ke=(n.n(je),n("./subscription_select.js")),_e=(n.n(ke),n("./syntax_highlight.js"));n.n(_e),n("./user.js");window.jQuery=i.a,window.$=i.a,window._=o.a,window.Pikaday=u.a,window.Dropzone=d.a,window.Sortable=f.a,document.addEventListener("beforeunload",function(){e(document).off("scroll"),e('.has-tooltip, [data-toggle="tooltip"]').tooltip("destroy")}),window.addEventListener("hashchange",gl.utils.handleLocationHash),window.addEventListener("load",function e(){window.removeEventListener("load",e,!1),gl.utils.handleLocationHash()},!1),e(function(){var t,i=e("body"),r=e(document),o=e(window),a=e(".js-sidebar-toggle"),l=e(".flash-container"),u=bp.getBreakpointSize();if(s.a.defaults.path=gon.relative_url_root||"/",i.on("click",'a[href^="#"]',function(){this.getAttribute("href").substr(1)===gl.utils.getLocationHash()&&setTimeout(gl.utils.handleLocationHash,1)}),"xs"===u){e("aside.right-sidebar, .page-with-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")}e(".btn").click(function(t){if(e(this).hasClass("disabled"))return t.preventDefault(),t.stopImmediatePropagation(),!1}),e(".js-select-on-focus").on("focusin",function(){return e(this).select().one("mouseup",function(e){return e.preventDefault()})}),e(".remove-row").bind("ajax:success",function(){e(this).tooltip("destroy").closest("li").fadeOut()}),e(".js-remove-tr").bind("ajax:before",function(){return e(this).hide()}),e(".js-remove-tr").bind("ajax:success",function(){return e(this).closest("tr").fadeOut()}),e("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),e(".js-select2").bind("select2-close",function(){return setTimeout(function(){return e(".select2-container-active").removeClass("select2-container-active"),e(":focus").blur()},1)}),e.fn.tooltip.Constructor.DEFAULTS.trigger="hover",i.tooltip({selector:'.has-tooltip, [data-toggle="tooltip"]',placement:function(t,n){return e(n).data("placement")||"bottom"}}),e(".trigger-submit").on("change",function(){return e(this).parents("form").submit()}),gl.utils.localTimeAgo(e("abbr.timeago, .js-timeago"),!0),l.length>0&&(l.click(function(){return e(this).fadeOut()}),l.show()),i.on("ajax:complete, ajax:beforeSend, submit","form",function(t){var n;switch(n=e('[type="submit"], .js-disable-on-submit',this),t.type){case"ajax:beforeSend":case"submit":return n.disable();default:return n.enable()}}),e(document).ajaxError(function(e,t){var n=t.status;return 401===t.status?new Flash("You need to be logged in.","alert"):404===n||500===n?new Flash("Something went wrong on our end.","alert"):void 0}),e(".account-box").hover(function(){return e(this).toggleClass("hover")}),r.on("click",".diff-content .js-show-suppressed-diff",function(){var t;return t=e(this).parent(),t.next("table").show(),t.remove()}),e(".navbar-toggle").on("click",function(){return e(".header-content").toggleClass("menu-expanded")}),i.on("click",".js-toggle-diff-comments",function(t){var n=e(this),i=n.closest(".diff-file").find(".notes_holder");return n.toggleClass("active"),n.hasClass("active")?i.show().find(".hide, .content").show():i.hide().find(".content").hide(),e(document).trigger("toggle.comments"),t.preventDefault()}),r.off("click",".js-confirm-danger"),r.on("click",".js-confirm-danger",function(t){var n=e(t.target),i=n.closest("form"),r=n.data("confirm-danger-message");return t.preventDefault(),new ConfirmDangerModal(i,r)}),e('input[type="search"]').each(function(){var t=e(this);t.attr("value",t.val())}),r.off("keyup",'input[type="search"]').on("keyup",'input[type="search"]',function(){var t;return t=e(this),t.attr("value",t.val())}),r.off("breakpoint:change").on("breakpoint:change",function(e,t){var n;if(("sm"===t||"xs"===t)&&(n=a.find("i"),n.hasClass("fa-angle-double-right")))return a.trigger("click")}),t=function(){var e;if(e=u,(u=bp.getBreakpointSize())!==e)return r.trigger("breakpoint:change",[u])},o.off("resize.app").on("resize.app",function(){return t()}),n.i(I.a)(),new Aside,gl.utils.renderTimeago(),e(document).trigger("init.scrolling-tabs")})}.call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./member_expiration_date.js":function(e,t,n){(function(e){(function(){window.gl=window.gl||{},gl.MemberExpirationDate=function(){function t(){e(this).closest(".clearable-input").toggleClass("has-value",""!==e(this).val())}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-access-expiration-date",i=e(n);i.each(function(n,i){var r=e(i),o=new Pikaday({field:r.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",minDate:new Date,container:r.parent().get(0),onSelect:function(e){r.val(dateFormat(new Date(e),"yyyy-mm-dd")),r.trigger("change"),t.call(r)}});o.setDate(new Date(r.val())),r.data("pikaday",o)}),i.next(".js-clear-input").on("click",function(i){i.preventDefault();var r=e(this).closest(".clearable-input").find(n);r.data("pikaday").setDate(null),r.trigger("change"),t.call(r)}),i.on("blur",t),i.each(t)}}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./members.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){window.gl=window.gl||{};var i=function(){function i(){t(this,i),this.addListeners(),this.initGLDropdown()}return n(i,[{key:"addListeners",value:function(){e(".project_member, .group_member").off("ajax:success").on("ajax:success",this.removeRow),e(".js-member-update-control").off("change").on("change",this.formSubmit.bind(this)),e(".js-edit-member-form").off("ajax:success").on("ajax:success",this.formSuccess.bind(this)),gl.utils.disableButtonIfEmptyField("#user_ids","input[name=commit]","change")}},{key:"initGLDropdown",value:function(){var t=this;e(".js-member-permissions-dropdown").each(function(n,i){var r=e(i);r.glDropdown({selectable:!0,isSelectable:function(e,t){return!t.hasClass("is-active")},fieldName:r.data("field-name"),id:function(e,t){return t.data("id")},toggleLabel:function(e,t){return t.text()},clicked:function(e){t.formSubmit(null,e.$el)}})})}},{key:"removeRow",value:function(t){var n=e(t.target);n.hasClass("btn-remove")&&n.closest(".member").fadeOut(function(){e(this).remove()})}},{key:"formSubmit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t?e(t.currentTarget):n,r=this.getMemberListItems(i),o=r.$toggle,a=r.$dateInput;i.closest("form").trigger("submit.rails"),o.disable(),a.disable()}},{key:"formSuccess",value:function(t){var n=this.getMemberListItems(e(t.currentTarget).closest(".member")),i=n.$toggle,r=n.$dateInput;i.enable(),r.enable()}},{key:"getMemberListItems",value:function(t){var n=t.is(".member")?t:e("#"+t.data("el-id"));return{$memberListItem:n,$toggle:n.find(".dropdown-menu-toggle"),$dateInput:n.find(".js-access-expiration-date")}}}]),i}();gl.Members=i}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./merge_request.js":function(e,t,n){"use strict";(function(e){var t=n("../../../vendor/assets/javascripts/jquery.waitforimages.js"),i=(n.n(t),n("./task_list.js")),r=(n("./merge_request_tabs.js"),n("./helpers/issuables_helper.js"));(function(){this.MergeRequest=function(){function t(t){this.opts=null!=t?t:{},this.submitNoteForm=this.submitNoteForm.bind(this),this.$el=e(".merge-request"),this.$(".show-all-commits").on("click",function(e){return function(){return e.showAllCommits()}}(this)),this.initTabs(),this.initMRBtnListeners(),this.initCommitMessageListeners(),this.closeReopenReportToggle=r.a.initCloseReopenReport(),e("a.btn-close").length&&(this.taskList=new i.a({dataType:"merge_request",fieldName:"description",selector:".detail-page-description",onSuccess:function(e){document.querySelector("#task_status").innerText=e.task_status,document.querySelector("#task_status_short").innerText=e.task_status_short}}))}return t.prototype.$=function(e){return this.$el.find(e)},t.prototype.initTabs=function(){window.mrTabs&&window.mrTabs.unbindEvents(),window.mrTabs=new gl.MergeRequestTabs(this.opts)},t.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},t.prototype.initMRBtnListeners=function(){var t;return t=this,e("a.btn-close, a.btn-reopen").on("click",function(n){var i,r;i=e(this),(r=i.hasClass("btn-comment"))&&i.data("submitted")||(this.closeReopenReportToggle&&this.closeReopenReportToggle.setDisable(),r&&(i.hasClass("btn-comment-and-close")||i.hasClass("btn-comment-and-reopen"))&&(n.preventDefault(),n.stopImmediatePropagation(),t.submitNoteForm(i.closest("form"),i)))})},t.prototype.submitNoteForm=function(e,t){var n;if(n=e.find("textarea.js-note-text").val(),n.trim().length>0)return e.submit(),t.data("submitted",!0),t.trigger("click")},t.prototype.initCommitMessageListeners=function(){e(document).on("click","a.js-with-description-link",function(t){var n=e("textarea.js-commit-message");t.preventDefault(),n.val(n.data("messageWithDescription")),e(".js-with-description-hint").hide(),e(".js-without-description-hint").show()}),e(document).on("click","a.js-without-description-link",function(t){var n=e("textarea.js-commit-message");t.preventDefault(),n.val(n.data("messageWithoutDescription")),e(".js-with-description-hint").show(),e(".js-without-description-hint").hide()})},t.prototype.updateStatusText=function(t,n,i){e(".detail-page-header .status-box").removeClass(t).addClass(n).find("span").text(i)},t.prototype.decreaseCounter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e(".nav-links .js-merge-counter"),i=Math.max(parseInt(n.text().replace(/[^\d]/,""),10)-t,0);n.text(gl.text.addDelimiter(i))},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./merge_request_tabs.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("../../../node_modules/js-cookie/src/js.cookie.js"),r=n.n(i),o=n("./breakpoints.js"),a=(n.n(o),n("./flash.js")),s=(n.n(a),n("./blob/blob_fork_suggestion.js")),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var n=window.location,i=function(){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.action,o=e.setUrl,a=e.stubLocation;t(this,i),this.diffsLoaded=!1,this.pipelinesLoaded=!1,this.commitsLoaded=!1,this.fixedLayoutPref=null,this.setUrl=void 0===o||o,this.setCurrentAction=this.setCurrentAction.bind(this),this.tabShown=this.tabShown.bind(this),this.showTab=this.showTab.bind(this),a&&(n=a),this.bindEvents(),this.activateTab(r),this.initAffix()}return l(i,[{key:"bindEvents",value:function(){e(document).on("shown.bs.tab",'.merge-request-tabs a[data-toggle="tab"]',this.tabShown).on("click",".js-show-tab",this.showTab),e('.merge-request-tabs a[data-toggle="tab"]').on("click",this.clickTab)}},{key:"unbindEvents",value:function(){e(document).off("shown.bs.tab",'.merge-request-tabs a[data-toggle="tab"]',this.tabShown).off("click",".js-show-tab",this.showTab),e('.merge-request-tabs a[data-toggle="tab"]').off("click",this.clickTab)}},{key:"destroyPipelinesView",value:function(){this.commitPipelinesTable&&(this.commitPipelinesTable.$destroy(),this.commitPipelinesTable=null,document.querySelector("#commit-pipeline-table-view").innerHTML="")}},{key:"showTab",value:function(t){t.preventDefault(),this.activateTab(e(t.target).data("action"))}},{key:"clickTab",value:function(e){if(e.currentTarget&&gl.utils.isMetaClick(e)){var t=e.currentTarget.getAttribute("href");e.stopImmediatePropagation(),e.preventDefault(),window.open(t,"_blank")}}},{key:"tabShown",value:function(t){var n=e(t.target),i=n.data("action");"commits"===i?(this.loadCommits(n.attr("href")),this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):this.isDiffAction(i)?(this.loadDiff(n.attr("href")),"lg"!==Breakpoints.get().getBreakpointSize()&&this.shrinkView(),"parallel"===this.diffViewType()&&this.expandViewContainer(),this.destroyPipelinesView()):"pipelines"===i?(this.resetViewContainer(),this.mountPipelinesView()):("xs"!==Breakpoints.get().getBreakpointSize()&&this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()),this.setUrl&&this.setCurrentAction(i)}},{key:"scrollToElement",value:function(t){if(n.hash){var i=0-(e(".navbar-gitlab").outerHeight()+e(".js-tabs-affix").outerHeight()),r=e(t+" "+n.hash+":not(.match)");r.length&&e.scrollTo(r[0],{offset:i})}}},{key:"activateTab",value:function(t){e(".merge-request-tabs a[data-action='"+t+"']").tab("show")}},{key:"setCurrentAction",value:function(e){this.currentAction=e;var t=n.pathname.replace(/\/(commits|diffs|pipelines)(\.html)?\/?$/,"");return"show"!==this.currentAction&&"new"!==this.currentAction&&(t+="/"+this.currentAction),t+=n.search+n.hash,window.history.replaceState({url:t},document.title,t),t}},{key:"loadCommits",value:function(t){var n=this;this.commitsLoaded||this.ajaxGet({url:t+".json",success:function(t){document.querySelector("div#commits").innerHTML=t.html,gl.utils.localTimeAgo(e(".js-timeago","div#commits")),n.commitsLoaded=!0,n.scrollToElement("#commits")}})}},{key:"mountPipelinesView",value:function(){var e=document.querySelector("#commit-pipeline-table-view"),t=gl.CommitPipelinesTable;this.commitPipelinesTable=new t({propsData:{endpoint:e.dataset.endpoint,helpPagePath:e.dataset.helpPagePath}}).$mount(),e.appendChild(this.commitPipelinesTable.$el)}},{key:"loadDiff",value:function(t){var i=this;if(!this.diffsLoaded){var r=gl.utils.parseUrlPathname(t);this.ajaxGet({url:r+".json"+n.search,success:function(t){var n=e("#diffs");n.html(t.html),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents(),gl.utils.localTimeAgo(e(".js-timeago","div#diffs")),e("#diffs .js-syntax-highlight").syntaxHighlight(),"parallel"===i.diffViewType()&&i.isDiffAction(i.currentAction)&&i.expandViewContainer(),i.diffsLoaded=!0,new gl.Diff,i.scrollToElement("#diffs"),e(".diff-file").each(function(t,n){new s.a({openButtons:e(n).find(".js-edit-blob-link-fork-toggler"),forkButtons:e(n).find(".js-fork-suggestion-button"),cancelButtons:e(n).find(".js-cancel-fork-suggestion-button"),suggestionSections:e(n).find(".js-file-fork-suggestion-section"),actionTextPieces:e(n).find(".js-file-fork-suggestion-section-action")}).init()});var r=window.gl.utils.getLocationHash(),o=r&&n.find('.note[id="'+r+'"]');if(o&&o.length>0){var a=o.closest(".notes_content"),l=a.hasClass("new")?"new":"old";notes.toggleDiffNote({target:o,lineType:l,forceShow:!0}),o[0].scrollIntoView(),window.gl.utils.handleLocationHash(),o.addClass("target")}}})}}},{key:"toggleLoading",value:function(t){e(".mr-loading-status .loading").toggle(t)}},{key:"ajaxGet",value:function(t){var n=this,i={beforeSend:function(){return n.toggleLoading(!0)},error:function(){return new Flash("An error occurred while fetching this tab.","alert")},complete:function(){return n.toggleLoading(!1)},dataType:"json",type:"GET"};e.ajax(e.extend({},i,t))}},{key:"diffViewType",value:function(){return e(".inline-parallel-buttons a.active").data("view-type")}},{key:"isDiffAction",value:function(e){return"diffs"===e||"new/diffs"===e}},{key:"expandViewContainer",value:function(){var t=e(".content-wrapper .container-fluid");null===this.fixedLayoutPref&&(this.fixedLayoutPref=t.hasClass("container-limited")),t.removeClass("container-limited")}},{key:"resetViewContainer",value:function(){null!==this.fixedLayoutPref&&e(".content-wrapper .container-fluid").toggleClass("container-limited",this.fixedLayoutPref)}},{key:"shrinkView",value:function(){var t=e(".js-sidebar-toggle i:visible");setTimeout(function(){t.is(".fa-angle-double-right")&&t.closest("a").trigger("click",[!0])},0)}},{key:"expandView",value:function(){if("true"!==r.a.get("collapsed_gutter")){var t=e(".js-sidebar-toggle i:visible");setTimeout(function(){t.is(".fa-angle-double-left")&&t.closest("a").trigger("click",[!0])},0)}}},{key:"initAffix",value:function(){var t=e(".js-tabs-affix"),n=e(".navbar-gitlab");if("xs"!==Breakpoints.get().getBreakpointSize()&&t.length&&"static"===t.css("position")){var i=e("#diff-notes-app");t.off("affix.bs.affix affix-top.bs.affix").affix({offset:{top:function(){return i.offset().top-t.height()-n.height()}}}).on("affix.bs.affix",function(){return i.css({marginTop:t.height()})}).on("affix-top.bs.affix",function(){return i.css({marginTop:""})}),t.hasClass("affix")&&t.trigger("affix.bs.affix")}}}]),i}();window.gl=window.gl||{},window.gl.MergeRequestTabs=i}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./milestone.js":function(e,t,n){(function(e){(function(){this.Milestone=function(){function t(){this.bindTabsSwitching(),this.loadTab(e(".js-milestone-tabs .active a")),this.loadInitialTab()}return t.prototype.bindTabsSwitching=function(){var t=this;return e('a[data-toggle="tab"]').on("show.bs.tab",function(n){var i=e(n.target);location.hash=i.attr("href"),t.loadTab(i)})},t.prototype.loadInitialTab=function(){var t=e('.js-milestone-tabs a[href="'+location.hash+'"]');t.length&&t.tab("show")},t.prototype.loadTab=function(t){var n=t.data("endpoint"),i=t.attr("href");n&&!t.hasClass("is-loaded")&&e.ajax({url:n,dataType:"JSON"}).fail(function(){return new Flash("Error loading milestone tab")}).done(function(n){e(i).html(n.html),t.addClass("is-loaded")})},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./milestone_select.js":function(e,t,n){(function(e){(function(){this.MilestoneSelect=function(){function t(t,n){var i,r;null!=t&&(i=this,this.currentProject=JSON.parse(t)),r=e(n),n||(r=e(".js-milestone-select")),r.each(function(t,n){var r,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,C,E,T;return o=e(n),o.data("project-id"),v=o.data("milestones"),p=o.data("issueUpdate"),j=o.data("show-no"),w=o.data("show-any"),T=o.data("showMenuAbove"),k=o.data("show-upcoming"),C=o.data("show-started"),E=o.data("use-id"),h=o.data("default-label"),f=o.data("default-no"),o.data("issuable-id"),c=o.data("ability-name"),s=o.closest(".selectbox"),r=s.closest(".block"),l=r.find(".sidebar-collapsed-icon"),u=r.find(".value"),a=r.find(".block-loading").fadeOut(),y=w?"":null,y=j&&f?"No Milestone":y,b=o.data("selected")||y,p&&(g=_.template('<a href="/<%- full_path %>/milestones/<%- iid %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),m='<span class="no-value">None</span>',d=_.template('<span class="has-tooltip" data-container="body" title="<%- remaining %>" data-placement="left"> <%- title %> </span>')),o.glDropdown({showMenuAbove:T,data:function(t,n){return e.ajax({url:v}).done(function(t){var i=[];w&&i.push({id:0,name:"",title:"Any Milestone"}),j&&i.push({id:-1,name:"No Milestone",title:"No Milestone"}),k&&i.push({id:-2,name:"#upcoming",title:"Upcoming"}),C&&i.push({id:-3,name:"#started",title:"Started"}),i.length&&i.push("divider"),n(i.concat(t)),T&&o.data("glDropdown").positionMenuAbove(),e('[data-milestone-id="'+b+'"] > a').addClass("is-active")})},renderRow:function(e){return'\n              <li data-milestone-id="'+e.name+"\">\n                <a href='#' class='dropdown-menu-milestone-link'>\n                  "+_.escape(e.title)+"\n                </a>\n              </li>\n            "},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(t,n,i){return t&&"id"in t&&e(n).hasClass("is-active")?t.title:h},defaultLabel:h,fieldName:o.data("field-name"),text:function(e){return _.escape(e.title)},id:function(e){return E||o.is(".js-issuable-form-dropdown")?e.id:e.name},isSelected:function(e){return e.name===b},hidden:function(){return s.hide(),u.css("display","")},opened:function(t){var n=e(t.currentTarget);o.hasClass("js-issue-board-sidebar")&&(b=o[0].dataset.selected||y),e("a.is-active",n).removeClass("is-active"),e('[data-milestone-id="'+b+'"] > a',n).addClass("is-active")},vue:o.hasClass("js-issue-board-sidebar"),clicked:function(t){var n,r,h,f,v,w,j=(t.$el,t.e),k=t.selectedObj;if(v=e("body").data("page"),r="projects:issues:index"===v,h=v===v&&"projects:merge_requests:index"===v,f=k.name!==b,b=f?k.name:y,o.hasClass("js-filter-bulk-update")||o.hasClass("js-issuable-form-dropdown"))return void j.preventDefault();if(o.closest(".add-issues-modal").length&&(w=gl.issueBoards.ModalStore.store.filter),w)w[o.data("field-name")]=k.name,j.preventDefault();else{if(o.hasClass("js-filter-submit")&&(r||h))return Issuable.filterResults(o.closest("form"));if(o.hasClass("js-filter-submit"))return o.closest("form").submit();if(!o.hasClass("js-issue-board-sidebar"))return k=s.find('input[type="hidden"]').val(),n={},n[c]={},n[c].milestone_id=null!=k?k:null,a.removeClass("hidden").fadeIn(),o.trigger("loading.gl.dropdown"),e.ajax({type:"PUT",url:p,data:n}).done(function(e){return o.trigger("loaded.gl.dropdown"),a.fadeOut(),s.hide(),u.css("display",""),null!=e.milestone?(e.milestone.full_path=i.currentProject.full_path,e.milestone.remaining=gl.utils.timeFor(e.milestone.due_date),u.html(g(e.milestone)),l.find("span").html(d(e.milestone))):(u.html(m),l.find("span").text("No"))});-1!==k.id&&f?gl.issueBoards.boardStoreIssueSet("milestone",new ListMilestone({id:k.id,title:k.name})):gl.issueBoards.boardStoreIssueDelete("milestone"),o.trigger("loading.gl.dropdown"),a.removeClass("hidden").fadeIn(),gl.issueBoards.BoardsStore.detail.issue.update(o.attr("data-issue-update")).then(function(){o.trigger("loaded.gl.dropdown"),a.fadeOut()}).catch(function(){a.fadeOut()})}}})})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./mini_pipeline_graph_dropdown.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.container=e.container||"",this.dropdownListSelector=".js-builds-dropdown-container",this.getBuildsList=this.getBuildsList.bind(this)}return i(t,[{key:"bindEvents",value:function(){e(document).off("shown.bs.dropdown",this.container).on("shown.bs.dropdown",this.container,this.getBuildsList)}},{key:"stopDropdownClickPropagation",value:function(){e(document).on("click",this.container+" .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",function(e){e.stopPropagation()})}},{key:"renderBuildsList",value:function(e,t){e.parentElement.querySelector(this.dropdownListSelector+" .js-builds-dropdown-list").innerHTML=t}},{key:"getBuildsList",value:function(t){var n=this,i=t.relatedTarget,r=i.dataset.stageEndpoint;return e.ajax({dataType:"json",type:"GET",url:r,beforeSend:function(){n.renderBuildsList(i,""),n.toggleLoading(i)},success:function(e){n.toggleLoading(i),n.renderBuildsList(i,e.html),n.stopDropdownClickPropagation()},error:function(){n.toggleLoading(i),e(i).parent().hasClass("open")&&e(i).dropdown("toggle"),new Flash("An error occurred while fetching the builds.","alert")}})}},{key:"toggleLoading",value:function(e){e.parentElement.querySelector(this.dropdownListSelector+" .js-builds-dropdown-loading").classList.toggle("hidden")}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./namespace_select.js":function(e,t,n){"use strict";(function(e){var t=n("./api.js");(function(){window.NamespaceSelect=function(){function e(e){this.onSelectItem=this.onSelectItem.bind(this);var n,i;this.dropdown=e.dropdown,i=!0,n="namespace_id",this.dropdown.attr("data-field-name")&&(n=this.dropdown.data("fieldName")),this.dropdown.attr("data-show-any")&&(i=this.dropdown.data("showAny")),this.dropdown.glDropdown({filterable:!0,selectable:!0,filterRemote:!0,search:{fields:["path"]},fieldName:n,toggleLabel:function(e){return null==e.id?e.text:e.kind+": "+e.full_path},data:function(e,n){return t.a.namespaces(e,function(e){var t;return i&&(t={text:"Any namespace",id:null},e.unshift(t),e.splice(1,0,"divider")),n(e)})},text:function(e){return null==e.id?e.text:e.kind+": "+e.full_path},renderRow:this.renderRow,clicked:this.onSelectItem})}return e.prototype.onSelectItem=function(e){return e.e.preventDefault()},e}(),window.NamespaceSelects=function(){function t(t){var n;null==t&&(t={}),this.$dropdowns=null!=(n=t.$dropdowns)?n:e(".js-namespace-select"),this.$dropdowns.each(function(t,n){var i;return i=e(n),new window.NamespaceSelect({dropdown:i})})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./new_branch_form.js":function(e,t,n){"use strict";(function(e){var t=n("./ref_select_dropdown.js");(function(){this.NewBranchForm=function(){function n(n,i){this.validate=this.validate.bind(this),this.branchNameError=n.find(".js-branch-name-error"),this.name=n.find(".js-branch-name"),this.ref=n.find("#ref"),new t.a(e(".js-branch-select"),i),this.setupRestrictions(),this.addBinding(),this.init()}return n.prototype.addBinding=function(){return this.name.on("blur",this.validate)},n.prototype.init=function(){if(this.name.length&&this.name.val().length>0)return this.name.trigger("blur")},n.prototype.setupRestrictions=function(){var e,t,n,i;return i={pattern:/^(\/|\.)/g,prefix:"can't start with",conjunction:"or"},e={pattern:/(\/|\.|\.lock)$/g,prefix:"can't end in",conjunction:"or"},t={pattern:/(\s|~|\^|:|\?|\*|\[|\\|\.\.|@\{|\/{2,}){1}/g,prefix:"can't contain",conjunction:", "},n={pattern:/^@+$/g,prefix:"can't be",conjunction:"or"},this.restrictions=[i,t,e,n]},n.prototype.validate=function(){var t,n,i,r,o,a=[].indexOf;if(this.branchNameError.empty(),r=function(e,t){return-1===a.call(e,t)&&e.push(t),e},i=function(e,t){var n;return n=e.map(function(e){switch(!1){case!/\s/.test(e):return"spaces";case!/\/{2,}/g.test(e):return"consecutive slashes";default:return"'"+e+"'"}}),t.prefix+" "+n.join(t.conjunction)},o=function(e){return function(t,n){var o;return o=e.name.val().match(n.pattern),o?t.concat(i(o.reduce(r,[]),n)):t}}(this),n=this.restrictions.reduce(o,[]),n.length>0)return t=e("<span/>").text(n.join(", ")),this.branchNameError.append(t)},n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./new_commit_form.js":function(e,t){(function(){this.NewCommitForm=function(){function e(e){this.form=e,this.renderDestination=this.renderDestination.bind(this),this.branchName=e.find(".js-branch-name"),this.originalBranch=e.find(".js-original-branch"),this.createMergeRequest=e.find(".js-create-merge-request"),this.createMergeRequestContainer=e.find(".js-create-merge-request-container"),this.branchName.keyup(this.renderDestination),this.renderDestination()}return e.prototype.renderDestination=function(){var e;return e=this.branchName.val()!==this.originalBranch.val(),e?(this.createMergeRequestContainer.show(),this.wasDifferent||this.createMergeRequest.prop("checked",!0)):(this.createMergeRequestContainer.hide(),this.createMergeRequest.prop("checked",!1)),this.wasDifferent=e},e}()}).call(window)},"./notes.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e.replace(/\r\n/g,"\n")}var o=n("../../../node_modules/jquery/dist/jquery.js"),a=n.n(o),s=n("../../../node_modules/js-cookie/src/js.cookie.js"),l=n.n(s),u=n("../../../vendor/assets/javascripts/autosize.js"),c=n.n(u),d=n("../../../node_modules/dropzone/dist/dropzone.js"),h=n.n(d),f=n("../../../vendor/assets/javascripts/jquery.caret.js"),p=(n.n(f),n("../../../vendor/assets/javascripts/jquery.atwho.js")),m=(n.n(p),n("./lib/utils/ajax_cache.js")),g=n("./comment_type_toggle.js"),v=n("./awards_handler.js"),b=(n("./autosave.js"),n("./dropzone_input.js"),n("./task_list.js")),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();window.autosize=c.a,window.Dropzone=h.a;var w=/^\/\w+.*$/gm,j=function(){function e(t,n,r,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this.updateTargetButtons=this.updateTargetButtons.bind(this),this.updateComment=this.updateComment.bind(this),this.visibilityChange=this.visibilityChange.bind(this),this.cancelDiscussionForm=this.cancelDiscussionForm.bind(this),this.onAddDiffNote=this.onAddDiffNote.bind(this),this.setupDiscussionNoteForm=this.setupDiscussionNoteForm.bind(this),this.onReplyToDiscussionNote=this.onReplyToDiscussionNote.bind(this),this.removeNote=this.removeNote.bind(this),this.cancelEdit=this.cancelEdit.bind(this),this.updateNote=this.updateNote.bind(this),this.addDiscussionNote=this.addDiscussionNote.bind(this),this.addNoteError=this.addNoteError.bind(this),this.addNote=this.addNote.bind(this),this.resetMainTargetForm=this.resetMainTargetForm.bind(this),this.refresh=this.refresh.bind(this),this.keydownNoteText=this.keydownNoteText.bind(this),this.toggleCommitList=this.toggleCommitList.bind(this),this.postComment=this.postComment.bind(this),this.clearFlashWrapper=this.clearFlash.bind(this),this.onHashChange=this.onHashChange.bind(this),this.notes_url=t,this.note_ids=n,this.enableGFM=s,this.updatedNotesTrackingMap={},this.last_fetched_at=r,this.noteable_url=document.URL,this.notesCountBadge||(this.notesCountBadge=a()(".issuable-details").find(".notes-tab .badge")),this.basePollingInterval=15e3,this.maxPollingSteps=4,this.cleanBinding(),this.addBinding(),this.setPollingInterval(),this.setupMainTargetNoteForm(),this.taskList=new b.a({dataType:"note",fieldName:"note",selector:".notes"}),this.collapseLongCommitList(),this.setViewType(o),"merge_requests"===gl.utils.getPagePath(1)&&a()(".note-edit-form").clone().addClass("mr-note-edit-form").insertAfter(".note-edit-form")}return y(e,[{key:"setViewType",value:function(e){this.view=l.a.get("diff_view")||e}},{key:"addBinding",value:function(){return a()(document).on("click",".js-note-edit",this.showEditForm.bind(this)),a()(document).on("click",".note-edit-cancel",this.cancelEdit),a()(document).on("click",".js-comment-submit-button",this.postComment),a()(document).on("click",".js-comment-save-button",this.updateComment),a()(document).on("keyup input",".js-note-text",this.updateTargetButtons),a()(document).on("click",".js-comment-resolve-button",this.postComment),a()(document).on("click",".js-note-delete",this.removeNote),a()(document).on("click",".js-note-attachment-delete",this.removeAttachment),a()(document).on("click",".js-note-discard",this.resetMainTargetForm),a()(document).on("change",".js-note-attachment-input",this.updateFormAttachment),a()(document).on("click",".js-discussion-reply-button",this.onReplyToDiscussionNote),a()(document).on("click",".js-add-diff-note-button",this.onAddDiffNote),a()(document).on("click",".js-close-discussion-note-form",this.cancelDiscussionForm),a()(document).on("click",".system-note-commit-list-toggler",this.toggleCommitList),a()(document).on("visibilitychange",this.visibilityChange),a()(document).on("issuable:change",this.refresh),a()(document).on("ajax:success",".js-main-target-form",this.addNote),a()(document).on("ajax:success",".js-discussion-note-form",this.addDiscussionNote),a()(document).on("ajax:success",".js-main-target-form",this.resetMainTargetForm),a()(document).on("ajax:complete",".js-main-target-form",this.reenableTargetFormSubmitButton),a()(document).on("keydown",".js-note-text",this.keydownNoteText),a()(window).on("hashchange",this.onHashChange)}},{key:"cleanBinding",value:function(){a()(document).off("click",".js-note-edit"),a()(document).off("click",".note-edit-cancel"),a()(document).off("click",".js-note-delete"),a()(document).off("click",".js-note-attachment-delete"),a()(document).off("click",".js-discussion-reply-button"),a()(document).off("click",".js-add-diff-note-button"),a()(document).off("visibilitychange"),a()(document).off("keyup input",".js-note-text"),a()(document).off("click",".js-note-target-reopen"),a()(document).off("click",".js-note-target-close"),a()(document).off("click",".js-note-discard"),a()(document).off("keydown",".js-note-text"),a()(document).off("click",".js-comment-resolve-button"),a()(document).off("click",".system-note-commit-list-toggler"),a()(document).off("ajax:success",".js-main-target-form"),a()(document).off("ajax:success",".js-discussion-note-form"),a()(document).off("ajax:complete",".js-main-target-form"),a()(window).off("hashchange",this.onHashChange)}},{key:"keydownNoteText",value:function(e){var t,n,i,r,o,s,l;if(!gl.utils.isMetaKey(e))switch(t=a()(e.target),e.which){case 38:if(""!==t.val())return;if(r=a()("li.note[data-author-id='"+gon.current_user_id+"'][data-editable]:last",t.closest(".note, .notes_holder, #notes")),r.length)return o=r.find(".js-note-edit"),o.trigger("click",[!0,r]);break;case 27:if(n=t.closest(".js-discussion-note-form"),n.length){if(""!==t.val()&&!confirm("Are you sure you want to cancel creating this comment?"))return;return void this.removeDiscussionNoteForm(n)}if(i=t.closest(".note"),i.length){if(l=t.closest("form").data("original-note"),s=t.val(),l!==s&&!confirm("Are you sure you want to cancel editing this comment?"))return;return this.removeNoteEditForm(i)}}}},{key:"initRefresh",value:function(){return e.interval&&clearInterval(e.interval),e.interval=setInterval(function(e){return function(){return e.refresh()}}(this),this.pollingInterval)}},{key:"refresh",value:function(){if(!document.hidden)return this.getContent()}},{key:"getContent",value:function(){if(!this.refreshing)return this.refreshing=!0,a.a.ajax({url:this.notes_url,headers:{"X-Last-Fetched-At":this.last_fetched_at},dataType:"json",success:function(e){return function(t){var n;return n=t.notes,e.last_fetched_at=t.last_fetched_at,e.setPollingInterval(t.notes.length),a.a.each(n,function(t,n){e.renderNote(n)})}}(this)}).always(function(e){return function(){return e.refreshing=!1}}(this))}},{key:"setPollingInterval",value:function(e){var t;return null==e&&(e=!0),t=this.basePollingInterval*Math.pow(2,this.maxPollingSteps-1),e?this.pollingInterval=this.basePollingInterval:this.pollingInterval<t&&(this.pollingInterval*=2),this.initRefresh()}},{key:"handleQuickActions",value:function(t){var i;t.commands_changes&&("merge"in t.commands_changes&&e.checkMergeRequestStatus(),"emoji_award"in t.commands_changes&&(i=a()(".js-awards-block").eq(0),n.i(v.a)().then(function(e){e.addAwardToEmojiBar(i,t.commands_changes.emoji_award),e.scrollToAwards()}).catch(function(){})))}},{key:"setupNewNote",value:function(t){gl.utils.localTimeAgo(t.find(".js-timeago"),!1),this.collapseLongCommitList(),this.taskList.init(),e.updateNoteTargetSelector(t),this.$noteToCleanHighlight=t}},{key:"onHashChange",value:function(){this.$noteToCleanHighlight&&e.updateNoteTargetSelector(this.$noteToCleanHighlight),this.$noteToCleanHighlight=null}},{key:"renderNote",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a()(".main-notes-list");if(t.discussion_html)return this.renderDiscussionNote(t,n);if(!t.valid)return void(t.errors.commands_only&&(t.commands_changes&&Object.keys(t.commands_changes).length>0&&i.find(".system-note.being-posted").remove(),this.addFlash(t.errors.commands_only,"notice",this.parentTimeline),this.refresh()));var o=i.find("#note_"+t.id);if(e.isNewNote(t,this.note_ids)){this.note_ids.push(t.id),i.length&&i.find(".system-note.being-posted").remove();var s=e.animateAppendNote(t.html,i);return this.setupNewNote(s),this.refresh(),this.updateNotesCount(1)}if(e.isUpdatedNote(t,o)){var l=o.hasClass("is-editing"),u=r(o.find(".original-note-content").text().trim()),c=o.find(".js-note-text"),d=c.val(),h=r(t.note),f=d===u||d===h;if(l&&f)c.val(t.note),this.updatedNotesTrackingMap[t.id]=t;else if(l&&!f)this.putConflictEditWarningInPlace(t,o),this.updatedNotesTrackingMap[t.id]=t;else{var p=e.animateUpdateNote(t.html,o);this.setupNewNote(p)}}}},{key:"isParallelView",value:function(){return"parallel"===l.a.get("diff_view")}},{key:"renderDiscussionNote",value:function(t,n){var i,r,o,s,l;if(e.isNewNote(t,this.note_ids)){if(this.note_ids.push(t.id),r=n||a()('.js-discussion-note-form[data-discussion-id="'+t.discussion_id+'"]'),o=r.closest("tr"),s=this.isParallelView()?r.find("#line_type").val():"old",l=o.prevAll(".line_holder").first().find(".js-avatar-container."+s+"_line"),i=a()('.notes[data-discussion-id="'+t.discussion_id+'"]'),i.length||(i=r.closest(".discussion").find(".notes")),0===i.length){if(t.diff_discussion_html){var u=a()(t.diff_discussion_html).renderGFM();if(!this.isParallelView()||o.hasClass("js-temp-notes-holder"))o.after(u);else{var c=u.find('.notes[data-discussion-id="'+t.discussion_id+'"]'),d="."+c.closest(".notes_content").attr("class").split(" ").join(".");o.find(d+" .content").append(c.closest(".content").children())}}var h=a()("body").attr("data-page");(h&&-1!==h.indexOf("projects:merge_request")||!t.diff_discussion_html)&&e.animateAppendNote(t.discussion_html,a()(".main-notes-list"))}else e.animateAppendNote(t.html,i);return void 0!==gl.diffNotesCompileComponents&&t.discussion_resolvable&&(gl.diffNotesCompileComponents(),this.renderDiscussionAvatar(l,t)),gl.utils.localTimeAgo(a()(".js-timeago"),!1),e.checkMergeRequestStatus(),this.updateNotesCount(1)}}},{key:"getLineHolder",value:function(e){return a()(e).closest(".notes_holder").prevAll(".line_holder").first().get(0)}},{key:"renderDiscussionAvatar",value:function(e,t){var n=e.find(".js-add-diff-note-button"),i=e.find(".diff-comment-avatar-holders");i.length||(i=document.createElement("diff-note-avatars"),i.setAttribute("discussion-id",t.discussion_id),e.append(i),gl.diffNotesCompileComponents()),n.length&&n.remove()}},{key:"resetMainTargetForm",value:function(e){var t;t=a()(".js-main-target-form"),t.find(".js-errors").remove(),t.find(".js-md-write-button").click(),t.find(".js-note-text").val("").trigger("input"),t.find(".js-note-text").data("autosave").reset();var n=document.createEvent("Event");n.initEvent("autosize:update",!0,!1),t.find(".js-autosize")[0].dispatchEvent(n),this.updateTargetButtons(e)}},{key:"reenableTargetFormSubmitButton",value:function(){var e;return e=a()(".js-main-target-form"),e.find(".js-note-text").trigger("input")}},{key:"setupMainTargetNoteForm",value:function(){var t;t=a()(".js-new-note-form"),this.formClone=t.clone(),this.setupNoteForm(t),t.removeClass("js-new-note-form"),t.addClass("js-main-target-form"),t.find("#note_line_code").remove(),t.find("#note_position").remove(),t.find("#note_type").val(""),t.find("#in_reply_to_discussion_id").remove(),t.find(".js-comment-resolve-button").closest("comment-and-resolve-btn").remove(),this.parentTimeline=t.parents(".timeline"),t.length&&e.initCommentTypeToggle(t.get(0))}},{key:"setupNoteForm",value:function(e){var t,n;return new gl.GLForm(e,this.enableGFM),t=e.find(".js-note-text"),n=["Note",e.find("#note_noteable_type").val(),e.find("#note_noteable_id").val(),e.find("#note_commit_id").val(),e.find("#note_type").val(),e.find("#in_reply_to_discussion_id").val(),e.find("#note_line_code").val(),e.find("#note_position").val()],new Autosave(t,n)}},{key:"addNote",value:function(e,t){return this.renderNote(t)}},{key:"addNoteError",value:function(e){var t=void 0;return e.hasClass("js-main-target-form")?t=e.parents(".timeline"):e.hasClass("js-discussion-note-form")&&(t=e.closest(".discussion-notes").find(".notes")),this.addFlash("Your comment could not be submitted! Please check your network connection and try again.","alert",t)}},{key:"updateNoteError",value:function(e){new Flash("Your comment could not be updated! Please check your network connection and try again.")}},{key:"addDiscussionNote",value:function(e,t,n){if(null!=e.attr("data-resolve-all")){var i=(e.data("project-path"),e.data("discussion-id")),r=e.data("noteable-iid");null!=ResolveService&&ResolveService.toggleResolveForDiscussion(r,i)}this.renderNote(t,e),n&&this.removeDiscussionNoteForm(e)}},{key:"updateNote",value:function(e,t){var n,i;n=a()(e.html),n.addClass("fade-in-full"),this.revertNoteEditForm(t),n.renderGFM(),i=a()(".note-row-"+e.id),i.replaceWith(n),this.setupNewNote(n),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}},{key:"checkContentToAllowEditing",value:function(e){var t=e.find(".original-note-content").text().trim(),n=e.find(".js-note-text").val(),i=!0;if(n===t)this.removeNoteEditForm(e);else{e.find(".note-form-actions");gl.utils.isInViewport(e.get(0))||gl.utils.scrollToElement(e),e.find(".js-finish-edit-warning").show(),i=!1}return i}},{key:"showEditForm",value:function(e,t,n){e.preventDefault();var i=a()(e.target),r=a()(this.getEditFormSelector(i)),o=i.closest(".note"),s=a()(".note.is-editing:visible");if(s.length){if(!this.checkContentToAllowEditing(s))return}o.find(".js-note-attachment-delete").show(),r.addClass("current-note-edit-form"),o.addClass("is-editing"),this.putEditFormInPlace(i)}},{key:"cancelEdit",value:function(e){e.preventDefault();var t=a()(e.target),n=t.closest(".note"),i=n.attr("data-note-id");if(this.revertNoteEditForm(t),this.updatedNotesTrackingMap[i]){var r=a()(this.updatedNotesTrackingMap[i].html);n.replaceWith(r),this.setupNewNote(r),delete this.updatedNotesTrackingMap[i]}else n.find(".js-finish-edit-warning").hide(),this.removeNoteEditForm(n)}},{key:"revertNoteEditForm",value:function(e){e=e||a()(".note.is-editing:visible");var t=this.getEditFormSelector(e),n=a()(t);n.insertBefore(".notes-form"),n.find(".js-comment-save-button").enable(),n.find(".js-finish-edit-warning").hide()}},{key:"getEditFormSelector",value:function(e){var t=".note-edit-form:not(.mr-note-edit-form)";return e.parents("#diffs").length&&(t=".note-edit-form.mr-note-edit-form"),t}},{key:"removeNoteEditForm",value:function(e){var t=e.find(".current-note-edit-form");return e.removeClass("is-editing"),t.removeClass("current-note-edit-form"),t.find(".js-finish-edit-warning").hide(),t.find(".js-note-text").val(t.find("form.edit-note").data("original-note"))}},{key:"removeNote",value:function(t){var n,i;return i=a()(t.currentTarget).closest(".note"),n=i.attr("id"),i.attr("data-note-id"),a()(t.currentTarget).closest(".notes[data-discussion-id]").closest(".notes_holder").prev(".line_holder"),a()('.note[id="'+n+'"]').each(function(e){return function(e,t){var i,r;if(i=a()(t),r=i.closest(".discussion-notes"),void 0!==gl.diffNotesCompileComponents&&gl.diffNoteApps[n]&&gl.diffNoteApps[n].$destroy(),i.remove(),0===r.find(".note").length){var o=r.closest("tr");r.closest(".timeline-entry").remove(),o.find(".discussion-notes").length>1?r.remove():o.remove()}}}()),e.checkMergeRequestStatus(),this.updateNotesCount(-1)}},{key:"removeAttachment",value:function(){var e=a()(this).closest(".note");return e.find(".note-attachment").remove(),e.find(".note-body > .note-text").show(),e.find(".note-header").show(),e.find(".current-note-edit-form").remove()}},{key:"onReplyToDiscussionNote",value:function(e){this.replyToDiscussionNote(e.target)}},{key:"replyToDiscussionNote",value:function(e){var t,n;return t=this.cleanForm(this.formClone.clone()),n=a()(e).closest(".js-discussion-reply-button"),n.closest(".discussion-reply-holder").hide().after(t),this.setupDiscussionNoteForm(n,t)}},{key:"setupDiscussionNoteForm",value:function(e,t){var n=e.closest(".text-file"),i=e.data("discussionId");if(i&&(t.attr("data-discussion-id",i),t.find("#in_reply_to_discussion_id").val(i)),t.attr("data-line-code",e.data("lineCode")),t.find("#line_type").val(e.data("lineType")),t.find("#note_noteable_type").val(n.data("noteableType")),t.find("#note_noteable_id").val(n.data("noteableId")),t.find("#note_commit_id").val(n.data("commitId")),t.find("#note_type").val(e.data("noteType")),t.find("#note_line_code").val(e.data("lineCode")),t.find("#note_position").val(e.attr("data-position")),t.find(".js-note-discard").show().removeClass("js-note-discard").addClass("js-close-discussion-note-form").text(t.find(".js-close-discussion-note-form").data("cancel-text")),t.find(".js-note-target-close").remove(),t.find(".js-note-new-discussion").remove(),this.setupNoteForm(t),t.removeClass("js-main-target-form").addClass("discussion-form js-discussion-note-form"),void 0!==gl.diffNotesCompileComponents){t.find("comment-and-resolve-btn").attr(":discussion-id","'"+i+"'"),gl.diffNotesCompileComponents()}t.find(".js-note-text").focus(),t.find(".js-comment-resolve-button").attr("data-discussion-id",i)}},{key:"onAddDiffNote",value:function(e){e.preventDefault();var t=e.currentTarget||e.target,n=a()(t),i=!n.hasClass("js-diff-comment-avatar");this.toggleDiffNote({target:n,lineType:t.dataset.lineType,showReplyInput:i})}},{key:"toggleDiffNote",value:function(e){var t,n,i,r,o,s,l,u,c=e.target,d=e.lineType,h=e.forceShow,f=e.showReplyInput,p=void 0!==f&&f;t=a()(c),l=t.closest("tr");var m=l.next(),g=l;m.is(".notes_holder")&&(g=m),i=m.is(".notes_holder"),n=!1;var v="";u='<tr class="notes_holder js-temp-notes-holder"><td class="notes_line" colspan="2"></td><td class="notes_content"><div class="content"></div></td></tr>',this.isParallelView()&&(v="."+d,u='<tr class="notes_holder js-temp-notes-holder"><td class="notes_line old"></td><td class="notes_content parallel old"><div class="content"></div></td><td class="notes_line new"></td><td class="notes_content parallel new"><div class="content"></div></td></tr>');var b=".notes_content"+v+" .content",y=g.find(b);if(i&&p)g.show(),y=g.find(b),y.length&&(y.show(),s=y.find(".js-discussion-reply-button:visible"),s.length?this.replyToDiscussionNote(s[0]):(o=y.find(".js-discussion-note-form"),0===o.length&&(n=!0)));else if(p)l.after(u),g=l.next(),y=g.find(b),n=!0;else{var w=g.find(".content:not(:empty)").is(":visible"),j=!0===h||!1===h,k=!0===h||!w&&!j;g.toggle(k),y.toggle(k)}if(n)return r=this.cleanForm(this.formClone.clone()),r.appendTo(y),this.setupDiscussionNoteForm(t,r)}},{key:"removeDiscussionNoteForm",value:function(e){var t,n;return n=e.closest("tr"),t=e.data("gl-form"),t.destroy(),e.find(".js-note-text").data("autosave").reset(),e.prev(".discussion-reply-holder").show(),n.is(".js-temp-notes-holder")?n.remove():e.remove()}},{key:"cancelDiscussionForm",value:function(e){var t;return e.preventDefault(),t=a()(e.target).closest(".js-discussion-note-form"),this.removeDiscussionNoteForm(t)}},{key:"updateFormAttachment",value:function(){var e,t;return t=a()(this).closest("form"),e=a()(this).val().replace(/^.*[\\\/]/,""),t.find(".js-attachment-filename").text(e)}},{key:"visibilityChange",value:function(){return this.refresh()}},{key:"updateTargetButtons",value:function(e){var t,n,i,r,o,s,l;if(l=a()(e.target),r=l.parents("form"),o=r.find(".js-note-target-reopen"),t=r.find(".js-note-target-close"),i=r.find(".js-note-discard"),l.val().trim().length>0){if(s=o.attr("data-alternative-text"),n=t.attr("data-alternative-text"),o.text()!==s&&o.text(s),t.text()!==n&&t.text(n),o.is(":not(.btn-comment-and-reopen)")&&o.addClass("btn-comment-and-reopen"),t.is(":not(.btn-comment-and-close)")&&t.addClass("btn-comment-and-close"),i.is(":hidden"))return i.show()}else if(s=o.data("original-text"),n=t.data("original-text"),o.text()!==s&&o.text(s),t.text()!==n&&t.text(n),o.is(".btn-comment-and-reopen")&&o.removeClass("btn-comment-and-reopen"),t.is(".btn-comment-and-close")&&t.removeClass("btn-comment-and-close"),i.is(":visible"))return i.hide()}},{key:"putEditFormInPlace",value:function(e){var t=a()(this.getEditFormSelector(e)),n=e.closest(".note");t.insertAfter(n.find(".note-text"));var i=n.find(".original-note-content"),r=i.text().trim(),o=i.data("post-url"),s=i.data("target-id"),l=i.data("target-type");new gl.GLForm(t.find("form"),this.enableGFM),t.find("form").attr("action",o).attr("data-remote","true"),t.find(".js-form-target-id").val(s),t.find(".js-form-target-type").val(l),t.find(".js-note-text").focus().val(r),t.find(".js-md-write-button").trigger("click"),t.find(".referenced-users").hide()}},{key:"putConflictEditWarningInPlace",value:function(e,t){if(0===t.find(".js-conflict-edit-warning").length){a()('<div class="js-conflict-edit-warning alert alert-danger">\n        This comment has changed since you started editing, please review the\n        <a href="#note_'+e.id+'" target="_blank" rel="noopener noreferrer">\n          updated comment\n        </a>\n        to ensure information is not lost\n      </div>').insertAfter(t.find(".note-text"))}}},{key:"updateNotesCount",value:function(e){return this.notesCountBadge.text(parseInt(this.notesCountBadge.text(),10)+e)}},{key:"toggleCommitList",value:function(e){var t=a()(e.currentTarget),n=t.siblings(".system-note-commit-list");t.find(".fa").toggleClass("fa-angle-down").toggleClass("fa-angle-up"),n.toggleClass("hide-shade")}},{key:"collapseLongCommitList",value:function(){var e=a()("#notes-list").find("li.system-note").has("ul");a.a.each(e,function(e,t){var n=a()(t),i=n.find(".note-text").find("p:first").text().replace(":","");n.find(".note-header .system-note-message").html(i),n.find("li").length>3?(n.find(".note-text").addClass("system-note-commit-list"),n.find(".system-note-commit-list-toggler").show()):n.find(".note-text").addClass("system-note-commit-list hide-shade")})}},{key:"addFlash",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.flashInstance=new(Function.prototype.bind.apply(Flash,[null].concat(t)))}},{key:"clearFlash",value:function(){this.flashInstance&&this.flashInstance.flashContainer&&(this.flashInstance.flashContainer.hide(),this.flashInstance=null)}},{key:"cleanForm",value:function(e){return e.find(".js-comment-type-dropdown").removeClass("btn-group"),e.find(".dropdown-menu").remove(),e}},{key:"getFormData",value:function(e){return{formData:e.serialize(),formContent:_.escape(e.find(".js-note-text").val()),formAction:e.attr("action")}}},{key:"hasQuickActions",value:function(e){return w.test(e)}},{key:"stripQuickActions",value:function(e){return e.replace(w,"").trim()}},{key:"getQuickActionDescription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=void 0,i=t.filter(function(t,n){return new RegExp("/"+t.name).test(e)});if(i&&i.length)if(i.length>1)n="Applying multiple commands";else{var r=i[0].description.toLowerCase();n="Applying command to "+r}else n="Applying command";return n}},{key:"createPlaceholderNote",value:function(e){var t=e.formContent,n=e.uniqueId,i=e.isDiscussionNote,r=e.currentUsername,o=e.currentUserFullname,s=e.currentUserAvatar,l=i?"discussion":"";return a()('<li id="'+n+'" class="note being-posted fade-in-half timeline-entry">\n         <div class="timeline-entry-inner">\n            <div class="timeline-icon">\n               <a href="/'+r+'">\n                 <img class="avatar s40" src="'+s+'">\n               </a>\n            </div>\n            <div class="timeline-content '+l+'">\n               <div class="note-header">\n                  <div class="note-header-info">\n                     <a href="/'+r+'">\n                       <span class="hidden-xs">'+o+'</span>\n                       <span class="note-headline-light">@'+r+'</span>\n                     </a>\n                  </div>\n               </div>\n               <div class="note-body">\n                 <div class="note-text">\n                   <p>'+t+"</p>\n                 </div>\n               </div>\n            </div>\n         </div>\n      </li>")}},{key:"createPlaceholderSystemNote",value:function(e){var t=e.formContent,n=e.uniqueId;return a()('<li id="'+n+'" class="note system-note timeline-entry being-posted fade-in-half">\n         <div class="timeline-entry-inner">\n           <div class="timeline-content">\n             <i>'+t+"</i>\n           </div>\n         </div>\n       </li>")}},{key:"postComment",value:function(e){var t=this;e.preventDefault();var n=a()(e.target),i=n.parents("form"),r=i.find(".js-note-target-close"),o="discussion"===n.parent().find("li.droplab-item-selected").attr("id"),s=i.hasClass("js-main-target-form"),l=i.hasClass("js-discussion-note-form"),u=n.hasClass("js-comment-resolve-button"),c=this.getFormData(i),d=c.formData,h=c.formContent,f=c.formAction,p=void 0,g=void 0,v=!1,b=void 0,y=void 0;return l?b=i.parent(".discussion-notes").find(".notes"):s&&(b=a()("ul.main-notes-list")),u&&(n.disable(),i.find(".js-comment-submit-button").disable()),y=h,this.hasQuickActions(h)&&(y=this.stripQuickActions(h),v=!0),y&&(p=_.uniqueId("tempNote_"),b.append(this.createPlaceholderNote({formContent:y,uniqueId:p,isDiscussionNote:o,currentUsername:gon.current_username,currentUserFullname:gon.current_user_fullname,currentUserAvatar:gon.current_user_avatar_url}))),v&&(g=_.uniqueId("tempSystemNote_"),b.append(this.createPlaceholderSystemNote({formContent:this.getQuickActionDescription(h,m.a.get(gl.GfmAutoComplete.dataSources.commands)),uniqueId:g}))),b.length&&(s?this.resetMainTargetForm(e):l&&this.removeDiscussionNoteForm(i)),gl.utils.ajaxPost(f,d).then(function(r){b.find("#"+p).remove(),v&&i.find("textarea.js-note-text").trigger("clear-commands-cache.atwho"),t.clearFlashWrapper(),l?(b.find(".flash-container").remove(),u&&i.attr("data-discussion-id",n.data("discussion-id")).attr("data-resolve-all","true").attr("data-project-path",n.data("project-path")),t.addDiscussionNote(i,r,0===b.length),b.length&&b.append('<div class="flash-container" style="display: none;"></div>')):s&&(t.addNote(i,r),t.reenableTargetFormSubmitButton(e)),r.commands_changes&&t.handleQuickActions(r),i.trigger("ajax:success",[r])}).fail(function(){if(b.find("#"+p).remove(),v&&b.find("#"+g).remove(),l&&b.length){var n=b.parent().find(".js-discussion-reply-button");t.replyToDiscussionNote(n[0]),i=b.parent().find("form")}i.find(".js-note-text").val(h),t.reenableTargetFormSubmitButton(e),t.addNoteError(i)}),r.text(r.data("original-text"))}},{key:"updateComment",value:function(e){var t=this;e.preventDefault();var n=a()(e.target),i=n.parents("form"),r=i.find(".js-note-target-close"),o=i.parents(".note.is-editing"),s=o.find(".js-task-list-container"),l=s.find(".note-text"),u=this.getFormData(i),c=u.formData,d=u.formContent,h=u.formAction,f=l.html();return l.html(d),o.removeClass("is-editing fade-in-full").addClass("being-posted fade-in-half"),o.find(".note-headline-meta a").html('<i class="fa fa-spinner fa-spin" aria-label="Comment is being updated" aria-hidden="true"></i>'),gl.utils.ajaxPost(h,c).then(function(e){t.updateNote(e,o)}).fail(function(){l.html(_.escape(f)),o.removeClass("being-posted fade-in"),o.find(".fa.fa-spinner").remove(),t.updateNoteError()}),r.text(r.data("original-text"))}}],[{key:"initCommentTypeToggle",value:function(e){var t=e.querySelector(".js-comment-type-dropdown .dropdown-toggle"),n=e.querySelector(".js-comment-type-dropdown .dropdown-menu"),i=e.querySelector("#note_type"),r=e.querySelector(".js-comment-type-dropdown .js-comment-submit-button"),o=e.querySelector(".js-note-target-close"),a=e.querySelector(".js-note-target-reopen");new g.a({dropdownTrigger:t,dropdownList:n,noteTypeInput:i,submitButton:r,closeButton:o,reopenButton:a}).initDroplab()}},{key:"updateNoteTargetSelector",value:function(e){var t=gl.utils.getLocationHash(),n=Boolean(t&&e.filter("#"+t).length>0);e.toggleClass("target",n)}},{key:"isNewNote",value:function(e,t){return-1===a.a.inArray(e.id,t)}},{key:"isUpdatedNote",value:function(e,t){return r(e.note.trim())!==r(t.find(".original-note-content").first().text().trim())}},{key:"checkMergeRequestStatus",value:function(){"merge_requests"===gl.utils.getPagePath(1)&&gl.mrWidget.checkStatus()}},{key:"animateAppendNote",value:function(e,t){var n=a()(e);return n.addClass("fade-in-full").renderGFM(),t.append(n),n}},{key:"animateUpdateNote",value:function(e,t){var n=a()(e);return n.addClass("fade-in").renderGFM(),t.replaceWith(n),n}}]),e}();window.Notes=j},"./notifications_dropdown.js":function(e,t,n){(function(e){(function(){this.NotificationsDropdown=function(){function t(){e(document).off("click",".update-notification").on("click",".update-notification",function(t){var n,i;if(t.preventDefault(),!e(this).is(".is-active")||"custom"!==e(this).data("notification-level"))return i=e(this).data("notification-level"),e(this).data("notification-title"),n=e(this).parents(".notification-form:first"),n.find(".js-notification-loading").toggleClass("fa-bell fa-spin fa-spinner"),n.find("#notification_setting_level").val(i),n.submit()}),e(document).off("ajax:success",".notification-form").on("ajax:success",".notification-form",function(t,n){return n.saved?e(t.currentTarget).closest(".js-notification-dropdown").replaceWith(n.html):new Flash("Failed to save new settings","alert")})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./notifications_form.js":function(e,t,n){(function(e){(function(){this.NotificationsForm=function(){function t(){this.toggleCheckbox=this.toggleCheckbox.bind(this),this.removeEventListeners(),this.initEventListeners()}return t.prototype.removeEventListeners=function(){return e(document).off("change",".js-custom-notification-event")},t.prototype.initEventListeners=function(){return e(document).on("change",".js-custom-notification-event",this.toggleCheckbox)},t.prototype.toggleCheckbox=function(t){var n,i;return n=e(t.currentTarget),i=n.closest(".checkbox"),this.saveEvent(n,i)},t.prototype.showCheckboxLoadingSpinner=function(e){return e.addClass("is-loading").find(".custom-notification-event-loading").removeClass("fa-check").addClass("fa-spin fa-spinner").removeClass("is-done")},t.prototype.saveEvent=function(t,n){var i;return i=n.parents("form:first"),e.ajax({url:i.attr("action"),method:i.attr("method"),dataType:"json",data:i.serialize(),beforeSend:function(e){return function(){return e.showCheckboxLoadingSpinner(n)}}(this)}).done(function(e){if(t.enable(),e.saved)return n.find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done"),setTimeout(function(){return n.removeClass("is-loading").find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done")},2e3)})},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./oauth_remember_me.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.container=e.container||"",this.loginLinkSelector=".oauth-login"}return i(t,[{key:"bindEvents",value:function(){e("#remember_me",this.container).on("click",this.toggleRememberMe)}},{key:"toggleRememberMe",value:function(t){var n=e(t.target).is(":checked");e(".oauth-login",this.container).each(function(t,i){var r=e(i).attr("href");n?e(i).attr("href",r+"?remember_me=1"):e(i).attr("href",r.replace("?remember_me=1",""))})}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./pager.js":function(e,t,n){"use strict";(function(e){var t=n("./lib/utils/common_utils.js"),i=(n.n(t),n("./lib/utils/url_utility.js"));n.n(i);!function(){var t={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.noop,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.noop;this.url=e(".content_list").data("href")||gl.utils.removeParams(["limit","offset"]),this.limit=t,this.offset=parseInt(gl.utils.getParameterByName("offset"),10)||this.limit,this.disable=i,this.prepareData=r,this.callback=o,this.loading=e(".loading").first(),n&&(this.offset=0,this.getOld()),this.initLoadMore()},getOld:function(){var t=this;this.loading.show(),e.ajax({type:"GET",url:this.url,data:"limit="+this.limit+"&offset="+this.offset,dataType:"json",error:function(){return t.loading.hide()},success:function(e){t.append(e.count,t.prepareData(e.html)),t.callback(),t.disable||t.isScrollable()?t.loading.hide():t.getOld()}})},append:function(t,n){e(".content_list").append(n),t>0?this.offset+=t:this.disable=!0},isScrollable:function(){var t=e(window);return e(document).height()>t.height()+t.scrollTop()+400},initLoadMore:function(){var t=this;e(document).unbind("scroll"),e(document).endlessScroll({bottomPixels:400,fireDelay:1e3,fireOnce:!0,ceaseFire:function(){return!0===t.disable},callback:function(){t.loading.is(":visible")||(t.loading.show(),t.getOld())}})}};window.Pager=t}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./performance_bar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../vendor/assets/javascripts/peek.js"),o=(n.n(r),n("../../../vendor/assets/javascripts/peek.performance_bar.js")),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s=function(){function t(e){return i(this,t),t.singleton||(this.init(e),t.singleton=this),t.singleton}return a(t,[{key:"init",value:function(t){var n=e(t.container);this.$sqlProfileLink=n.find(".js-toggle-modal-peek-sql"),this.$sqlProfileModal=n.find("#modal-peek-pg-queries"),this.$lineProfileLink=n.find(".js-toggle-modal-peek-line-profile"),this.$lineProfileModal=e("#modal-peek-line-profile"),this.initEventListeners(),this.showModalOnLoad()}},{key:"initEventListeners",value:function(){var n=this;this.$sqlProfileLink.on("click",function(){return n.handleSQLProfileLink()}),this.$lineProfileLink.on("click",function(e){return n.handleLineProfileLink(e)}),e(document).on("click",".js-lineprof-file",t.toggleLineProfileFile)}},{key:"showModalOnLoad",value:function(){/lineprofiler/.test(window.location.search)&&t.toggleModal(this.$lineProfileModal)}},{key:"handleSQLProfileLink",value:function(){t.toggleModal(this.$sqlProfileModal)}},{key:"handleLineProfileLink",value:function(e){var n=gl.utils.getParameterValues("lineprofiler"),i=new RegExp("lineprofiler="+n[0]);n.length>0&&i.test(e.currentTarget.href)&&(e.preventDefault(),t.toggleModal(this.$lineProfileModal))}}],[{key:"toggleModal",value:function(e){e.length&&e.modal("toggle")}},{key:"toggleLineProfileFile",value:function(t){e(t.currentTarget).parents(".peek-rblineprof-file").find(".data").toggle()}}]),t}();t.default=s}.call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./pipelines.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./lib/utils/bootstrap_linked_tabs.js"),o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.initTabs&&t.tabsOptions&&new r.a(t.tabsOptions),t.pipelineStatusUrl&&gl.utils.setCiStatusFavicon(t.pipelineStatusUrl)};t.a=o},"./preview_markdown.js":function(e,t,n){(function(e){!function(){var t,n,i,r,o=null;window.MarkdownPreview=function(){function t(){}return t.prototype.referenceThreshold=10,t.prototype.emptyMessage="Nothing to preview.",t.prototype.ajaxCache={},t.prototype.showPreview=function(e){var t,n=e.find(".js-md-preview"),i=n.data("url");n.hasClass("md-preview-loading")||(t=e.find("textarea.markdown-area").val(),0===t.trim().length?(n.text(this.emptyMessage),this.hideReferencedUsers(e)):(n.addClass("md-preview-loading").text("Loading..."),this.fetchMarkdownPreview(t,i,function(t){var i;i=t.body.length>0?t.body:this.emptyMessage,n.removeClass("md-preview-loading").html(i),n.renderGFM(),this.renderReferencedUsers(t.references.users,e),t.references.commands&&this.renderReferencedCommands(t.references.commands,e)}.bind(this))))},t.prototype.fetchMarkdownPreview=function(t,n,i){if(n)return t===this.ajaxCache.text?void i(this.ajaxCache.response):void e.ajax({type:"POST",url:n,data:{text:t},dataType:"json",success:function(e){this.ajaxCache={text:t,response:e},i(e)}.bind(this)})},t.prototype.hideReferencedUsers=function(e){e.find(".referenced-users").hide()},t.prototype.renderReferencedUsers=function(e,t){var n;n=t.find(".referenced-users"),n.length&&(e.length>=this.referenceThreshold?(n.show(),n.find(".js-referenced-users-count").text(e.length)):n.hide())},t.prototype.hideReferencedCommands=function(e){e.find(".referenced-commands").hide()},t.prototype.renderReferencedCommands=function(e,t){var n;n=t.find(".referenced-commands"),e.length>0?(n.html(e),n.show()):(n.html(""),n.hide())},t}(),n=new window.MarkdownPreview,i=".js-md-preview-button",r=".js-md-write-button",t=null,e.fn.setupMarkdownPreview=function(){var t=e(this);t.find("textarea.markdown-area").on("input",function(){n.hideReferencedUsers(t)})},e(document).on("markdown-preview:show",function(e,a){a&&(t=a.find("textarea.markdown-area"),o=t.height(),a.find(r).parent().removeClass("active"),a.find(i).parent().addClass("active"),a.find(".md-write-holder").hide(),a.find(".md-preview-holder").show(),n.showPreview(a))}),e(document).on("markdown-preview:hide",function(e,a){a&&(t=null,o&&a.find("textarea.markdown-area").height(o),a.find(r).parent().addClass("active"),a.find(i).parent().removeClass("active"),a.find(".md-write-holder").show(),a.find("textarea.markdown-area").focus(),a.find(".md-preview-holder").hide(),n.hideReferencedCommands(a))}),e(document).on("markdown-preview:toggle",function(n,i){var r;r=e(i.target),r.is("textarea.markdown-area")?(e(document).triggerHandler("markdown-preview:show",[r.closest("form")]),i.preventDefault()):t&&(r=t,e(document).triggerHandler("markdown-preview:hide",[r.closest("form")]),i.preventDefault())}),e(document).on("click",i,function(t){var n;t.preventDefault(),n=e(this).closest("form"),e(document).triggerHandler("markdown-preview:show",[n])}),e(document).on("click",r,function(t){var n;t.preventDefault(),n=e(this).closest("form"),e(document).triggerHandler("markdown-preview:hide",[n])})}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/js-cookie/src/js.cookie.js"),i=n.n(t);(function(){this.Project=function(){function t(){e("ul.clone-options-dropdown a").click(function(){var t;if(!e(this).hasClass("active"))return e(".active").not(e(this)).removeClass("active"),e(this).toggleClass("active"),t=e("#project_clone").val(),e("#project_clone").val(t),e(".clone").text(t)}),this.initRefSwitcher(),e(".project-refs-select").on("change",function(){return e(this).parents("form").submit()}),e(".hide-no-ssh-message").on("click",function(t){return i.a.set("hide_no_ssh_message","false"),e(this).parents(".no-ssh-key-message").remove(),t.preventDefault()}),e(".hide-no-password-message").on("click",function(t){return i.a.set("hide_no_password_message","false"),e(this).parents(".no-password-message").remove(),t.preventDefault()}),this.projectSelectDropdown()}return t.prototype.projectSelectDropdown=function(){return new ProjectSelect,e(".project-item-select").on("click",function(t){return function(n){return t.changeProject(e(n.currentTarget).val())}}(this)),e(".js-projects-dropdown-toggle").on("click",function(t){return t.preventDefault(),e(".js-projects-dropdown").select2("open")})},t.prototype.changeProject=function(e){return window.location=e},t.prototype.initRefSwitcher=function(){var t=document.createElement("li"),n=document.createElement("a");return n.href="#",e(".js-project-refs-dropdown").each(function(){var i,r;return i=e(this),r=i.data("selected"),i.glDropdown({data:function(t,n){return e.ajax({url:i.data("refs-url"),data:{ref:i.data("ref"),search:t},dataType:"json"}).done(function(e){return n(e)})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,fieldName:i.data("field-name"),renderRow:function(e){var i=t.cloneNode(!1);if(null!=e.header)i.className="dropdown-header",i.textContent=e.header;else{var o=n.cloneNode(!1);e===r&&(o.className="is-active"),o.textContent=e,o.dataset.ref=e,i.appendChild(o)}return i},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(t){if(t.e.preventDefault(),e('input[name="ref"]').length){var n=i.closest("form"),r=n.attr("action"),o=-1===r.indexOf("?")?"?":"&";gl.utils.visitUrl(r+""+o+n.serialize())}}})})},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_avatar.js":function(e,t,n){(function(e){(function(){this.ProjectAvatar=function(){function t(){e(".js-choose-project-avatar-button").bind("click",function(){var t;return t=e(this).closest("form"),t.find(".js-project-avatar-input").click()}),e(".js-project-avatar-input").bind("change",function(){var t,n;return n=e(this).closest("form"),t=e(this).val().replace(/^.*[\\\/]/,""),n.find(".js-avatar-filename").text(t)})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_edit.js":function(e,t,n){"use strict";(function(e){function n(){var t=e(".js-project-transfer-form"),n=t.find(".select2");n.on("change",function(){t.find(":submit").prop("disabled",!n.val())}),n.trigger("change")}t.a=n}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_find_file.js":function(e,t,n){(function(e){(function(){this.ProjectFindFile=function(){function t(e,t){this.element=e,this.options=t,this.goToBlob=this.goToBlob.bind(this),this.goToTree=this.goToTree.bind(this),this.selectRowDown=this.selectRowDown.bind(this),this.selectRowUp=this.selectRowUp.bind(this),this.filePaths={},this.inputElement=this.element.find(".file-finder-input"),this.initEvent(),this.inputElement.focus(),this.load(this.options.url)}var n;return t.prototype.initEvent=function(){this.inputElement.off("keyup"),this.inputElement.on("keyup",function(t){return function(n){var i,r,o,a;if(o=e(n.target),a=o.val(),i=null!=(r=o.data("oldValue"))?r:"",a!==i)return o.data("oldValue",a),t.findFile(),t.element.find("tr.tree-item").eq(0).addClass("selected").focus()}}(this))},t.prototype.findFile=function(){var e,t;return t=this.inputElement.val(),e=t.length>0?fuzzaldrinPlus.filter(this.filePaths,t):this.filePaths,this.renderList(e,t)},t.prototype.load=function(t){return e.ajax({url:t,method:"get",dataType:"json",success:function(e){return function(t){return e.element.find(".loading").hide(),e.filePaths=t,e.findFile(),e.element.find(".files-slider tr.tree-item").eq(0).addClass("selected").focus()}}(this)})},t.prototype.renderList=function(e,t){var n,i,r,o,a,s,l,u;for(this.element.find(".tree-table > tbody").empty(),u=[],o=a=0,s=e.length;a<s&&(i=e[o],20!==o);o=a+=1)t&&(l=fuzzaldrinPlus.match(i,t)),n=this.options.blobUrlTemplate+"/"+i,r=this.makeHtml(i,l,n),u.push(this.element.find(".tree-table > tbody").append(r));return u},n=function(e,t,n){var i,r,o,a,s,l;for(r=0,"",s=[],i=0,o=n.length;i<o;i+=1)a=n[i],l=t.substring(r,a),l&&(s.length&&e.append(s.join("").bold()),s=[],e.append(document.createTextNode(l))),s.push(t[a]),r=a+1;return s.length&&e.append(s.join("").bold()),e.append(document.createTextNode(t.substring(r)))},t.prototype.makeHtml=function(t,i,r){var o;return o=e("<tr class='tree-item'><td class='tree-item-file-name link-container'><a><i class='fa fa-file-text-o fa-fw'></i><span class='str-truncated'></span></a></td></tr>"),i?o.find("a").replaceWith(n(o.find("a"),t,i).attr("href",r)):(o.find("a").attr("href",r),o.find(".str-truncated").text(t)),o},t.prototype.selectRow=function(e){var t,n,i;if(n=this.element.find(".files-slider tr.tree-item"),i=this.element.find(".files-slider tr.tree-item.selected"),n&&n.length>0)return i&&i.length>0?("UP"===e?t=i.prev():"DOWN"===e&&(t=i.next()),t.length>0&&(i.removeClass("selected"),i=t)):i=n.eq(0),i.addClass("selected").focus()},t.prototype.selectRowUp=function(){return this.selectRow("UP")},t.prototype.selectRowDown=function(){return this.selectRow("DOWN")},t.prototype.goToTree=function(){return location.href=this.options.treeUrl},t.prototype.goToBlob=function(){var e=this.element.find(".tree-item.selected .tree-item-file-name a");e.length&&e.get(0).click()},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_fork.js":function(e,t,n){(function(e){(function(){this.ProjectFork=function(){function t(){e(".fork-thumbnail a").on("click",function(){return e(".fork-namespaces").hide(),e(".save-project-loader").show()})}return t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_import.js":function(e,t){(function(){this.ProjectImport=function(){function e(){setTimeout(function(){return gl.utils.visitUrl(location.href)},5e3)}return e}()}).call(window)},"./project_label_subscription.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(i){var r=function(){function i(n){t(this,i),this.$container=e(n),this.$buttons=this.$container.find(".js-subscribe-button"),this.$buttons.on("click",this.toggleSubscription.bind(this))}return n(i,[{key:"toggleSubscription",value:function(t){var n=this;t.preventDefault();var i=e(t.currentTarget),r=i.find("span"),o=i.attr("data-url"),a=i.attr("data-status");i.addClass("disabled"),r.toggleClass("hidden"),e.ajax({type:"POST",url:o}).done(function(){var t=void 0,o=void 0;"unsubscribed"===a?(t="subscribed",o="Unsubscribe"):(t="unsubscribed",o="Subscribe"),r.toggleClass("hidden"),i.removeClass("disabled"),n.$buttons.attr("data-status",t),n.$buttons.find("> span").text(o),n.$buttons.map(function(t){var n=e(t);return n.attr("data-original-title")&&n.tooltip("hide").attr("data-original-title",o).tooltip("fixTitle"),t})})}}]),i}();i.ProjectLabelSubscription=r}(window.gl||(window.gl={}))}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_new.js":function(e,t,n){"use strict";(function(e){function t(e){e.addClass("highlight-changes"),setTimeout(function(){return e.removeClass("highlight-changes")},10)}var i=n("./visibility_select.js");(function(){this.ProjectNew=function(){function n(){this.toggleSettings=this.toggleSettings.bind(this),this.$selects=e(".features select"),this.$repoSelects=this.$selects.filter(".js-repo-select"),this.$projectSelects=this.$selects.not(".js-repo-select"),e(".project-edit-container").on("ajax:before",function(t){return function(){return e(".project-edit-container").hide(),e(".save-project-loader").show()}}()),this.initVisibilitySelect(),this.toggleSettings(),this.toggleSettingsOnclick(),this.toggleRepoVisibility()}return n.prototype.initVisibilitySelect=function(){var n=this,r=document.querySelector(".js-visibility-select");if(r){new i.a(r).init();var o=e(r).find("select"),a=o.val();o.on("change",function(){var i=o.val();a!==i&&(n.$projectSelects.each(function(n,r){var o=e(r),s=o.find("option"),l=e.map(s,function(e){return e.value});"0"===i&&(o.val()!==l[0]&&o.val()!==l[1]&&(o.val(l[1]).trigger("change"),t(o)),s.slice(2).disable()),"0"===a&&(s.enable(),o.val()!==l[0]&&o.val()!==l[l.length-1]&&(o.val(l[l.length-1]).trigger("change"),t(o)))}),a=i)})}},n.prototype.toggleSettings=function(){var t=this;this.$selects.each(function(){var n=e(this),i=n.data("field").replace(/_/g,"-").replace("access-level","feature");t._showOrHide(n,"."+i)})},n.prototype.toggleSettingsOnclick=function(){this.$selects.on("change",this.toggleSettings)},n.prototype._showOrHide=function(t,n){var i=e(n);return"0"!==e(t).val()?i.show():i.hide()},n.prototype.toggleRepoVisibility=function(){var n=e(".js-repo-access-level select"),i=e(".js-lfs-enabled select"),r=document.querySelectorAll(".js-container-registry")[0],o=document.getElementById("project_container_registry_enabled"),a=parseInt(n.val(),10);this.$repoSelects.find("option[value='"+n.val()+"']").nextAll().hide(),n.off("change").on("change",function(){var s=parseInt(n.val(),10);this.$repoSelects.each(function(){var n=e(this),i=parseInt(n.val(),10);n.find("option").enable(),(s<i||i===a)&&(n.val(s).trigger("change"),t(n)),n.find("option[value='"+s+"']").nextAll().disable()}),s?(this.$repoSelects.removeClass("disabled"),i.length&&(i.removeClass("disabled"),t(i)),r&&(r.style.display="")):(this.$repoSelects.addClass("disabled"),i.length&&(i.val("false").addClass("disabled"),t(i)),r&&(r.style.display="none",o.checked=!1)),a=s}.bind(this))},n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_select.js":function(e,t,n){"use strict";(function(e){var t=n("./api.js");(function(){this.ProjectSelect=function(){function n(){e(".js-projects-dropdown-toggle").each(function(n,i){var r;return r=e(i),r.glDropdown({filterable:!0,filterRemote:!0,search:{fields:["name_with_namespace"]},data:function(e,n){var i,o,a=r.data("order-by");return i=function(e){return n(e)},o=this.includeGroups?function(n){var r;return r=function(e){var t;return t=e.concat(n),i(t)},t.a.groups(e,{},r)}:i,this.groupId?t.a.groupProjects(this.groupId,e,o):t.a.projects(e,{order_by:a},o)},url:function(e){return e.web_url},text:function(e){return e.name_with_namespace}})}),e(".ajax-project-select").each(function(n,i){var r;return this.groupId=e(i).data("group-id"),this.includeGroups=e(i).data("include-groups"),this.orderBy=e(i).data("order-by")||"id",this.withIssuesEnabled=e(i).data("with-issues-enabled"),this.withMergeRequestsEnabled=e(i).data("with-merge-requests-enabled"),r="Search for project",this.includeGroups&&(r+=" or group"),e(i).select2({placeholder:r,minimumInputLength:0,query:function(e){return function(n){var i,r;return i=function(e){var t;return t={results:e},n.callback(t)},r=e.includeGroups?function(e){var r;return r=function(t){var n;return n=t.concat(e),i(n)},t.a.groups(n.term,{},r)}:i,e.groupId?t.a.groupProjects(e.groupId,n.term,r):t.a.projects(n.term,{order_by:e.orderBy,with_issues_enabled:e.withIssuesEnabled,with_merge_requests_enabled:e.withMergeRequestsEnabled},r)}}(this),id:function(e){return e.web_url},text:function(e){return e.name_with_namespace||e.name},dropdownCssClass:"ajax-project-dropdown"})}),e(".new-project-item-select-button").on("click",function(){e(".project-item-select",this.parentNode).select2("open")}),e(".project-item-select").on("click",function(){window.location=e(this).val()+"/"+this.dataset.relativePath})}return n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./project_show.js":function(e,t){(function(){this.ProjectShow=function(){function e(){}return e}()}).call(window)},"./project_variables.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var i=function(){function i(){t(this,i),this.$revealBtn=e(".js-btn-toggle-reveal-values"),this.$revealBtn.on("click",this.toggleRevealState.bind(this))}return n(i,[{key:"toggleRevealState",value:function(t){t.preventDefault();var n=this.$revealBtn.attr("data-status"),i="hidden",r="Reveal Values";"hidden"===n&&(i="revealed",r="Hide Values"),this.$revealBtn.attr("data-status",i),e(".variable-value").each(function(t,n){var r=e(n),o="******";"revealed"===i&&(o=r.attr("data-value")),r.text(o)}),this.$revealBtn.text(r)}}]),i}();window.gl=window.gl||{},window.gl.ProjectVariables=i}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./projects_list.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./filterable_list.js"),o=function e(){i(this,e);var t=document.querySelector("form#project-filter-form"),n=document.querySelector(".js-projects-list-filter"),o=document.querySelector(".js-projects-list-holder");if(t&&n&&o){new r.a(t,n,o).initSearch()}};t.a=o},"./protected_tags/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./protected_tags/protected_tag_create.js");n.d(t,"ProtectedTagCreate",function(){return i.a});var r=n("./protected_tags/protected_tag_edit_list.js");n.d(t,"ProtectedTagEditList",function(){return r.a})},"./protected_tags/protected_tag_access_dropdown.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.options=t,this.initDropdown()}return r(e,[{key:"initDropdown",value:function(){var e=this.options.onSelect;this.options.$dropdown.glDropdown({data:this.options.data,selectable:!0,inputId:this.options.$dropdown.data("input-id"),fieldName:this.options.$dropdown.data("field-name"),toggleLabel:function(e,t){return t.is(".is-active")?e.text:"Select"},clicked:function(t){t.e.preventDefault(),e()}})}}]),e}();t.a=o},"./protected_tags/protected_tag_create.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./protected_tags/protected_tag_access_dropdown.js"),o=n("./protected_tags/protected_tag_dropdown.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function t(){i(this,t),this.$form=e(".js-new-protected-tag"),this.buildDropdowns()}return a(t,[{key:"buildDropdowns",value:function(){var e=this.$form.find(".js-allowed-to-create");this.onSelectCallback=this.onSelect.bind(this),this.protectedTagAccessDropdown=new r.a({$dropdown:e,data:gon.create_access_levels,onSelect:this.onSelectCallback}),e.data("glDropdown").selectRowAtIndex(0),this.protectedTagDropdown=new o.a({$dropdown:this.$form.find(".js-protected-tag-select"),onSelect:this.onSelectCallback})}},{key:"onSelect",value:function(){var e=this.$form.find('input[name="protected_tag[name]"]'),t=this.$form.find("#create_access_levels_attributes");this.$form.find('input[type="submit"]').attr("disabled",!(e.val()&&t.length))}}]),t}();t.a=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./protected_tags/protected_tag_dropdown.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.onSelect=t.onSelect,this.$dropdown=t.$dropdown,this.$dropdownContainer=this.$dropdown.parent(),this.$dropdownFooter=this.$dropdownContainer.find(".dropdown-footer"),this.$protectedTag=this.$dropdownContainer.find(".js-create-new-protected-tag"),this.buildDropdown(),this.bindEvents(),this.toggleFooter(!0)}return r(e,[{key:"buildDropdown",value:function(){var e=this;this.$dropdown.glDropdown({data:this.getProtectedTags.bind(this),filterable:!0,remote:!1,search:{fields:["title"]},selectable:!0,toggleLabel:function(e){return e&&"id"in e?e.title:"Protected Tag"},fieldName:"protected_tag[name]",text:function(e){return _.escape(e.title)},id:function(e){return _.escape(e.id)},onFilter:this.toggleCreateNewButton.bind(this),clicked:function(t){t.e.preventDefault(),e.onSelect()}})}},{key:"bindEvents",value:function(){this.$protectedTag.on("click",this.onClickCreateWildcard.bind(this))}},{key:"onClickCreateWildcard",value:function(e){this.$dropdown.data("glDropdown").remote.execute(),this.$dropdown.data("glDropdown").selectRowAtIndex(),e.preventDefault()}},{key:"getProtectedTags",value:function(e,t){t(this.selectedTag?gon.open_tags.concat(this.selectedTag):gon.open_tags)}},{key:"toggleCreateNewButton",value:function(e){e&&(this.selectedTag={title:e,id:e,text:e},this.$dropdownContainer.find(".js-create-new-protected-tag code").text(e)),this.toggleFooter(!e)}},{key:"toggleFooter",value:function(e){this.$dropdownFooter.toggleClass("hidden",e)}}]),e}();t.a=o},"./protected_tags/protected_tag_edit.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./protected_tags/protected_tag_access_dropdown.js"),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function t(e){i(this,t),this.$wrap=e.$wrap,this.$allowedToCreateDropdownButton=this.$wrap.find(".js-allowed-to-create"),this.onSelectCallback=this.onSelect.bind(this),this.buildDropdowns()}return o(t,[{key:"buildDropdowns",value:function(){this.protectedTagAccessDropdown=new r.a({$dropdown:this.$allowedToCreateDropdownButton,data:gon.create_access_levels,onSelect:this.onSelectCallback})}},{key:"onSelect",value:function(){var t=this,n=this.$wrap.find('input[name="'+this.$allowedToCreateDropdownButton.data("fieldName")+'"]');n.length&&(this.$allowedToCreateDropdownButton.disable(),e.ajax({type:"POST",url:this.$wrap.data("url"),dataType:"json",data:{_method:"PATCH",protected_tag:{create_access_levels_attributes:[{id:this.$allowedToCreateDropdownButton.data("access-level-id"),access_level:n.val()}]}},error:function(){new Flash("Failed to update tag!",null,e(".js-protected-tags-list"))}}).always(function(){t.$allowedToCreateDropdownButton.enable()}))}}]),t}();t.a=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./protected_tags/protected_tag_edit_list.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./protected_tags/protected_tag_edit.js"),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function t(){i(this,t),this.$wrap=e(".protected-tags-list"),this.initEditForm()}return o(t,[{key:"initEditForm",value:function(){this.$wrap.find(".js-protected-tag-edit-form").each(function(t,n){new r.a({$wrap:e(n)})})}}]),t}();t.a=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./ref_select_dropdown.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function t(i,r){n(this,t),i.glDropdown({data:r,filterable:!0,filterByText:!0,remote:!1,fieldName:i.data("field-name"),filterInput:'input[type="search"]',selectable:!0,isSelectable:function(e,t){return!t.hasClass("is-active")},text:function(e){return e},id:function(e){return e},toggleLabel:function(e){return e}});var o=i.closest(".dropdown"),a=e('input[name="'+i.data("field-name")+'"]',o),s=e('input[type="search"]',o);s.on("keyup",function(t){if(13===(t.keyCode||t.which)){var n=s.val().trim();""!==n&&(a.val(n),e(".dropdown-toggle-text",i).text(n),o.removeClass("open"))}})};t.a=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./render_gfm.js":function(e,t,n){(function(e){(function(){e.fn.renderGFM=function(){return this.find(".js-syntax-highlight").syntaxHighlight(),this.find(".js-render-math").renderMath(),this},e(document).on("ready load",function(){return e("body").renderGFM()})}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./render_math.js":function(e,t,n){(function(e){(function(){var t=!1,n=function(t){t.each(function(){var t=e("<span></span>"),n=e(this),i="display"===n.attr("data-math-style");try{katex.render(n.text(),t.get(0),{displayMode:i}),t.insertAfter(n),n.remove()}catch(e){console.log(e.message)}})};e.fn.renderMath=function(){var i=this;0!==i.length&&(t?n(i):e.get(gon.katex_css_url,function(){e("<link>",{rel:"stylesheet",type:"text/css",href:gon.katex_css_url}).appendTo("head"),e.getScript(gon.katex_js_url,function(){t=!0,n(i)})}))}}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./right_sidebar.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/js-cookie/src/js.cookie.js"),i=n.n(t),r=n("./sidebar_height_manager.js");(function(){this.Sidebar=function(){function t(t){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=e("aside"),this.removeListeners(),this.addEventListeners()}return t.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),e(".dropdown").off("hidden.gl.dropdown"),e(".dropdown").off("loading.gl.dropdown"),e(".dropdown").off("loaded.gl.dropdown"),e(document).off("click",".js-sidebar-toggle")},t.prototype.addEventListeners=function(){r.a.init();var t=e(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),e(".dropdown").on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),e(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),e(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),t.on("click",".js-sidebar-toggle",function(t,n){var r,o,a;if(t.preventDefault(),o=e(this),a=o.find("i"),r=e(".js-sidebar-toggle i"),a.hasClass("fa-angle-double-right")?(r.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),e("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),e(".page-with-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(r.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),e("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),e(".page-with-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),!n)return i.a.set("collapsed_gutter",e(".right-sidebar").hasClass("right-sidebar-collapsed"))}),e(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},t.prototype.toggleTodo=function(t){var n,i,r;return n=e(t.currentTarget),i=n.attr("data-delete-path")?"DELETE":"POST",r=n.attr("data-delete-path")?""+n.attr("data-delete-path"):""+n.data("url"),n.tooltip("hide"),e.ajax({url:r,type:i,dataType:"json",data:{issuable_id:n.data("issuable-id"),issuable_type:n.data("issuable-type")},beforeSend:function(t){return function(){e(".js-issuable-todo").disable().addClass("is-loading")}}()}).done(function(e){return function(t){return e.todoUpdateDone(t)}}(this))},t.prototype.todoUpdateDone=function(t){var n=t.delete_path?t.delete_path:null,i=n?"mark":"todo",r=e(".js-issuable-todo");e(document).trigger("todo:toggle",t.count),r.each(function(t,r){var o=e(r),a=o.find(".js-issuable-todo-inner");o.removeClass("is-loading").enable().attr("aria-label",o.data(i+"-text")).attr("data-delete-path",n).attr("title",o.data(i+"-text")),o.hasClass("has-tooltip")&&o.tooltip("fixTitle"),o.data(i+"-icon")?a.html(o.data(i+"-icon")):a.text(o.data(i+"-text"))})},t.prototype.sidebarDropdownLoading=function(t){var n,i,r,o;return i=e(this).closest(".block").find(".sidebar-collapsed-icon"),o=i.find("img"),r=i.find("i"),n=e('<i class="fa fa-spinner fa-spin"></i>'),o.length?(o.before(n),o.hide()):r.length?(r.before(n),r.hide()):void 0},t.prototype.sidebarDropdownLoaded=function(t){var n,i,r;return n=e(this).closest(".block").find(".sidebar-collapsed-icon"),r=n.find("img"),n.find("i.fa-spin").remove(),i=n.find("i"),r.length?r.show():i.show()},t.prototype.sidebarCollapseClicked=function(t){var n,i;if(!e(t.currentTarget).hasClass("dont-change-state"))return i=t.data,t.preventDefault(),n=e(this).closest(".block"),i.openDropdown(n)},t.prototype.openDropdown=function(e){var t;if(t=_.isString(e)?this.getBlock(e):e,t.find(".edit-link").trigger("click"),!this.isOpen())return this.setCollapseAfterUpdate(t),this.toggleSidebar("open")},t.prototype.setCollapseAfterUpdate=function(t){return t.addClass("collapse-after-update"),e(".page-with-sidebar").addClass("with-overlay")},t.prototype.onSidebarDropdownHidden=function(t){var n,i;return i=t.data,t.preventDefault(),n=e(this).closest(".block"),i.sidebarDropdownHidden(n)},t.prototype.sidebarDropdownHidden=function(t){if(t.hasClass("collapse-after-update"))return t.removeClass("collapse-after-update"),e(".page-with-sidebar").removeClass("with-overlay"),this.toggleSidebar("hide")},t.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},t.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},t.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},t.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./search.js":function(e,t,n){"use strict";(function(e){var t=n("./api.js");(function(){this.Search=function(){function n(){var n,i,r=this;n=e(".js-search-group-dropdown"),i=e(".js-search-project-dropdown"),this.groupId=n.data("group-id"),this.eventListeners(),n.glDropdown({selectable:!0,filterable:!0,fieldName:"group_id",search:{fields:["full_name"]},data:function(e,n){return t.a.groups(e,{},function(e){return e.unshift({full_name:"Any"}),e.splice(1,0,"divider"),n(e)})},id:function(e){return e.id},text:function(e){return e.full_name},toggleLabel:function(e){return n.data("default-label")+" "+e.full_name},clicked:function(e){return function(){return e.submitSearch()}}(this)}),i.glDropdown({selectable:!0,filterable:!0,fieldName:"project_id",search:{fields:["name"]},data:function(e,t){r.getProjectsData(e).then(function(e){return e.unshift({name_with_namespace:"Any"}),e.splice(1,0,"divider"),e}).then(function(e){return t(e)}).catch(function(){return new Flash("Error fetching projects")})},id:function(e){return e.id},text:function(e){return e.name_with_namespace},toggleLabel:function(e){return i.data("default-label")+" "+e.name_with_namespace},clicked:function(e){return function(){return e.submitSearch()}}(this)})}return n.prototype.eventListeners=function(){return e(document).off("keyup",".js-search-input").on("keyup",".js-search-input",this.searchKeyUp),e(document).off("click",".js-search-clear").on("click",".js-search-clear",this.clearSearchField)},n.prototype.submitSearch=function(){return e(".js-search-form").submit()},n.prototype.searchKeyUp=function(){var t;return t=e(this),""===t.val()?e(".js-search-clear").addClass("hidden"):e(".js-search-clear").removeClass("hidden")},n.prototype.clearSearchField=function(){return e(".js-search-input").val("").trigger("keyup").focus()},n.prototype.getProjectsData=function(e){var n=this;return new Promise(function(i){n.groupId?t.a.groupProjects(n.groupId,e,i):t.a.projects(e,{order_by:"id"},i)})},n}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./search_autocomplete.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(i){var r={ESCAPE:27,BACKSPACE:8,ENTER:13,UP:38,DOWN:40},o=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.wrap,o=n.optsEl,a=n.autocompletePath,s=n.projectId,l=n.projectRef;t(this,i),this.bindEventContext(),this.wrap=r||e(".search"),this.optsEl=o||this.wrap.find(".search-autocomplete-opts"),this.autocompletePath=a||this.optsEl.data("autocomplete-path"),this.projectId=s||this.optsEl.data("autocomplete-project-id")||"",this.projectRef=l||this.optsEl.data("autocomplete-project-ref")||"",this.dropdown=this.wrap.find(".dropdown"),this.dropdownContent=this.dropdown.find(".dropdown-content"),this.locationBadgeEl=this.getElement(".location-badge"),this.scopeInputEl=this.getElement("#scope"),this.searchInput=this.getElement(".search-input"),this.projectInputEl=this.getElement("#search_project_id"),this.groupInputEl=this.getElement("#group_id"),this.searchCodeInputEl=this.getElement("#search_code"),this.repositoryInputEl=this.getElement("#repository_ref"),this.clearInput=this.getElement(".js-clear-input"),this.saveOriginalState(),gon.current_user_id&&this.createAutocomplete(),this.searchInput.addClass("disabled"),this.saveTextLength(),this.bindEvents()}return n(i,[{key:"bindEventContext",value:function(){this.onSearchInputBlur=this.onSearchInputBlur.bind(this),this.onClearInputClick=this.onClearInputClick.bind(this),this.onSearchInputFocus=this.onSearchInputFocus.bind(this),this.onSearchInputClick=this.onSearchInputClick.bind(this),this.onSearchInputKeyUp=this.onSearchInputKeyUp.bind(this),this.onSearchInputKeyDown=this.onSearchInputKeyDown.bind(this)}},{key:"getElement",value:function(e){return this.wrap.find(e)}},{key:"saveOriginalState",value:function(){return this.originalState=this.serializeState()}},{key:"saveTextLength",value:function(){return this.lastTextLength=this.searchInput.val().length}},{key:"createAutocomplete",value:function(){return this.searchInput.glDropdown({filterInputBlur:!1,filterable:!0,filterRemote:!0,highlight:!0,enterCallback:!1,filterInput:"input#search",search:{fields:["text"]},id:this.getSearchText,data:this.getData.bind(this),selectable:!0,clicked:this.onClick.bind(this)})}},{key:"getSearchText",value:function(e,t){return e.id?e.text:""}},{key:"getData",value:function(t,n){var i,r;return i=this,t?this.loadingSuggestions?void 0:(this.loadingSuggestions=!0,e.get(this.autocompletePath,{project_id:this.projectId,project_ref:this.projectRef,term:t},function(e){var r,o,a,s,l,u;if(!e.length)return void i.disableAutocomplete();for(r=[],o=!0,a=0,l=e.length;a<l;a+=1)u=e[a],s!==u.category&&(o||r.push("separator"),o&&(o=!1),r.push({header:u.category}),s=u.category),r.push({id:u.category.toLowerCase()+"-"+u.id,category:u.category,text:u.label,url:u.url});return r.length&&(r.push("separator"),r.push({text:'Result name contains "'+t+'"',url:"/search?search="+t+"&project_id="+i.projectInputEl.val()+"&group_id="+i.groupInputEl.val()})),n(r)}).always(function(){return i.loadingSuggestions=!1})):void((r=this.getCategoryContents())&&(this.searchInput.data("glDropdown").filter.options.callback(r),this.enableAutocomplete()))}},{key:"getCategoryContents",value:function(){var e,t,n,i,r,o,a,s,l,u;return gon.current_user_id,l=gon.current_username,u=gl.utils,s=gl.projectOptions,t=gl.groupOptions,e=gl.dashboardOptions,u.isInGroupsPage()&&t?a=t[u.getGroupSlug()]:u.isInProjectPage()&&s?a=s[u.getProjectSlug()]:e&&(a=e),n=a.issuesPath,r=a.mrPath,o=a.name,i=[{header:""+o},{text:"Issues assigned to me",url:n+"/?assignee_username="+l},{text:"Issues I've created",url:n+"/?author_username="+l},"separator",{text:"Merge requests assigned to me",url:r+"/?assignee_username="+l},{text:"Merge requests I've created",url:r+"/?author_username="+l}],o||i.splice(0,1),i}},{key:"serializeState",value:function(){return{search_project_id:this.projectInputEl.val(),group_id:this.groupInputEl.val(),search_code:this.searchCodeInputEl.val(),repository_ref:this.repositoryInputEl.val(),scope:this.scopeInputEl.val(),_location:this.locationBadgeEl.text()}}},{key:"bindEvents",value:function(){return this.searchInput.on("keydown",this.onSearchInputKeyDown),this.searchInput.on("keyup",this.onSearchInputKeyUp),this.searchInput.on("click",this.onSearchInputClick),this.searchInput.on("focus",this.onSearchInputFocus),this.searchInput.on("blur",this.onSearchInputBlur),this.clearInput.on("click",this.onClearInputClick),this.locationBadgeEl.on("click",function(e){return function(){return e.searchInput.focus()}}(this))}},{key:"enableAutocomplete",value:function(){if(gon.current_user_id)return this.dropdown.hasClass("open")?void 0:(this,this.loadingSuggestions=!1,this.dropdown.addClass("open").trigger("shown.bs.dropdown"),this.searchInput.removeClass("disabled"))}},{key:"onSearchInputKeyDown",value:function(){return this.saveTextLength()}},{key:"onSearchInputKeyUp",value:function(e){switch(e.keyCode){case r.BACKSPACE:0===this.lastTextLength&&this.badgePresent()&&this.removeLocationBadge(),1===this.lastTextLength&&this.disableAutocomplete(),this.lastTextLength>1&&this.enableAutocomplete();break;case r.ESCAPE:this.restoreOriginalState();break;case r.ENTER:this.disableAutocomplete();break;case r.UP:case r.DOWN:return;default:""===this.searchInput.val()?this.disableAutocomplete():e.keyCode!==r.ENTER&&this.enableAutocomplete()}this.wrap.toggleClass("has-value",!!e.target.value)}},{key:"onSearchInputClick",value:function(e){return e.stopImmediatePropagation()}},{key:"onSearchInputFocus",value:function(){if(this.isFocused=!0,this.wrap.addClass("search-active"),""===this.getValue())return this.getData()}},{key:"getValue",value:function(){return this.searchInput.val()}},{key:"onClearInputClick",value:function(e){return e.preventDefault(),this.searchInput.val("").focus()}},{key:"onSearchInputBlur",value:function(e){if(this.isFocused=!1,this.wrap.removeClass("search-active"),""===this.searchInput.val())return this.restoreOriginalState()}},{key:"addLocationBadge",value:function(e){var t,n,i;return n=null!=e.category?e.category+": ":"",i=null!=e.value?e.value:"",t=""+n+i,this.locationBadgeEl.text(t).show(),this.wrap.addClass("has-location-badge")}},{key:"hasLocationBadge",value:function(){return this.wrap.is(".has-location-badge")}},{key:"restoreOriginalState",value:function(){var e,t,n,i;for(n=Object.keys(this.originalState),e=0,i=n.length;e<i;e+=1)t=n[e],this.getElement("#"+t).val(this.originalState[t]);return""===this.originalState._location?this.locationBadgeEl.hide():this.addLocationBadge({value:this.originalState._location})}},{key:"badgePresent",value:function(){return this.locationBadgeEl.length}},{key:"resetSearchState",value:function(){var e,t,n,i,r;for(n=Object.keys(this.originalState),r=[],e=0,i=n.length;e<i&&"_location"!==(t=n[e]);e+=1)r.push(this.getElement("#"+t).val(""));return r}},{key:"removeLocationBadge",value:function(){return this.locationBadgeEl.hide(),this.resetSearchState(),this.wrap.removeClass("has-location-badge"),this.disableAutocomplete()}},{key:"disableAutocomplete",value:function(){!this.searchInput.hasClass("disabled")&&this.dropdown.hasClass("open")&&(this.searchInput.addClass("disabled"),this.dropdown.removeClass("open").trigger("hidden.bs.dropdown"),this.restoreMenu())}},{key:"restoreMenu",value:function(){var e;return e="<ul> <li><a class='dropdown-menu-empty-link is-focused'>Loading...</a></li> </ul>",this.dropdownContent.html(e)}},{key:"onClick",value:function(e,t,n){if(-1!==location.pathname.indexOf(e.url))return n.metaKey||n.preventDefault(),this.badgePresent||("Projects"===e.category&&(this.projectInputEl.val(e.id),this.addLocationBadge({value:"This project"})),"Groups"===e.category&&(this.groupInputEl.val(e.id),this.addLocationBadge({value:"This group"}))),t.removeClass("is-active"),this.disableAutocomplete(),this.searchInput.val("").focus()}}]),i}();i.SearchAutocomplete=o,e(function(){var t=e(".js-search-project-options"),n=e(".js-search-group-options"),i=e(".js-search-dashboard-options");if(t.length){gl.projectOptions=gl.projectOptions||{};var r=t.data("project-path");gl.projectOptions[r]={name:t.data("name"),issuesPath:t.data("issues-path"),mrPath:t.data("mr-path")}}if(n.length){gl.groupOptions=gl.groupOptions||{};var o=n.data("group-path");gl.groupOptions[o]={name:n.data("name"),issuesPath:n.data("issues-path"),mrPath:n.data("mr-path")}}i.length&&(gl.dashboardOptions={issuesPath:i.data("issues-path"),mrPath:i.data("mr-path")})})}(window.gl||(window.gl={}))}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./settings_panels.js":function(e,t,n){"use strict";(function(e){function n(e,t){e.addClass("expanded"),t.off("animationend.expandSectionParent")}function i(e){e.find(".js-settings-toggle").text("Collapse");var t=e.find(".settings-content");t.addClass("expanded").off("scroll.expandSection").scrollTop(0),t.hasClass("no-animate")?n(e,t):t.on("animationend.expandSectionParent",function(){return n(e,t)})}function r(e){e.find(".js-settings-toggle").text("Expand"),e.find(".settings-content").removeClass("expanded").on("scroll.expandSection",function(){return i(e)}),e.removeClass("expanded")}function o(e){var t=e.find(".settings-content");t.removeClass("no-animate"),t.hasClass("expanded")?r(e):i(e)}function a(){e(".settings").each(function(t,n){var r=e(n);r.on("click.toggleSection",".js-settings-toggle",function(){return o(r)}),r.find(".settings-content:not(.expanded)").on("scroll.expandSection",function(){return i(r)})})}t.a=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./shortcuts.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/js-cookie/src/js.cookie.js"),i=n.n(t),r=n("./shortcuts_dashboard_navigation.js");(function(){this.Shortcuts=function(){function t(i){var o=this;this.onToggleHelp=this.onToggleHelp.bind(this),this.enabledHelp=[],i||Mousetrap.reset(),Mousetrap.bind("?",this.onToggleHelp),Mousetrap.bind("s",t.focusSearch),Mousetrap.bind("f",function(e){return o.focusFilter(e)}),Mousetrap.bind("p b",this.onTogglePerfBar);var a=e(".global-dropdown-menu"),s=e(".global-dropdown-toggle");e(".global-dropdown").on("hide.bs.dropdown",function(){a.removeClass("shortcuts")}),Mousetrap.bind("n",function(){a.toggleClass("shortcuts"),s.trigger("click"),a.is(":visible")||s.blur()}),Mousetrap.bind("shift+t",function(){return n.i(r.a)(".shortcuts-todos")}),Mousetrap.bind("shift+a",function(){return n.i(r.a)(".dashboard-shortcuts-activity")}),Mousetrap.bind("shift+i",function(){return n.i(r.a)(".dashboard-shortcuts-issues")}),Mousetrap.bind("shift+m",function(){return n.i(r.a)(".dashboard-shortcuts-merge_requests")}),Mousetrap.bind("shift+p",function(){return n.i(r.a)(".dashboard-shortcuts-projects")}),Mousetrap.bind("shift+g",function(){return n.i(r.a)(".dashboard-shortcuts-groups")}),Mousetrap.bind("shift+l",function(){return n.i(r.a)(".dashboard-shortcuts-milestones")}),Mousetrap.bind("shift+s",function(){return n.i(r.a)(".dashboard-shortcuts-snippets")}),Mousetrap.bind(["ctrl+shift+p","command+shift+p"],this.toggleMarkdownPreview),"undefined"!=typeof findFileURL&&null!==findFileURL&&Mousetrap.bind("t",function(){return gl.utils.visitUrl(findFileURL)})}return t.prototype.onToggleHelp=function(e){return e.preventDefault(),t.toggleHelp(this.enabledHelp)},t.prototype.onTogglePerfBar=function(e){e.preventDefault();"true"===i.a.get("perf_bar_enabled")?i.a.remove("perf_bar_enabled",{path:"/"}):i.a.set("perf_bar_enabled","true",{path:"/"}),gl.utils.refreshCurrentPage()},t.prototype.toggleMarkdownPreview=function(t){var n=e(t.target),i=n.closest("form");return n.hasClass("js-note-text")&&e(".js-md-preview-button",i).focus(),e(document).triggerHandler("markdown-preview:toggle",[t])},t.toggleHelp=function(t){var n;return n=e("#modal-shortcuts"),n.length?void n.modal("toggle"):e.ajax({url:gon.shortcuts_path,dataType:"script",success:function(n){var i,r,o,a;if(t&&t.length>0){for(a=[],i=0,o=t.length;i<o;i+=1)r=t[i],a.push(e(r).show());return a}return e(".hidden-shortcut").show(),e(".js-more-help-button").remove()}})},t.prototype.focusFilter=function(t){return null==this.filterInput&&(this.filterInput=e("input[type=search]",".nav-controls")),this.filterInput.focus(),t.preventDefault()},t.focusSearch=function(t){return e("#search").focus(),t.preventDefault()},t}(),e(document).on("click.more_help",".js-more-help-button",function(t){return e(this).remove(),e(".hidden-shortcut").show(),t.preventDefault()}),Mousetrap.stopCallback=function(){var e;return e=Mousetrap.stopCallback,function(t,n,i){return-1===["ctrl+shift+p","command+shift+p"].indexOf(i)&&e.apply(this,arguments)}}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./shortcuts_blob.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n("./shortcuts.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s={skipResetBindings:!1,fileBlobPermalinkUrl:null},l=function(e){function t(e){i(this,t);var n=Object.assign({},s,e),o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.skipResetBindings));return o.options=n,Mousetrap.bind("y",o.moveToFilePermalink.bind(o)),o}return o(t,e),a(t,[{key:"moveToFilePermalink",value:function(){if(this.options.fileBlobPermalinkUrl){var e=gl.utils.getLocationHash(),t=e?"#"+e:"";gl.utils.visitUrl(""+this.options.fileBlobPermalinkUrl+t)}}}]),t}(Shortcuts);t.a=l},"./shortcuts_dashboard_navigation.js":function(e,t,n){"use strict";t.a=function(e){var t=document.querySelector(e).getAttribute("href");t&&(window.location=t)}},"./shortcuts_find_file.js":function(e,t,n){"use strict";n("./shortcuts_navigation.js");(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ShortcutsFindFile=function(t){function n(e){var t;this.projectFindFile=e,n.__super__.constructor.call(this),t=Mousetrap.stopCallback,Mousetrap.stopCallback=function(e){return function(n,i,r){return i!==e.projectFindFile.inputElement[0]||"up"!==r&&"down"!==r&&"esc"!==r&&"enter"!==r?t(n,i,r):(n.preventDefault(),!1)}}(this),Mousetrap.bind("up",this.projectFindFile.selectRowUp),Mousetrap.bind("down",this.projectFindFile.selectRowDown),Mousetrap.bind("esc",this.projectFindFile.goToTree),Mousetrap.bind("enter",this.projectFindFile.goToBlob)}return e(n,t),n}(ShortcutsNavigation)}).call(window)},"./shortcuts_issuable.js":function(e,t,n){"use strict";(function(e){var t=n("../../../node_modules/mousetrap/mousetrap.js");n.n(t),n("./shortcuts_navigation.js");(function(){var t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;this.ShortcutsIssuable=function(n){function i(e){i.__super__.constructor.call(this),Mousetrap.bind("a",this.openSidebarDropdown.bind(this,"assignee")),Mousetrap.bind("m",this.openSidebarDropdown.bind(this,"milestone")),Mousetrap.bind("r",function(e){return function(){return e.replyWithSelectedText(),!1}}(this)),Mousetrap.bind("e",function(e){return function(){return e.editIssue(),!1}}(this)),Mousetrap.bind("l",this.openSidebarDropdown.bind(this,"labels")),e?this.enabledHelp.push(".hidden-shortcut.merge_requests"):this.enabledHelp.push(".hidden-shortcut.issues")}return t(i,n),i.prototype.replyWithSelectedText=function(){var t,n,i,r,o,a=e(".js-main-target-form #note_note");if(!(n=window.gl.utils.getSelectedFragment()))return void a.focus();if(i=window.gl.CopyAsGFM.transformGFMSelection(n.cloneNode(!0)),r=window.gl.CopyAsGFM.nodeToGFM(i),""!==r.trim()){t=_.map(r.split("\n"),function(e){return("> "+e).trim()+"\n"}),o=""!==a.val().trim()&&"\n\n"||"",a.val(function(e,n){return n+o+t.join("")+"\n"}),a.trigger("input");var s=document.createEvent("Event");return s.initEvent("autosize:update",!0,!1),a.get(0).dispatchEvent(s),a.focus()}},i.prototype.editIssue=function(){var t;t=e(".issuable-edit"),t.get(0).click()},i.prototype.openSidebarDropdown=function(e){return sidebar.openDropdown(e),!1},i}(ShortcutsNavigation)}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./shortcuts_navigation.js":function(e,t,n){"use strict";var i=n("./shortcuts_dashboard_navigation.js");n("./shortcuts.js");(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ShortcutsNavigation=function(t){function r(){r.__super__.constructor.call(this),Mousetrap.bind("g p",function(){return n.i(i.a)(".shortcuts-project")}),Mousetrap.bind("g e",function(){return n.i(i.a)(".shortcuts-project-activity")}),Mousetrap.bind("g f",function(){return n.i(i.a)(".shortcuts-tree")}),Mousetrap.bind("g c",function(){return n.i(i.a)(".shortcuts-commits")}),Mousetrap.bind("g j",function(){return n.i(i.a)(".shortcuts-builds")}),Mousetrap.bind("g n",function(){return n.i(i.a)(".shortcuts-network")}),Mousetrap.bind("g d",function(){return n.i(i.a)(".shortcuts-repository-charts")}),Mousetrap.bind("g i",function(){return n.i(i.a)(".shortcuts-issues")}),Mousetrap.bind("g b",function(){return n.i(i.a)(".shortcuts-issue-boards")}),Mousetrap.bind("g m",function(){return n.i(i.a)(".shortcuts-merge_requests")}),Mousetrap.bind("g t",function(){return n.i(i.a)(".shortcuts-todos")}),Mousetrap.bind("g w",function(){return n.i(i.a)(".shortcuts-wiki")}),Mousetrap.bind("g s",function(){return n.i(i.a)(".shortcuts-snippets")}),Mousetrap.bind("i",function(){return n.i(i.a)(".shortcuts-new-issue")}),this.enabledHelp.push(".hidden-shortcut.project")}return e(r,t),r}(Shortcuts)}).call(window)},"./shortcuts_network.js":function(e,t,n){"use strict";n("./shortcuts_navigation.js");(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ShortcutsNetwork=function(t){function n(e){this.graph=e,n.__super__.constructor.call(this),Mousetrap.bind(["left","h"],this.graph.scrollLeft),Mousetrap.bind(["right","l"],this.graph.scrollRight),Mousetrap.bind(["up","k"],this.graph.scrollUp),Mousetrap.bind(["down","j"],this.graph.scrollDown),Mousetrap.bind(["shift+up","shift+k"],this.graph.scrollTop),Mousetrap.bind(["shift+down","shift+j"],this.graph.scrollBottom),this.enabledHelp.push(".hidden-shortcut.network")}return e(n,t),n}(ShortcutsNavigation)}).call(window)},"./shortcuts_wiki.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./shortcuts_dashboard_navigation.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Mousetrap.bind("e",e.editWiki),e}return o(t,e),s(t,[{key:"editWiki",value:function(){n.i(a.a)(".js-wiki-edit")}}]),t}(ShortcutsNavigation);t.a=l},"./sidebar_height_manager.js":function(e,t,n){"use strict";(function(e){t.a={init:function(){var t=this;if(!this.initialized){this.$window=e(window),this.$rightSidebar=e(".js-right-sidebar"),this.$navHeight=e(".navbar-gitlab").outerHeight()+e(".layout-nav").outerHeight()+e(".sub-nav-scroll").outerHeight();var n=_.throttle(function(){return t.setSidebarHeight()},20),i=_.debounce(function(){return t.setSidebarHeight()},200);this.$window.on("scroll",n),this.$window.on("resize",i),this.initialized=!0}},setSidebarHeight:function(){var e=window.pageYOffset||0,t=this.$navHeight-e;if(t>0){var n=window.innerHeight-t;this.$rightSidebar.outerHeight(n),this.sidebarHeightIsCustom=!0}else this.sidebarHeightIsCustom&&(this.$rightSidebar.outerHeight("100%"),this.sidebarHeightIsCustom=!1)}}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./signin_tabs_memoizer.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./lib/utils/accessor.js"),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.currentTabKey,o=void 0===n?"current_signin_tab":n,a=t.tabSelector,s=void 0===a?"ul.nav-tabs":a;i(this,e),this.currentTabKey=o,this.tabSelector=s,this.isLocalStorageAvailable=r.a.isLocalStorageAccessSafe(),this.bootstrap()}return o(e,[{key:"bootstrap",value:function(){var e=this,t=document.querySelectorAll(this.tabSelector);t.length>0&&t[0].addEventListener("click",function(t){if(t.target&&"A"===t.target.nodeName){var n=t.target.getAttribute("href");e.saveData(n)}}),this.showTab()}},{key:"showTab",value:function(){var e=this.readData();if(e){var t=document.querySelector(this.tabSelector+' a[href="'+e+'"]');t&&t.click()}}},{key:"saveData",value:function(e){if(this.isLocalStorageAvailable)return window.localStorage.setItem(this.currentTabKey,e)}},{key:"readData",value:function(){return this.isLocalStorageAvailable?window.localStorage.getItem(this.currentTabKey):null}}]),e}();t.a=a},"./single_file_diff.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./files_comment_button.js"),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a='<div class="diff-content"></div>',s='<i class="fa fa-spinner fa-spin"></i>',l='<div class="nothing-here-block diff-collapsed">This diff is collapsed. <a class="click-to-expand">Click to expand it.</a></div>',u=function(){function t(n){i(this,t),this.file=n,this.toggleDiff=this.toggleDiff.bind(this),this.content=e(".diff-content",this.file),this.$toggleIcon=e(".diff-toggle-caret",this.file),this.diffForPath=this.content.find("[data-diff-for-path]").data("diff-for-path"),this.isOpen=!this.diffForPath,this.diffForPath?(this.collapsedContent=this.content,this.loadingContent=e(a).addClass("loading").html(s).hide(),this.content=null,this.collapsedContent.after(this.loadingContent),this.$toggleIcon.addClass("fa-caret-right")):(this.collapsedContent=e(a).html(l).hide(),this.content.after(this.collapsedContent),this.$toggleIcon.addClass("fa-caret-down")),e(".js-file-title, .click-to-expand",this.file).on("click",function(t){this.toggleDiff(e(t.target))}.bind(this))}return o(t,[{key:"toggleDiff",value:function(e,t){if(e.hasClass("js-file-title")||e.hasClass("click-to-expand")||e.hasClass("diff-toggle-caret"))if(this.isOpen=!this.isOpen,this.isOpen||this.hasError){if(!this.content)return this.$toggleIcon.addClass("fa-caret-down").removeClass("fa-caret-right"),this.getContentHTML(t);this.collapsedContent.hide(),this.content.show(),this.$toggleIcon.addClass("fa-caret-down").removeClass("fa-caret-right"),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}else this.content.hide(),this.$toggleIcon.addClass("fa-caret-right").removeClass("fa-caret-down"),this.collapsedContent.show(),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}},{key:"getContentHTML",value:function(t){this.collapsedContent.hide(),this.loadingContent.show(),e.get(this.diffForPath,function(n){return function(i){n.loadingContent.hide(),i.html?(n.content=e(i.html),n.content.syntaxHighlight()):(n.hasError=!0,n.content=e('<div class="nothing-here-block"><i class="fa fa-warning"></i> Could not load diff</div>')),n.collapsedContent.after(n.content),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents(),r.a.init(e(n.file)),t&&t()}}(this))}}]),t}();t.a=u}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./smart_interval.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,i),this.cfg={callback:e.callback,startingInterval:e.startingInterval,maxInterval:e.maxInterval,hiddenInterval:e.hiddenInterval,incrementByFactorOf:e.incrementByFactorOf,lazyStart:e.lazyStart,immediateExecution:e.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pageVisibility:"visible"},this.initInterval()}return n(i,[{key:"start",value:function(){var e=this,t=this.cfg,n=this.state;t.immediateExecution&&(t.immediateExecution=!1,t.callback()),n.intervalId=window.setInterval(function(){t.callback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume())},this.getCurrentInterval())}},{key:"cancel",value:function(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}},{key:"onVisibilityHidden",value:function(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}},{key:"resume",value:function(){this.stopTimer(),this.start()}},{key:"onVisibilityVisible",value:function(){this.cancel(),this.start()}},{key:"destroy",value:function(){this.cancel(),document.removeEventListener("visibilitychange",this.handleVisibilityChange),e(document).off("visibilitychange").off("beforeunload")}},{key:"initInterval",value:function(){this.cfg.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}},{key:"initVisibilityChangeHandling",value:function(){document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this))}},{key:"initPageUnloadHandling",value:function(){var t=this;e(document).on("beforeunload",function(){return t.cancel()})}},{key:"handleVisibilityChange",value:function(e){this.state.pageVisibility=e.target.visibilityState,(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}},{key:"getCurrentInterval",value:function(){return this.state.currentInterval}},{key:"setCurrentInterval",value:function(e){this.state.currentInterval=e}},{key:"incrementInterval",value:function(){var e=this.cfg,t=this.getCurrentInterval();if(!e.hiddenInterval||this.isPageVisible()){var n=t*e.incrementByFactorOf;n>e.maxInterval&&(n=e.maxInterval),this.setCurrentInterval(n)}}},{key:"isPageVisible",value:function(){return"visible"===this.state.pageVisibility}},{key:"stopTimer",value:function(){var e=this.state;e.intervalId=window.clearInterval(e.intervalId)}}]),i}();window.gl.SmartInterval=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./snippets_list.js":function(e,t,n){(function(e){function t(){var t=e(".snippets-list-holder");t.find(".pagination").on("ajax:success",function(e,n){t.replaceWith(n.html)})}window.gl.SnippetsList=t}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./star.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function t(){n(this,t),e(".project-home-panel .toggle-star").on("ajax:success",function(t,n,i,r){var o,a,s,l;s=e(this),a=s.find("span"),o=s.find("i"),(l=function(e){s.parent().find(".star-count").text(n.star_count),e?(a.removeClass("starred").text("Star"),o.removeClass("fa-star").addClass("fa-star-o")):(a.addClass("starred").text("Unstar"),o.removeClass("fa-star-o").addClass("fa-star"))})(a.hasClass("starred"))}).on("ajax:error",function(e,t,n,i){new Flash("Star toggle failed. Try again later.","alert")})};t.a=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./subscription.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function i(e){t(this,i),this.containerElm=e;var n=e.querySelector(".js-subscribe-button");n&&(n.classList.remove("js-subscribe-button"),n.addEventListener("click",this.toggleSubscription.bind(this)))}return n(i,[{key:"toggleSubscription",value:function(t){var n=t.currentTarget,i=n.querySelector("span");if(i&&!n.classList.contains("disabled")){n.classList.add("disabled");var r="subscribe"!==i.innerHTML.trim().toLowerCase(),o=this.containerElm.dataset.url;e.post(o,function(){n.classList.remove("disabled"),document.querySelector("html").classList.contains("issue-boards-page")?gl.issueBoards.boardStoreIssueSet("subscribed",!gl.issueBoards.BoardsStore.detail.issue.subscribed):i.innerHTML=r?"Subscribe":"Unsubscribe"})}}}],[{key:"bindAll",value:function(e){[].forEach.call(document.querySelectorAll(e),function(e){return new i(e)})}}]),i}();window.gl=window.gl||{},window.gl.Subscription=i}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./subscription_select.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function n(){t(this,n),e(".js-subscription-event").each(function(t,n){var i;return i=e(n).data("field-name"),e(n).glDropdown({selectable:!0,fieldName:i,toggleLabel:function(e){return function(e,t,n){var i,r;return r="Subscription",i=n.dropdown.find(".is-active"),i.length&&(r=i.text()),r}}(),clicked:function(e){return e.e.preventDefault()},id:function(t,n){return e(n).data("id")}})})};window.SubscriptionSelect=n}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./syntax_highlight.js":function(e,t,n){(function(e){e.fn.syntaxHighlight=function(){var t;return e(this).hasClass("js-syntax-highlight")?e(this).addClass(gon.user_color_scheme):(t=e(this).find(".js-syntax-highlight"),t.length?t.syntaxHighlight():void 0)}}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./task_list.js":function(e,t,n){"use strict";(function(e){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("../../../node_modules/deckar01-task_list/dist/task_list.js"),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.selector=e.selector,this.dataType=e.dataType,this.fieldName=e.fieldName,this.onSuccess=e.onSuccess||function(){},this.onError=function(e){var t="";return e.responseJSON&&(t=e.responseJSON.errors.join(" ")),new Flash(t||"Update failed","alert")},this.init()}return a(t,[{key:"init",value:function(){this.disable(),e(this.selector+" .js-task-list-container").taskList("enable"),e(document).on("tasklist:changed",this.selector+" .js-task-list-container",this.update.bind(this))}},{key:"disable",value:function(){e(this.selector+" .js-task-list-container").taskList("disable"),e(document).off("tasklist:changed",this.selector+" .js-task-list-container")}},{key:"update",value:function(t){var n=e(t.target),r={};return r[this.dataType]=i({},this.fieldName,n.val()),e.ajax({type:"PATCH",url:n.data("update-url")||e("form.js-issuable-update").attr("action"),data:r,success:this.onSuccess,error:this.onError})}}]),t}();t.a=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./templates/issuable_template_selector.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("./api.js"),a=n("./blob/template_selector.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(n){var l=function(n){function a(){var n;t(this,a);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];var l=i(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(o)));l.projectPath=l.dropdown.data("project-path"),l.namespacePath=l.dropdown.data("namespace-path"),l.issuableType=l.$dropdownContainer.data("issuable-type"),l.titleInput=e("#"+l.issuableType+"_title");var u={name:l.dropdown.data("selected")};return u.name&&l.requestFile(u),e(".reset-template",l.dropdown.parent()).on("click",function(){l.setInputValueToTemplateContent()}),e(".no-template",l.dropdown.parent()).on("click",function(){l.currentTemplate.content="",l.setInputValueToTemplateContent(),e(".dropdown-toggle-text",l.dropdown).text("Choose a template")}),l}return r(a,n),s(a,[{key:"requestFile",value:function(e){var t=this;this.startLoadingSpinner(),o.a.issueTemplate(this.namespacePath,this.projectPath,e.name,this.issuableType,function(e,n){t.currentTemplate=n,e||(t.stopLoadingSpinner(),t.setInputValueToTemplateContent())})}},{key:"setInputValueToTemplateContent",value:function(){""===this.titleInput.val()?(this.setEditorContent(this.currentTemplate,{skipFocus:!0}),this.titleInput.focus()):this.setEditorContent(this.currentTemplate,{skipFocus:!1})}}]),a}(a.a);n.IssuableTemplateSelector=l}(window.gl||(window.gl={}))}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./templates/issuable_template_selectors.js":function(e,t,n){(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(i){var r=function(){function i(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.$dropdowns,a=r.editor;t(this,i),this.$dropdowns=o||e(".js-issuable-selector"),this.editor=a||this.initEditor(),this.$dropdowns.each(function(t,i){var r=e(i);new gl.IssuableTemplateSelector({pattern:/(\.md)/,data:r.data("data"),wrapper:r.closest(".js-issuable-selector-wrap"),dropdown:r,editor:n.editor})})}return n(i,[{key:"initEditor",value:function(){var t=e(".markdown-area");return t.setValue=t.val,t.getValue=t.val,t}}]),i}();i.IssuableTemplateSelectors=r}(window.gl||(window.gl={}))}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./todos.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("./users_select.js"),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function t(){i(this,t),this.initFilters(),this.bindEvents(),this.todo_ids=[],this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}return o(t,[{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper)}},{key:"unbindEvents",value:function(){e(".js-done-todo, .js-undo-todo, .js-add-todo").off("click",this.updateRowStateClickedWrapper),e(".js-todos-mark-all",".js-todos-undo-all").off("click",this.updateallStateClickedWrapper),e(".todo").off("click",this.goToTodoUrl)}},{key:"bindEvents",value:function(){this.updateRowStateClickedWrapper=this.updateRowStateClicked.bind(this),this.updateAllStateClickedWrapper=this.updateAllStateClicked.bind(this),e(".js-done-todo, .js-undo-todo, .js-add-todo").on("click",this.updateRowStateClickedWrapper),e(".js-todos-mark-all, .js-todos-undo-all").on("click",this.updateAllStateClickedWrapper),e(".todo").on("click",this.goToTodoUrl)}},{key:"initFilters",value:function(){return this.initFilterDropdown(e(".js-project-search"),"project_id",["text"]),this.initFilterDropdown(e(".js-type-search"),"type"),this.initFilterDropdown(e(".js-action-search"),"action_id"),e("form.filter-form").on("submit",function(t){t.preventDefault(),gl.utils.visitUrl(this.action+"&"+e(this).serialize())}),new r.a}},{key:"initFilterDropdown",value:function(e,t,n){e.glDropdown({fieldName:t,selectable:!0,filterable:!!n,search:{fields:n},data:e.data("data"),clicked:function(){return e.closest("form.filter-form").submit()}})}},{key:"updateRowStateClicked",value:function(t){var n=this;t.preventDefault();var i=t.target;i.setAttribute("disabled",!0),i.classList.add("disabled"),e.ajax({type:"POST",url:i.dataset.href,dataType:"json",data:{_method:i.dataset.method},success:function(e){return n.updateRowState(i),n.updateBadges(e)}})}},{key:"updateRowState",value:function(e){var t=e.closest("li"),n=t.querySelector(".js-undo-todo"),i=t.querySelector(".js-done-todo");e.classList.add("hidden"),e.removeAttribute("disabled"),e.classList.remove("disabled"),e===i?(t.classList.add("done-reversible"),n.classList.remove("hidden")):e===n?(t.classList.remove("done-reversible"),i.classList.remove("hidden")):t.parentNode.removeChild(t)}},{key:"updateAllStateClicked",value:function(t){var n=this;t.preventDefault();var i=t.currentTarget,r={_method:i.dataset.method,ids:this.todo_ids};i.setAttribute("disabled",!0),i.classList.add("disabled"),e.ajax({type:"POST",url:i.dataset.href,dataType:"json",data:r,success:function(e){return n.updateAllState(i,e),n.updateBadges(e)}})}},{key:"updateAllState",value:function(e,t){var n=document.querySelector(".js-todos-mark-all"),i=document.querySelector(".js-todos-undo-all"),r=document.querySelector(".js-todos-list-container"),o=document.querySelector(".js-nothing-here-container");e.removeAttribute("disabled"),e.classList.remove("disabled"),this.todo_ids=e===n?t.updated_ids:[],i.classList.toggle("hidden"),n.classList.toggle("hidden"),r.classList.toggle("hidden"),o.classList.toggle("hidden")}},{key:"updateBadges",value:function(t){e(document).trigger("todo:toggle",t.count),document.querySelector(".todos-pending .badge").innerHTML=t.count,document.querySelector(".todos-done .badge").innerHTML=t.done_count}},{key:"goToTodoUrl",value:function(e){var t=this.dataset.url;if(t)if(gl.utils.isMetaClick(e)){var n=e.target;if(e.preventDefault(),"IMG"===n.tagName){var i=n.parentElement.getAttribute("href");window.open(i,"_blank")}else window.open(t,"_blank")}else gl.utils.visitUrl(t)}}]),t}();t.a=a}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./tree.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(){n(this,t),this.initKeyNav(),e(".tree-content-holder .tree-item").on("click",function(t){var n,i;if(n=e(t.target),i=e(".tree-item-file-name a",this).attr("href"),!n.is("a")&&!n.is(".str-truncated"))return t.metaKey||2===t.which?(t.preventDefault(),window.open(i,"_blank")):gl.utils.visitUrl(i)}),e("span.log_loading:first").removeClass("hide")}return i(t,[{key:"initKeyNav",value:function(){var t,n;return t=e("tr.tree-item"),n=null,e("body").keydown(function(i){var r,o;return(!(e("input:focus").length>0)||38!==i.which&&40!==i.which)&&(40===i.which?(n?(r=n.next(),r.length>0&&(n.removeClass("selected"),n=r.addClass("selected"))):n=t.eq(0).addClass("selected"),e(n).focus()):38===i.which?(n?(r=n.prev(),r.length>0&&(n.removeClass("selected"),n=r.addClass("selected"))):n=t.last().addClass("selected"),e(n).focus()):13===i.which&&(o=e(".tree-item.selected .tree-item-file-name a").attr("href"))?gl.utils.visitUrl(o):void 0)})}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./u2f/authenticate.js":function(e,t,n){(function(e){!function(){(window.gl||(window.gl={})).U2FAuthenticate=function(){function t(e,t,n,i,r){this.container=e,this.renderNotSupported=this.renderNotSupported.bind(this),this.renderAuthenticated=this.renderAuthenticated.bind(this),this.renderError=this.renderError.bind(this),this.renderInProgress=this.renderInProgress.bind(this),this.renderTemplate=this.renderTemplate.bind(this),this.authenticate=this.authenticate.bind(this),this.start=this.start.bind(this),this.appId=n.app_id,this.challenge=n.challenge,this.form=t,this.fallbackButton=i,this.fallbackUI=r,this.fallbackButton&&this.fallbackButton.addEventListener("click",this.switchToFallbackUI.bind(this)),this.signRequests=n.sign_requests.map(function(e){return _(e).omit("challenge")})}return t.prototype.start=function(){return U2FUtil.isU2FSupported()?this.renderInProgress():this.renderNotSupported()},t.prototype.authenticate=function(){return u2f.sign(this.appId,this.challenge,this.signRequests,function(e){return function(t){var n;return t.errorCode?(n=new U2FError(t.errorCode,"authenticate"),e.renderError(n)):e.renderAuthenticated(JSON.stringify(t))}}(this),10)},t.prototype.templates={notSupported:"#js-authenticate-u2f-not-supported",setup:"#js-authenticate-u2f-setup",inProgress:"#js-authenticate-u2f-in-progress",error:"#js-authenticate-u2f-error",authenticated:"#js-authenticate-u2f-authenticated"},t.prototype.renderTemplate=function(t,n){var i,r;return r=e(this.templates[t]).html(),i=_.template(r),this.container.html(i(n))},t.prototype.renderInProgress=function(){return this.renderTemplate("inProgress"),this.authenticate()},t.prototype.renderError=function(e){return this.renderTemplate("error",{error_message:e.message(),error_code:e.errorCode}),this.container.find("#js-u2f-try-again").on("click",this.renderInProgress)},t.prototype.renderAuthenticated=function(e){this.renderTemplate("authenticated");var t=this.container[0];t.querySelector("#js-device-response").value=e,t.querySelector(this.form).submit(),this.fallbackButton.classList.add("hidden")},t.prototype.renderNotSupported=function(){return this.renderTemplate("notSupported")},t.prototype.switchToFallbackUI=function(){this.fallbackButton.classList.add("hidden"),this.container[0].classList.add("hidden"),this.fallbackUI.classList.remove("hidden")},t}()}()}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./u2f/error.js":function(e,t){(function(){this.U2FError=function(){function e(e,t){this.errorCode=e,this.message=this.message.bind(this),this.httpsDisabled="https:"!==window.location.protocol,this.u2fFlowType=t}return e.prototype.message=function(){if(this.errorCode===u2f.ErrorCodes.BAD_REQUEST&&this.httpsDisabled)return"U2F only works with HTTPS-enabled websites. Contact your administrator for more details.";if(this.errorCode===u2f.ErrorCodes.DEVICE_INELIGIBLE){if("authenticate"===this.u2fFlowType)return"This device has not been registered with us.";if("register"===this.u2fFlowType)return"This device has already been registered with us."}return"There was a problem communicating with your device."},e}()}).call(window)},"./u2f/register.js":function(e,t,n){(function(e){(function(){this.U2FRegister=function(){function t(e,t){this.container=e,this.renderNotSupported=this.renderNotSupported.bind(this),this.renderRegistered=this.renderRegistered.bind(this),this.renderError=this.renderError.bind(this),this.renderInProgress=this.renderInProgress.bind(this),this.renderSetup=this.renderSetup.bind(this),this.renderTemplate=this.renderTemplate.bind(this),this.register=this.register.bind(this),this.start=this.start.bind(this),this.appId=t.app_id,this.registerRequests=t.register_requests,this.signRequests=t.sign_requests}return t.prototype.start=function(){return U2FUtil.isU2FSupported()?this.renderSetup():this.renderNotSupported()},t.prototype.register=function(){return u2f.register(this.appId,this.registerRequests,this.signRequests,function(e){return function(t){var n;return t.errorCode?(n=new U2FError(t.errorCode,"register"),e.renderError(n)):e.renderRegistered(JSON.stringify(t))}}(this),10)},t.prototype.templates={notSupported:"#js-register-u2f-not-supported",setup:"#js-register-u2f-setup",inProgress:"#js-register-u2f-in-progress",error:"#js-register-u2f-error",registered:"#js-register-u2f-registered"},t.prototype.renderTemplate=function(t,n){var i,r;return r=e(this.templates[t]).html(),i=_.template(r),this.container.html(i(n))},t.prototype.renderSetup=function(){return this.renderTemplate("setup"),this.container.find("#js-setup-u2f-device").on("click",this.renderInProgress)},t.prototype.renderInProgress=function(){return this.renderTemplate("inProgress"),this.register()},t.prototype.renderError=function(e){return this.renderTemplate("error",{error_message:e.message(),error_code:e.errorCode}),this.container.find("#js-u2f-try-again").on("click",this.renderSetup)},t.prototype.renderRegistered=function(e){return this.renderTemplate("registered"),this.container.find("#js-device-response").val(e)},t.prototype.renderNotSupported=function(){return this.renderTemplate("notSupported")},t}()}).call(window)}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./u2f/util.js":function(e,t){(function(){this.U2FUtil=function(){function e(){}return e.isU2FSupported=function(){return window.u2f},e}()}).call(window)},"./usage_ping.js":function(e,t,n){"use strict";(function(e){function n(){var t=e(".usage-data").data("endpoint");e.ajax({type:"GET",url:t,dataType:"html",success:function(t){e(".usage-data").html(t)}})}t.a=n}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./user.js":function(e,t,n){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("../../../node_modules/js-cookie/src/js.cookie.js"),r=n.n(i),o=n("./user_tabs.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function n(e){var i=e.action;t(this,n),this.action=i,this.placeProfileAvatarsToTop(),this.initTabs(),this.hideProjectLimitMessage()}return a(n,[{key:"placeProfileAvatarsToTop",value:function(){e(".profile-groups-avatars").tooltip({placement:"top"})}},{key:"initTabs",value:function(){return new o.a({parentEl:".user-profile",action:this.action})}},{key:"hideProjectLimitMessage",value:function(){var t=this;e(".hide-project-limit-message").on("click",function(n){n.preventDefault(),r.a.set("hide_project_limit_message","false"),e(t).parents(".project-limit-message").remove()})}}]),n}();window.gl=window.gl||{},window.gl.User=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./user_callout.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../node_modules/js-cookie/src/js.cookie.js"),o=n.n(r),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user-callout";i(this,t),this.userCalloutBody=e("."+n),this.cookieName=this.userCalloutBody.data("uid"),this.isCalloutDismissed=o.a.get(this.cookieName),this.init()}return a(t,[{key:"init",value:function(){var t=this;this.isCalloutDismissed&&"false"!==this.isCalloutDismissed||e(".js-close-callout").on("click",function(e){return t.dismissCallout(e)})}},{key:"dismissCallout",value:function(t){var n=e(t.currentTarget);o.a.set(this.cookieName,"true",{expires:365}),n.hasClass("close")&&this.userCalloutBody.remove()}}]),t}();t.a=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./user_tabs.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function t(i){var r=this,o=i.defaultAction,a=i.action,s=i.parentEl;n(this,t),this.loaded={},this.defaultAction=o||"activity",this.action=a||this.defaultAction,this.$parentEl=e(s)||e(document),this._location=window.location,this.$parentEl.find(".nav-links a").each(function(t,n){r.loaded[e(n).attr("data-action")]=!1}),this.actions=Object.keys(this.loaded),this.bindEvents(),"show"===this.action&&(this.action=this.defaultAction),this.activateTab(this.action)}return i(t,[{key:"bindEvents",value:function(){var e=this;this.changeProjectsPageWrapper=this.changeProjectsPage.bind(this),this.$parentEl.off("shown.bs.tab",'.nav-links a[data-toggle="tab"]').on("shown.bs.tab",'.nav-links a[data-toggle="tab"]',function(t){return e.tabShown(t)}),this.$parentEl.on("click",".gl-pagination a",this.changeProjectsPageWrapper)}},{key:"changeProjectsPage",value:function(t){t.preventDefault(),e(".tab-pane.active").empty();var n=e(t.target).attr("href");this.loadTab(this.getCurrentAction(),n)}},{key:"tabShown",value:function(t){var n=e(t.target),i=n.data("action"),r=n.attr("href"),o=n.data("endpoint");return this.setTab(i,o),this.setCurrentAction(r)}},{key:"activateTab",value:function(e){return this.$parentEl.find(".nav-links .js-"+e+"-tab a").tab("show")}},{key:"setTab",value:function(e,t){if(!this.loaded[e]){"activity"===e&&this.loadActivities();return["groups","contributed","projects","snippets"].indexOf(e)>-1?this.loadTab(e,t):void 0}}},{key:"loadTab",value:function(t,n){var i=this;return e.ajax({beforeSend:function(){return i.toggleLoading(!0)},complete:function(){return i.toggleLoading(!1)},dataType:"json",type:"GET",url:n,success:function(n){var r="div#"+t;return i.$parentEl.find(r).html(n.html),i.loaded[t]=!0,gl.utils.localTimeAgo(e(".js-timeago",r))}})}},{key:"loadActivities",value:function(){if(!this.loaded.activity){var e=this.$parentEl.find(".user-calendar");return e.load(e.data("href")),new gl.Activities,this.loaded.activity=!0}}},{key:"toggleLoading",value:function(e){return this.$parentEl.find(".loading-status .loading").toggle(e)}},{key:"setCurrentAction",value:function(e){var t=e;return t=t.replace(/\/+$/,""),t+=this._location.search+this._location.hash,history.replaceState({url:t},document.title,t),t}},{key:"getCurrentAction",value:function(){return this.$parentEl.find(".nav-links .active a").data("action")}}]),t}();t.a=r}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./username_validator.js":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=1e3,o=function(){function t(){var i=this;n(this,t),this.inputElement=e("#new_user_username"),this.inputDomElement=this.inputElement.get(0),this.state={available:!1,valid:!1,pending:!1,empty:!0};var o=_.debounce(function(e){i.validateUsername(e)},r);this.inputElement.on("keyup.username_check",function(){var e=i.inputElement.val();if(i.state.valid=i.inputDomElement.validity.valid,i.state.empty=!e.length,i.state.valid)return o(e);i.renderState()}),this.inputElement.on("invalid",this.interceptInvalid.bind(this))}return i(t,[{key:"renderState",value:function(){return this.clearFieldValidationState(),this.state.valid&&this.state.available?this.setSuccessState():this.state.empty?this.clearFieldValidationState():this.state.pending?this.setPendingState():this.state.available?this.state.valid?void 0:this.setInvalidState():this.setUnavailableState()}},{key:"interceptInvalid",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"validateUsername",value:function(t){var n=this;if(this.state.valid)return this.state.pending=!0,this.state.available=!1,this.renderState(),e.ajax({type:"GET",url:gon.relative_url_root+"/users/"+t+"/exists",dataType:"json",success:function(e){return n.setAvailabilityState(e.exists)}})}},{key:"setAvailabilityState",value:function(e){e?(this.state.valid=!1,this.state.available=!1):this.state.available=!0,this.state.pending=!1,this.renderState()}},{key:"clearFieldValidationState",value:function(){this.inputElement.siblings("p").hide(),this.inputElement.removeClass("gl-field-error-outline").removeClass("gl-field-success-outline")}},{key:"setUnavailableState",value:function(){var e=this.inputElement.siblings(".username .validation-error");this.inputElement.addClass("gl-field-error-outline").removeClass("gl-field-success-outline"),e.show()}},{key:"setSuccessState",value:function(){var e=this.inputElement.siblings(".username .validation-success");this.inputElement.addClass("gl-field-success-outline").removeClass("gl-field-error-outline"),e.show()}},{key:"setPendingState",value:function(){var t=e(".username .validation-pending");this.state.pending?t.show():t.hide()}},{key:"setInvalidState",value:function(){var t=e(".username .gl-field-error");this.inputElement.addClass("gl-field-error-outline").removeClass("gl-field-success-outline"),t.show()}}]),t}();t.a=o}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./users_select.js":function(e,t,n){"use strict";(function(e){function n(t,n){var r;this.users=this.users.bind(this),this.user=this.user.bind(this),this.usersPath="/autocomplete/users.json",this.userPath="/autocomplete/users/:id.json",null!=t&&("object"===(void 0===t?"undefined":i(t))?this.currentUser=t:this.currentUser=JSON.parse(t)),r=e(n),n||(r=e(".js-user-search")),r.each(function(t){return function(n,i){var r,o,a,s,l,u,c,d,h,f,p,m,g,v,b,y,w,j,k,C={};a=e(i),C.projectId=a.data("project-id"),C.groupId=a.data("group-id"),C.showCurrentUser=a.data("current-user"),C.todoFilter=a.data("todo-filter"),C.todoStateFilter=a.data("todo-state-filter"),C.perPage=a.data("per-page"),j=a.data("null-user"),m=a.data("null-user-default"),k=a.data("showMenuAbove"),w=a.data("any-user"),g=a.data("first-user"),C.authorId=a.data("author-id"),p=a.data("default-label"),v=a.data("issueUpdate"),l=a.closest(".selectbox"),r=l.closest(".block"),c=a.data("ability-name"),u=r.find(".value"),o=r.find(".sidebar-collapsed-user"),s=r.find(".block-loading").fadeOut(),y=m&&j?0:null,void 0===(b=a.data("selected"))&&(b=y);var E=function(){var e=a.closest(".selectbox").find("input[name='"+a.data("field-name")+"'][value=0]");e&&e.remove();var n=document.createElement("input");n.type="hidden",n.name=a.data("field-name");var i=a.data("currentUserInfo");i?(n.value=i.id,n.dataset.meta=i.name):t.currentUser&&(n.value=t.currentUser.id),l?a.parent().before(n):a.after(n)};r[0]&&r[0].addEventListener("assignYourself",E);var T=function(){return l.find('input[name="'+a.data("field-name")+'"]')},x=function(){return T().map(function(e,t){return parseInt(t.value,10)}).get()},S=function(){var e=a.data("max-select");if(e){var t=x();if(t.length>e){var n=t[0];a.closest(".selectbox").find("input[name='"+a.data("field-name")+"'][value="+n+"]").remove(),emitSidebarEvent("sidebar.removeAssignee",{id:n})}}},D=function(e,t){var n=x().filter(function(e){return 0!==e}),i=T().map(function(e,t){return{name:t.dataset.meta,value:parseInt(t.value,10)}}).filter(function(e){return 0!==e.id}).get(0);if(0===n.length)return"Unassigned";if(1===n.length)return i.name;if(t){var r=n.filter(function(t){return t!==e.id});return e.name+" + "+r.length+" more"}return i.name+" + "+(n.length-1)+" more"};return e(".assign-to-me-link").on("click",function(t){if(t.preventDefault(),e(t.currentTarget).hide(),a.data("multiSelect")){E(),S();var n=a.data("currentUserInfo");a.find(".dropdown-toggle-text").text(D(n)).removeClass("is-default")}else{var i=e('input[name="'+a.data("field-name")+'"]');i.val(gon.current_user_id),b=i.val(),a.find(".dropdown-toggle-text").text(gon.current_user_fullname).removeClass("is-default")}}),r.on("click",".js-assign-yourself",function(e){return e.preventDefault(),d(t.currentUser.id)}),d=function(t){var n;return n={},n[c]={},n[c].assignee_id=null!=t?t:null,s.removeClass("hidden").fadeIn(),a.trigger("loading.gl.dropdown"),e.ajax({type:"PUT",dataType:"json",url:v,data:n}).done(function(e){var t;return a.trigger("loaded.gl.dropdown"),s.fadeOut(),t=e.assignee?{name:e.assignee.name,username:e.assignee.username,avatar:e.assignee.avatar_url}:{name:"Unassigned",username:"",avatar:""},u.html(h(t)),o.attr("title",t.name).tooltip("fixTitle"),o.html(f(t))})},f=_.template('<% if( avatar ) { %> <a class="author_link" href="/<%- username %>"> <img width="24" class="avatar avatar-inline s24" alt="" src="<%- avatar %>"> </a> <% } else { %> <i class="fa fa-user"></i> <% } %>'),h=_.template('<% if (username) { %> <a class="author_link bold" href="/<%- username %>"> <% if( avatar ) { %> <img width="32" class="avatar avatar-inline s32" alt="" src="<%- avatar %>"> <% } %> <span class="author"><%- name %></span> <span class="username"> @<%- username %> </span> </a> <% } else { %> <span class="no-value assign-yourself"> No assignee - <a href="#" class="js-assign-yourself"> assign yourself </a> </span> <% } %>'),a.glDropdown({showMenuAbove:k,data:function(e,n){return t.users(e,C,function(t){(this.instance||this.options.instance).options.processData(e,t,n)}.bind(this))},processData:function(e,t,n){var i=t;if(a.hasClass("js-multiselect")&&0===e.length){var r=T(),o=_.uniq(r,!1,function(e){return e.value}).filter(function(e){var t=parseInt(e.value,10);return!i.find(function(e){return e.id===t})&&0!==t}).map(function(e){var t=parseInt(e.value,10),n=e.dataset,i=n.avatarUrl,r=n.avatar_url,o=n.name,a=n.username;return{avatar_url:i||r,id:t,name:o,username:a}});i=t.concat(o)}var s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,f=void 0;if(0===e.length){if(f=0,g)for(l=u=0,c=i.length;u<c;l=u+=1)if(h=i[l],h.username===g){i.splice(l,1),i.unshift(h);break}if(j&&(f+=1,i.unshift({beforeDivider:!0,name:"Unassigned",id:0})),w&&(f+=1,d=w,!0===d&&(d="Any User"),s={beforeDivider:!0,name:d,id:null},i.unshift(s)),f&&i.splice(f,0,"divider"),a.hasClass("js-multiselect")){var p=x().filter(function(e){return 0!==e});if(p.length>0){a.data("dropdown-header")&&(f+=1,i.splice(f,0,{header:a.data("dropdown-header")}));var m=i.filter(function(e){return-1!==p.indexOf(e.id)}).sort(function(e,t){return e.name>t.name});i=i.filter(function(e){return-1===p.indexOf(e.id)}),m.forEach(function(e){f+=1,i.splice(f,0,e)}),i.splice(f+1,0,"divider")}}}n(i),k&&a.data("glDropdown").positionMenuAbove()},filterable:!0,filterRemote:!0,search:{fields:["name","username"]},selectable:!0,fieldName:a.data("field-name"),toggleLabel:function(t,n,i){var r=i.filterInput.val();if(this.multiSelect&&""===r){var o=i.filteredFullData(),s=i.parseData.bind(i);this.processData(r,o,s)}return this.multiSelect?D(t,e(n).hasClass("is-active")):t&&"id"in t&&e(n).hasClass("is-active")?(a.find(".dropdown-toggle-text").removeClass("is-default"),t.text?t.text:t.name):(a.find(".dropdown-toggle-text").addClass("is-default"),p)},defaultLabel:p,hidden:function(e){a.hasClass("js-multiselect")&&emitSidebarEvent("sidebar.saveAssignees"),a.data("always-show-selectbox")||(l.hide(),r=l.closest(".block"),u=r.find(".value"),u.css("display",""))},multiSelect:a.hasClass("js-multiselect"),inputMeta:a.data("input-meta"),clicked:function(t){var n=t.$el,i=t.e,r=(t.isMarking,t.selectedObj);if(a.hasClass("js-multiselect")){var o=n.hasClass("is-active"),s=a.closest(".selectbox").find("input[name='"+a.data("field-name")+"'][value!=0]");if(S(),r.beforeDivider&&"unassigned"===r.name.toLowerCase())s.each(function(e,t){parseInt(t.value,10);t.remove()}),emitSidebarEvent("sidebar.removeAllAssignees");else if(o){emitSidebarEvent("sidebar.addAssignee",r);var l=a.closest(".selectbox").find("input[name='"+a.data("field-name")+"'][value=0]");l&&l.remove()}else 0===s.length&&this.addInput(a.data("field-name"),0,{}),emitSidebarEvent("sidebar.removeAssignee",r);x().find(function(e){return e===gon.current_user_id})?e(".assign-to-me-link").hide():e(".assign-to-me-link").show()}var u,c,h,f;if(h=e("body").data("page"),u="projects:issues:index"===h,c=h===h&&"projects:merge_requests:index"===h,a.hasClass("js-filter-bulk-update")||a.hasClass("js-issuable-form-dropdown")){i.preventDefault();var p=r.id!==b;return b=p?r.id:y,void(b===gon.current_user_id?e(".assign-to-me-link").hide():e(".assign-to-me-link").show())}if(n.closest(".add-issues-modal").length)gl.issueBoards.ModalStore.store.filter[a.data("field-name")]=r.id;else{if(a.hasClass("js-filter-submit")&&(u||c))return Issuable.filterResults(a.closest("form"));if(a.hasClass("js-filter-submit"))return a.closest("form").submit();if(!a.hasClass("js-multiselect"))return f=a.closest(".selectbox").find("input[name='"+a.data("field-name")+"']").val(),d(f)}a.data("max-select")&&x().length===a.data("max-select")&&a.dropdown("toggle")},id:function(e){return e.id},opened:function(t){function n(e){i.find('li[data-user-id="'+e+'"] .dropdown-menu-user-link').addClass("is-active")}var i=e(t.currentTarget),r=x();a.hasClass("js-issue-board-sidebar")&&0===r.length&&this.addInput(a.data("field-name"),0,{}),i.find(".is-active").removeClass("is-active"),r.length>0?x().forEach(function(e){return n(e)}):n(a.hasClass("js-issue-board-sidebar")?0:b)},updateLabel:a.data("dropdown-title"),renderRow:function(e){var t,n,i;i=e.username?"@"+e.username:"",t=!!e.avatar_url&&e.avatar_url;var r=!1;if(this.multiSelect){r=x().find(function(t){return e.id===t});var o=this.fieldName;a.closest(".selectbox").find("input[name='"+o+"'][value='"+e.id+"']").length&&(r=!0)}else r=e.id===b;return n="",null!=e.beforeDivider?e.name:t&&(n="<img src='"+t+"' class='avatar avatar-inline' width='32' />"),"\n            <li data-user-id="+e.id+">\n              <a href='#' class='dropdown-menu-user-link "+(!0===r?"is-active":"")+"'>\n                "+n+"\n                <strong class='dropdown-menu-user-full-name'>\n                  "+e.name+"\n                </strong>\n                "+(i?"<span class='dropdown-menu-user-username'>"+i+"</span>":"")+"\n              </a>\n            </li>\n          "}})}}(this)),e(".ajax-users-select").each(function(t){return function(n,i){var r,o,a,s,l={};return l.skipLdap=e(i).hasClass("skip_ldap"),l.projectId=e(i).data("project-id"),l.groupId=e(i).data("group-id"),l.showCurrentUser=e(i).data("current-user"),l.pushCodeToProtectedBranches=e(i).data("push-code-to-protected-branches"),l.authorId=e(i).data("author-id"),l.skipUsers=e(i).data("skip-users"),s=e(i).data("null-user"),o=e(i).data("any-user"),a=e(i).data("email-user"),r=e(i).data("first-user"),e(i).select2({placeholder:"Search for a user",multiple:e(i).hasClass("multiselect"),minimumInputLength:0,query:function(e){return t.users(e.term,l,function(t){var n,i,l,u,c,d,h,f,p,m;if(i={results:t},0===e.term.length){if(r)for(m=i.results,u=c=0,d=m.length;c<d;u=c+=1)if(p=m[u],p.username===r){i.results.splice(u,1),i.results.unshift(p);break}s&&(f={name:"Unassigned",id:0},i.results.unshift(f)),o&&(h=o,!0===h&&(h="Any User"),n={name:h,id:null},i.results.unshift(n))}if(a&&0===i.results.length&&e.term.match(/^[^@]+@[^@]+$/)){var g=e.term.trim();l={name:'Invite "'+e.term+'"',username:g,id:g},i.results.unshift(l)}return e.callback(i)})},initSelection:function(){var e;return e=1<=arguments.length?[].slice.call(arguments,0):[],t.initSelection.apply(t,e)},formatResult:function(){var e;return e=1<=arguments.length?[].slice.call(arguments,0):[],t.formatResult.apply(t,e)},formatSelection:function(){var e;return e=1<=arguments.length?[].slice.call(arguments,0):[],t.formatSelection.apply(t,e)},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(e){return e}})}}(this))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.emitSidebarEvent=window.emitSidebarEvent||e.noop,n.prototype.initSelection=function(t,n){var i,r;return i=e(t).val(),"0"===i?(r={name:"Unassigned"},n(r)):""!==i?this.user(i,n):void 0},n.prototype.formatResult=function(e){var t;return t=e.avatar_url?e.avatar_url:gon.default_avatar_url,"<div class='user-result "+(e.username?void 0:"no-username")+"'> <div class='user-image'><img class='avatar avatar-inline s32' src='"+t+"'></div> <div class='user-name dropdown-menu-user-full-name'>"+e.name+"</div> <div class='user-username dropdown-menu-user-username'>"+("@"+e.username||"")+"</div> </div>"},n.prototype.formatSelection=function(e){return e.name},n.prototype.user=function(t,n){if(!/^\d+$/.test(t))return!1;var i;return i=this.buildUrl(this.userPath),i=i.replace(":id",t),e.ajax({url:i,dataType:"json"}).done(function(e){return n(e)})},n.prototype.users=function(t,n,i){var r;return r=this.buildUrl(this.usersPath),e.ajax({url:r,data:{search:t,per_page:n.perPage||20,active:!0,project_id:n.projectId||null,group_id:n.groupId||null,skip_ldap:n.skipLdap||null,todo_filter:n.todoFilter||null,todo_state_filter:n.todoStateFilter||null,current_user:n.showCurrentUser||null,push_code_to_protected_branches:n.pushCodeToProtectedBranches||null,author_id:n.authorId||null,skip_users:n.skipUsers||null},dataType:"json"}).done(function(e){return i(e)})},n.prototype.buildUrl=function(e){return null!=gon.relative_url_root&&(e=gon.relative_url_root.replace(/\/$/,"")+e),e},t.a=n}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./version_check_image.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,null,[{key:"bindErrorEvent",value:function(e){e.off("error").on("error",function(){return e.hide()})}}]),e}();t.a=o},"./visibility_select.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){if(i(this,e),!t)throw new Error("VisibilitySelect requires a container element as argument 1");this.container=t,this.helpBlock=this.container.querySelector(".help-block"),this.select=this.container.querySelector("select")}return r(e,[{key:"init",value:function(){this.select?(this.updateHelpText(),this.select.addEventListener("change",this.updateHelpText.bind(this))):this.helpBlock.textContent=this.container.querySelector(".js-locked").dataset.helpBlock}},{key:"updateHelpText",value:function(){this.helpBlock.textContent=this.select.querySelector("option:checked").dataset.description}}]),e}();t.a=o},"./wikis.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../vendor/assets/javascripts/jquery.nicescroll.js"),o=(n.n(r),n("./breakpoints.js")),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s=function(){function t(){var n=this;i(this,t),this.bp=Breakpoints.get(),this.sidebarEl=document.querySelector(".js-wiki-sidebar"),this.sidebarExpanded=!1,e(this.sidebarEl).niceScroll();for(var r=document.querySelectorAll(".js-sidebar-wiki-toggle"),o=0;o<r.length;o+=1)r[o].addEventListener("click",function(e){return n.handleToggleSidebar(e)});this.newWikiForm=document.querySelector("form.new-wiki-page"),this.newWikiForm&&this.newWikiForm.addEventListener("submit",function(e){return n.handleNewWikiSubmit(e)}),window.addEventListener("resize",function(){return n.renderSidebar()}),this.renderSidebar()}return a(t,[{key:"handleNewWikiSubmit",value:function(e){if(this.newWikiForm){var t=this.newWikiForm.querySelector("#new_wiki_path"),n=gl.text.slugify(t.value);if(n.length>0){var i=t.getAttribute("data-wikis-path");window.location.href=i+"/"+n,e.preventDefault()}}}},{key:"handleToggleSidebar",value:function(e){e.preventDefault(),this.sidebarExpanded=!this.sidebarExpanded,this.renderSidebar()}},{key:"sidebarCanCollapse",value:function(){var e=this.bp.getBreakpointSize();return"xs"===e||"sm"===e}},{key:"renderSidebar",value:function(){if(this.sidebarEl){var e=this.sidebarEl.classList;this.sidebarExpanded||!this.sidebarCanCollapse()?e.contains("right-sidebar-expanded")||(e.remove("right-sidebar-collapsed"),e.add("right-sidebar-expanded")):e.contains("right-sidebar-expanded")&&(e.add("right-sidebar-collapsed"),e.remove("right-sidebar-expanded"))}}}]),t}();t.a=s}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"./zen_mode.js":function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n("../../../vendor/assets/javascripts/jquery.scrollTo.js"),o=(n.n(r),n("../../../node_modules/dropzone/dist/dropzone.js")),a=n.n(o),s=n("../../../node_modules/mousetrap/mousetrap.js"),l=(n.n(s),n("../../../node_modules/mousetrap/plugins/pause/mousetrap-pause.js")),u=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());window.Dropzone=a.a;var c=function(){function t(){i(this,t),this.active_backdrop=null,this.active_textarea=null,e(document).on("click",".js-zen-enter",function(t){return t.preventDefault(),e(t.currentTarget).trigger("zen_mode:enter")}),e(document).on("click",".js-zen-leave",function(t){return t.preventDefault(),e(t.currentTarget).trigger("zen_mode:leave")}),e(document).on("zen_mode:enter",function(t){return function(n){return t.enter(e(n.target).closest(".md-area").find(".zen-backdrop"))}}(this)),e(document).on("zen_mode:leave",function(e){return function(t){return e.exit()}}(this)),e(document).on("keydown",function(t){if(27===t.keyCode)return t.preventDefault(),e(document).trigger("zen_mode:leave")})}return u(t,[{key:"enter",value:function(t){return Mousetrap.pause(),this.active_backdrop=e(t),this.active_backdrop.addClass("fullscreen"),this.active_textarea=this.active_backdrop.find("textarea"),this.active_textarea.removeAttr("style"),this.active_textarea.focus()}},{key:"exit",value:function(){if(this.active_textarea)return Mousetrap.unpause(),this.active_textarea.closest(".zen-backdrop").removeClass("fullscreen"),this.scrollTo(this.active_textarea),this.active_textarea=null,this.active_backdrop=null,a.a.forElement(".div-dropzone").enable()}},{key:"scrollTo",value:function(t){return e.scrollTo(t,0,{offset:-150})}}]),t}();t.a=c}).call(t,n("../../../node_modules/jquery/dist/jquery.js"))}},["./main.js"]);
//# sourceMappingURL=main.e69178284448f7e30e91.bundle.js.map